CustomerItemCrossReference is a BusinessClass
    owned by bl
    prefix is OCI
    classic name is OECUSTITEM

    Ontology
        symbolic key is CustomerItemCrossReference
            classic set name is OCISET1

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields
		Item	
        Description is an ItemDescription
            classic name is CUST-DESC
            
    Relations

		CompanyCustomerRel
			one-to-one relation to CompanyCustomer
			Field Mapping uses symbolic key
				related.Company				=	Company
				related.Customer			=	CustomerItemCrossReference.Customer
                
        OtherItemsForCustomerItemCrossReferenceRel
        	one-to-many relation to CustomerItemCrossReference
        	Field Mapping uses symbolic key
				related.Company    	 				 = Company
			    related.Customer	 				 = Customer 

	    	Instance Selection
		    	where (related.Item					 		  = Item
		    	and	   related.CustomerItemCrossReference	 != CustomerItemCrossReference)
			        	

    	OtherCustomerItemsForCustomerItemCrossReferenceRel
    		one-to-many relation to CustomerItemCrossReference
        	Field Mapping uses Set2
        		related.Company    						 =   	Company
        	    related.Customer						 =		Customer
	        	related.CustomerItemCrossReference		 =		CustomerItemCrossReference
        	Instance Selection
		    	where (related.Item	 != Item)

    Sets

        Set2
            indexed
            Sort Order
                Company
                Customer
                CustomerItemCrossReference
                Item
	
    Field Rules
    	Customer
	    	if (Customer entered)
	    		constraint (CompanyCustomerRel exists)
	    			"Customer<CustomerItemCrossReference.Customer>NotFoundForCompany<Company>"	
		
		Item																														//"@e.ARCI.107"
			constraint (OtherItemsForCustomerItemCrossReferenceRel not exists)
				"Item<CustomerItemCrossReference.Item>AlreadyExistsAsCustomerCrossReference"										//"@e.BL04.106"
				
		CustomerItemCrossReference										
			constraint (OtherCustomerItemsForCustomerItemCrossReferenceRel not exists)
				"CustomerItemAlreadyExistsAsCustomerCrossReference"																	//"@e.BL04.108"
			
        Description
            required
            
    Actions
    	Create is a Create Action
    	
    	Update is an Update Action
    	
    	Delete is a Delete Action
