AP170Ap1701work is a BusinessClass
    owned by ap
    prefix is W7732

    Patterns
        disable StaticTranslations
        implements WorkFile

    Persistent Fields
        WorkFile                is UniqueID
        WorkFileSeq             is Numeric size 12
        SortKey                 is Numeric size 1
        PayGroup                is like PayGroup
        Company                 is like Company
        KeyProcLevel            is like PayablesProcessLevel	
        Vendor                  is like Vendor
        Invoice                 is like Invoice
        PayablesInvoice			is like PayablesInvoice
        Suffix                  is like Suffix
        ProcLevel               is like ProcessLevel
        LocationCode            is like VendorLocation	
        InvoiceType             is like InvoiceType
        VoucherNbr              is like VoucherNumber
        DueDate                 is Date   
        CheckDate               is Date    
        TransNbr                is like TransactionNumber
        CashLedgerTransactionIdentifier
        SourceCode              is Alpha size 2
        CashCode                is like CashCode
        BankInstCode            is like BankTransactionCode
        SerialNum               is like SerialNum
        PayVendor               is like Vendor
        BasePmtAmt              is like InternationalAmount
        TranPmtAmt              is like InternationalAmount
        BaseNd                  is like BaseNumberOfDecimals
        TranNd                  is like NumberOfDecimals
        BaseDiscAmt             is like InternationalAmount
        TranDiscAmt             is like InternationalAmount
        BaseIncWh               is like InternationalAmount
        TranIncWh               is like InternationalAmount
        FatcaBaseInc            is like InternationalAmount
        FatcaTranInc            is like InternationalAmount
        BaseSecWth1             is like InternationalAmount
        TranSecWth1             is like InternationalAmount
        BaseSecWth2             is like InternationalAmount
        TranSecWth2             is like InternationalAmount
        BaseSecWth3             is like InternationalAmount
        TranSecWth3             is like InternationalAmount
        BaseChkAmt              is like InternationalAmount
        TranChkAmt              is like InternationalAmount
        InvoiceDte              is Date    
        DistribDate             is Date    
        BaseInvAmt              is like InternationalAmount
        TranInvAmt              is like InternationalAmount
        TranTaxAmt              is like InternationalAmount
        TranTotTax              is like InternationalAmount     
        BaseActAmt1             is like InternationalAmount
        BaseActAmt2             is like InternationalAmount
        NbrRecurPmt             is Numeric size 3
        RecurFreq               is Alpha size 1 
        Description             is like Description
        IncomeCode              is like PayablesIncomeCode 
        FatcaIncCode			is like PayablesIncomeCode
        DiscLostFlg             is Boolean	
        AccrCode                is like PayablesAccrualCode 
        CashLedgerSourceRecord	
        TransIdent              is like TransactionIDNumber
        CancelSeq               is like CancelSequence
        SeqNbr                  is like SeqNbr
        VoidSeq                 is like VoidSequence
        InvCurrency             is like Currency
        CurrRecalc              is Boolean	
        GainlosAmt              is like InternationalAmount
        FinanceEnterpriseGroup
        FatcaCodeBlock          is a FinanceCodeBlock
        IncAcctCodeBlock        is a FinanceCodeBlockFull



        SecWithholdingAcctCodeBlock1 is a FinanceCodeBlock



        SecWithholdingAcctCodeBlock2 is a FinanceCodeBlock



        SecWithholdingAcctCodeBlock3 is a FinanceCodeBlock



        OrigCnvRate             is like CnvRate
        BankChkAmt              is like InternationalAmount
        BankNd                  is like AcctNd
        DiscountCode            is like DiscountCode 
        IncAccrCode             is like IncomeWithholdingCode	
        SecWthCode1             is like PayablesSecondaryWithholdingCode
        SecWthCode2             is like PayablesSecondaryWithholdingCode
        SecWthCode3             is like PayablesSecondaryWithholdingCode
        TaxPoint                is Alpha size 1
        TaxCode                 is like TaxCode 
        VendorSname             is like VendorName 
        	holds pii
        ReconStmtNbr            is like CashLedgerStatement	
        MatchDiscTak            is like MatchDiscountTaken	
        InvUsrFld01             is Alpha size 20
        InvUsrFld02             is Alpha size 20
        InvUsrFld03             is Alpha size 20
        InvUsrFld04             is Alpha size 20
        InvUsrFld05             is Alpha size 20
        SourceFile              is Numeric size 1
        PostCompany             is like Company
        PostCurrency            is like Currency
        RetainagePmt            is Boolean	
        NxtInvObjId             is Numeric size 10
        NxtAtnObjId             is Numeric size 10
        NxtGltObjId             is Numeric size 10
        AccountDescription      is like Description 
        SortChkTransNbr         is like TransactionNumber

    Sets

        InsertionOrderSet
            indexed
            no duplicates
            primary
            Sort Order
                WorkFile
                WorkFileSeq

        AP170Ap1701workAP170Sort1
            indexed
            duplicates
            Sort Order
                WorkFile
                SortKey
                SourceFile
                PayGroup
                PostCompany
                Company
                KeyProcLevel
                InvCurrency
                Vendor
                CashCode
                BankInstCode
                TransNbr
                Invoice
                Suffix

        AP170Ap1701workAP170Sort2
            indexed
            duplicates
            Sort Order
                WorkFile
                SortKey
                SourceFile
                InvCurrency
                CashCode
                BankInstCode
                SerialNum
                SortChkTransNbr
                CashLedgerSourceRecord
                TransIdent
                Company
                PayVendor
                Vendor
                LocationCode
                Invoice
                Suffix

    Actions

        Create is a Create Action

            Field Rules
                WorkFileSeq
                    autosequence

        Delete is a Delete Action

        DeleteAll is a Set Action
            restricted

            Parameters
                WorkFileHeader is UniqueID

            Instance Selection
                where (WorkFile = WorkFileHeader)

            Local Fields
                LWorkFileHeader is a WorkFile

            Parameter Rules
                WorkFileHeader
                    required
                    LWorkFileHeader = WorkFileHeader

            Action Rules
                Instance Rules
                    invoke Delete

                Empty Set Rules
                    invoke Purge LWorkFileHeader

                Set Rules
                    Exit Rules
                        invoke Purge LWorkFileHeader
