BillingElectronicPaymentType is a BusinessClass
    owned by bl
    prefix is ETY
    classic name is EPTYPE

    Ontology
        symbolic key is BillingElectronicPaymentType
            classic set name is ETYSET1
            classic name is EP-TYPE

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        Description                        is AlphaUpper size 30
            classic name is EP-DESC
		ElectronicPaymentService			is AlphaUpper size 10				
		ElectronicPaymentServiceDescription is AlphaUpper size 30				
        Active                             is Boolean
            classic name is EP-ACTIVE-FLAG
        RequiresAuthorization              is Boolean
            classic name is REQ-EP-AUTH
		AuthorizationDuration 				is Numeric 	size 3            

		PendingAuthorizationHoldCode	   is a ReceivableHoldCode		
            classic name is PEND-AUTH-HLD
        FailedAuthorizationHoldCode        is a ReceivableHoldCode
            classic name is FAIL-AUTH-HLD
        RequiresSettlement                 is Boolean
            classic name is REQ-EP-STTL
        PendingSettlementHoldCode          is a ReceivableHoldCode
            classic name is PEND-STTL-HLD
        FailedSettlementHoldCode           is a ReceivableHoldCode
            classic name is FAIL-STTL-HLD
        FailedSettlementAuthorizedHoldCode is a ReceivableHoldCode
            sql name is FSettlementAuthorizedHoldCode
            classic name is FAIL-STTLA-HLD
        ReceivableGeneralLedgerCode
            classic name is AR-CODE
            default label is "ReceivableGlobalLedgerCode"
        MinimumMargin                      is an EpMarginMin
            classic name is EP-MARGIN-MIN
        MinimumMarginPercent               is an EpMarginPct
            classic name is EP-MARGIN-PCT
		MerchantNumber						is Numeric size 11					
		MerchantAccount						is Numeric size 18
		MerchantName						is AlphaUpper size 30				
		MerchantConfigurationFile			is AlphaUpper size 256
			
	Attach Rules
		constraint (Active)
			"BillingElectronicPaymentType<BillingElectronicPaymentType>MustBeActive"			
	
    Field Rules
    
    	Active
    		default to true
            
        ElectronicPaymentService
        	if (RequiresAuthorization
        	or RequiresSettlement)    
            	required 
            else
            	cannot be entered
            	
        ElectronicPaymentServiceDescription
        	if (RequiresAuthorization)
        		required
        	else	
        		cannot be entered    
        		
    	MinimumMargin
    		if (MinimumMarginPercent entered)
    			cannot be entered
    				
      	AuthorizationDuration
        	if (RequiresAuthorization)    
            	required  
            else
            	cannot be entered
        
        PendingAuthorizationHoldCode
        	if (RequiresAuthorization)    
				required
            else
            	cannot be entered	

		FailedAuthorizationHoldCode
			if (RequiresAuthorization)    
            	required
            else	
            	cannot be entered
            		
       	PendingSettlementHoldCode 
            if (RequiresSettlement)
            	required
            else
            	cannot be entered	
        
        FailedSettlementHoldCode    	
            if (RequiresSettlement)
            	required
            else
            	cannot be entered	
            	
        FailedSettlementAuthorizedHoldCode 
        	if (RequiresSettlement)
            	required 
            else
            	cannot be entered	 
    			
    	MerchantNumber
    		if (RequiresAuthorization
    		or RequiresSettlement)    
            	required 
            else
            	cannot be entered	
            	
        MerchantAccount
        	if (RequiresAuthorization)
        		required
        	else	
        		cannot be entered            	
            	
        MerchantName
        	if (RequiresAuthorization
        	or RequiresSettlement)    
            	required 
            else
            	cannot be entered	
            	








        ReceivableGeneralLedgerCode
            required	
        	
			constraint (ReceivableGeneralLedgerCode != Company.ReceivableCompany.ReceivableGeneralLedgerCode)
    			"ReceivableGlobalLedgerCodeCannotBeDuplicateOfReceivableCompanyGlobalLedgerCode"

	
        		    	
            	
            	 	
            	    									
