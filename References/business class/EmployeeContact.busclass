EmployeeContact is a BusinessClass
    owned by hcmfn
    prefix is Emctd

    Ontology
		symbolic key is EmployeeContact

	Patterns
		implements StaticJava



    Persistent Fields

		Country
		ContactMethod				is Numeric size 2
			States
				Landline			value is 1
				Mobile				value is 2
				Pager				value is 3
				Fax					value is 4
				TTYTDD	    		value is 5						
				Email				value is 6
				InstantMessage		value is 7				
		ContactDetail				
		PreferredContact			is Boolean
 		WhenAvailable				is Alpha size 20
 		Description					is Alpha 30
		Active


























































	Derived Fields

		IsWorkEmailDer is a ConditionalField
			type is Boolean
			restricted
			if (Employee.UseForWorkEmail = EmployeeContact)
				true
			else
				false




























		ContactDetailValues is a ConditionalField
			type is Alpha 60
			if (AllPhoneTypes)
				TelephoneDisplay
			else
			if (EmailContact)
				ContactDetail.EmailAddress
			else
				InstantMessageDisplay

		TelephoneDisplay is a StringField
			type is Alpha size 60
			restricted
			ContactDetail.Telephone.InternationalPrefix
			" "
			ContactDetail.Telephone.SubscriberNumber
			" "
			ContactDetail.Telephone.Extension		

		InstantMessageDisplay is a StringField
			type is Alpha size 60
			restricted
			ContactDetail.InstantMessageAddress.IMUserName
			" "
			ContactDetail.InstantMessageAddress.IMType

		IsWorkEmailorPhoneDer is a ConditionalField
			type is Boolean
			if (Employee.UseForWorkEmail = EmployeeContact
			or Employee.UseForWorkPhone = EmployeeContact)
				true
			else
				false



























































	Conditions
		AllPhoneTypes
			restricted
			when (ContactMethod.Landline
			or    ContactMethod.Mobile
			or    ContactMethod.Pager
			or    ContactMethod.Fax
			or    ContactMethod.TTYTDD)		
	
		IsWorkEmail
			when (Employee.UseForWorkEmail = EmployeeContact)

		IsWorkTelephone
			when (Employee.UseForWorkPhone = EmployeeContact)
			
		TelephoneContact
			restricted
			when (ContactMethod.Landline)
			
		MobilePhoneContact
			restricted
			when (ContactMethod.Mobile)

		EmailContact
			restricted
			when (ContactMethod.Email)
		
		IMContact
			restricted
			when (ContactMethod.InstantMessage)














































































































































































































































































	Sets	

		ByContactMethod	
			Sort Order	
				HROrganization
				Employee
				ContactMethod
				PreferredContact descending
				EmployeeContact

		ByPreferred
			duplicates
			Sort Order
				HROrganization
				Employee
				PreferredContact descending
				ContactMethod








































































































































































































































































































































































































































































































































































































































































































































































	Actions
#ifdef property sandbox
		Create is a Create Action
#endif
#ifndef property sandbox
		Create is a Create Action
			restricted
#endif

#ifdef property sandbox
		Update is an Update Action
#endif
#ifndef property sandbox
		Update is an Update Action
			restricted
#endif

#ifdef property sandbox
		Delete is a Delete Action
#endif
#ifndef property sandbox
		Delete is a Delete Action
			restricted
#endif



























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































