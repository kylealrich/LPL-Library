ReceivableAgePeriodBalanceDetail is a BusinessClass  
    owned by ar
    prefix is APrBD
    sql name is RcvAgePeriodBalanceDetail

    Ontology
        symbolic key is ReceivableAgePeriodBalanceDetail

    Patterns
        implements ContextualParent
        implements StaticJava
        disable AuditIndex
        disable Auditing

    Persistent Fields
    	Period				is Numeric 2

	Context Fields

	Transient Fields
				
	Local Fields

		
	Derived Fields

		DaysDifference is a DerivedField
			type is Numeric 9
			if (Company.CustomerGroupField.CustomerGroup.AgingMethod.AgeByTransactionDate)
				return ReceivableInvoiceDetailRel.TransactionDate - AgePeriodBalanceHeaderRel.CreateDate
			else
				return ReceivableInvoiceDetailRel.DueDate - AgePeriodBalanceHeaderRel.CreateDate
				
		PeriodTitle is a DerivedField
			type is Alpha size 25
			return first AgePeriodRel.CustomerGroupPeriodTitle

	Field Rules

    Conditions

    Relations

		ReceivableInvoiceDetailRel
			one-to-one relation to ReceivableInvoiceDetail
			Field Mapping uses symbolic key
				related.Company												= Company
				related.ReceivableInvoiceDetail.ReceivableInvoiceDetailType	= ReceivableInvoiceDetail.ReceivableInvoiceDetailType		
				related.ReceivableInvoiceDetail.Invoice            			= ReceivableInvoiceDetail.Invoice							
				related.ReceivableInvoiceDetail.PaymentSeq			        = ReceivableInvoiceDetail.PaymentSeq	

		AgePeriodBalanceHeaderRel
			one-to-one relation to ReceivableAgePeriodBalanceHeader
			Field Mapping uses symbolic key
				related.Company												= Company
				related.Customer											= Customer

		AgePeriodRel
			one-to-many relation to ReceivableAgePeriod
            Field Mapping uses ByAgePeriodSequence
            	related.CustomerGroup		= Company.CustomerGroupField.CustomerGroup
                related.ReceivableCompany	= blank
                related.AgingCode 			= blank
                related.AgePeriodSequence	= Period
				
	Sets

        ByPeriod
            indexed
            Sort Order
                Company
                Customer
				Period
				ReceivableInvoiceDetail

	Rule Blocks

	
    Actions
        Create is a Create Action
        	restricted

        Update is an Update Action
        	restricted
        	
        Delete is a Delete Action
			restricted
				
        FastDelete is a Delete Action
			restricted
			bypass relational integrity rules

