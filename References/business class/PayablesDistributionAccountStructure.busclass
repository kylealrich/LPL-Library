PayablesDistributionAccountStructure is a BusinessClass
    owned by ap
    prefix is ADH
    sql name is PDistributionAccountStructure
    classic name is APDISACSTH

    Ontology
        symbolic key is PayablesDistributionAccountStructure
            classic set name is ADHSET1
            sql name is PDistributionAccountStructure
            classic name is ACCT-STRCT

    Patterns
        implements StaticJava
        disable AuditIndex


		
	Relations
		PayablesDistributionAccountStructureDetailRel
            one-to-many relation to PayablesDistributionAccountStructureDetail
            Field Mapping uses Set1	
            	related.Company								 = Company
                related.PayablesDistributionAccountStructure = PayablesDistributionAccountStructure
        PayablesProcessingMonitorRel
            one-to-many relation to PayablesProcessingMonitor
            Field Mapping uses Set2
                related.PayablesProcessingMonitor.Company = Company
			Instance Selection
				where (related.PayablesProcessingMonitor.RunProgram			= "AP175"
				and    related.PayablesProcessingMonitor.AccountStructure	= PayablesDistributionAccountStructure)
		
	Rule Blocks
		EditChangeDelete
			constraint (PayablesProcessingMonitorRel not exists)
				"A\P175RunningW/\Account_\Structure_-CannotChange"         

	Actions
		Create is a Create Action
			Action Rules
				constraint (PayablesDistributionAccountStructureDetailRel not exists)
					"Account_\StructureAlreadyUsedByAnotherCompany"           

		Update is an Update Action
			Action Rules
				include EditChangeDelete

		Delete is a Delete Action
			Action Rules
				include EditChangeDelete

				invoke Delete PayablesDistributionAccountStructureDetailRel
				
	
