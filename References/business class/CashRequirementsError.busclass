CashRequirementsError is a BusinessClass
	owned by ap
	prefix is CRERR
	Ontology
		symbolic key is CashRequirementsError
		
    Patterns
        disable AuditIndex
        disable Auditing
        disable EffectiveDated

	Persistent Fields
		PayablesCompany
		PayablesInvoice
		PayablesInvoicePayment
		CashManagementGroup
		CashCode
		CashLedgerPayment

		BankTransactionCode
		AlternateBankTransactionCode		is a BankTransactionCode

		ErrorMessage						is Alpha size 200
		ErrorNumber							is a CashRequirementsErrorNumber
				
	Field Rules

	Conditions
		IsPayablesPayment
			when (PayablesInvoicePayment entered)		

		IsCashLedgerPayment
			when (CashLedgerPayment entered)

		IsAlert
			when (ErrorNumber != CashRequirementsErrorNumber.VendorBankError)		

	Sets
		ByPayablesInvoicePayment
			Sort Order
				VendorGroup
				PayGroup
				CashRequirementsResult
				PayablesCompany
				PayablesInvoice
				PayablesInvoicePayment
				CashRequirementsError
				
		ByCashLedgerPayment
			Sort Order
				VendorGroup
				PayGroup
				CashRequirementsResult
				CashManagementGroup
				CashCode
				CashLedgerPayment
				CashRequirementsError
				
		ByBankTransactionCode
			Sort Order
				VendorGroup
				PayGroup
				CashRequirementsResult
				CashManagementGroup
				BankTransactionCode
				ErrorNumber
				CashRequirementsError
				
		ByCashCode
			Sort Order
				VendorGroup
				PayGroup
				CashRequirementsResult
				CashManagementGroup
				CashCode
				ErrorNumber
				CashRequirementsError
				
		ByErrorNumber
			Sort Order
				VendorGroup
				PayGroup
				CashRequirementsResult
				ErrorNumber
				CashRequirementsError
				
		DeleteByPayablesInvoicePayment
			Sort Order
				PayablesCompany
				PayablesInvoice
				PayablesInvoicePayment
				VendorGroup
				PayGroup
				CashRequirementsResult
				CashRequirementsError
				
		DeleteByCashLedgerPayment
			Sort Order
				CashManagementGroup
				CashCode
				CashLedgerPayment
				VendorGroup
				PayGroup
				CashRequirementsResult
				CashRequirementsError
				
	Actions
		Create is a Create Action
			default label is untranslatable
			restricted
		
		Update is an Update Action
			default label is untranslatable
			restricted
		
		Purge is a Purge Action
			default label is untranslatable
			restricted

		DeleteForCashRequirementsResult is a Set Action
			default label is untranslatable
			restricted
			completion message is "DeleteForCashRequirementsResultSubmitted"
			Parameters
				PrmVendorGroup				is a VendorGroup
				PrmPayGroup					is a PayGroup
				PrmCashRequirementsResult	is like CashRequirementsResult
			Instance Selection
				where (VendorGroup				= PrmVendorGroup
				and    PayGroup					= PrmPayGroup
				and    CashRequirementsResult	= PrmCashRequirementsResult)
			Action Rules
				Instance Rules
					invoke Purge

		DeleteAlertsForCashRequirementsResult is a Set Action
			default label is untranslatable
			restricted
			completion message is "DeleteForCashRequirementsResultSubmitted"
			Parameters
				PrmVendorGroup				is a VendorGroup
				PrmPayGroup					is a PayGroup
				PrmCashRequirementsResult	is like CashRequirementsResult
			Instance Selection
				where (VendorGroup				= PrmVendorGroup
				and    PayGroup					= PrmPayGroup
				and    CashRequirementsResult	= PrmCashRequirementsResult
				and    IsAlert)
			Action Rules
				Instance Rules
					invoke Purge

		CheckToRemoveAlert is a Set Action
			run in foreground
			default label is untranslatable
			restricted
			completion message is "DeleteForCashRequirementsResultSubmitted"
			Parameters
				PrmVendorGroup							is a VendorGroup
				PrmPayGroup								is a PayGroup
				PrmCashRequirementsResult				is like CashRequirementsResult
				PrmCashCode								is like CashCode
				PrmBankTransactionCode					is like BankTransactionCode
				PrmAlternateBankTransactionCode			is like BankTransactionCode
			Instance Selection
				where (VendorGroup				= PrmVendorGroup
				and    PayGroup					= PrmPayGroup
				and    CashRequirementsResult	= PrmCashRequirementsResult
				and    IsAlert
				and   (CashCode								= PrmCashCode
				or     BankTransactionCode					= PrmBankTransactionCode
				or     AlternateBankTransactionCode			= AlternateBankTransactionCode))
			Action Rules
				Instance Rules
					invoke Purge

