IntercompanyBillingDocumentComment is a BusinessClass
    owned by intercobilling
    prefix is ICBDO
    sql name is "ICBDocumentComment"

    Ontology
        symbolic key is IntercompanyBillingDocumentComment
    
    Persistent Fields
        Subject             is a CommentName
            translatable
      	CommentDate         is TimeStamp
            default label is "Date"
        Comment             is RichText	

	Field Rules
		Subject
    		required
    			"SubjectIsRequired"
    				
    	Comment 
    		required
    			"CommentIsRequired"
    	
    	CommentDate
    		default to current timestamp
		
	Conditions
		IsAvailableForComment
			restricted
			when (IntercompanyBillingDocumentHeader.Status.Unreleased
			or  IntercompanyBillingDocumentHeader.Status.PendingApproval
			or  IntercompanyBillingDocumentHeader.Status.Approved)

	Sets
		ByCommentDate
			Sort Order
				IntercompanyBillingDocumentHeader
				CommentDate
				IntercompanyBillingDocumentComment
					
	Actions
		Create is a Create Action
			valid when (IsAvailableForComment)

		Update is an Update Action
			valid when (IsAvailableForComment)

		Delete is a Delete Action
			valid when (IsAvailableForComment)
