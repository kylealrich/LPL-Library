PfiMetricsSummary is a BusinessClass
    owned by pfi
    prefix is PfiMS
    default label is "MetricsSummary"
	disable data area copy

    Ontology
        symbolic key is PfiMetricsSummary

    Patterns
        implements CRUD
        disable AsOfDateProcessing
        disable Auditing
        disable EffectiveDated
        implements IncrementalReplication
            indicator field is IsReplicated
                replicate when false
                    then set to true

    Persistent Fields

        StartDate    is TimeStamp
        EndDate      is TimeStamp
        ActivityName is a PfiActivityName
        NodeCaption  is Alpha size 60
        ActivityType is a PfiActivityType
        ProLogicType is a PfiProLogicType
            default label is "ProceedingLogicType"
        ActionTaken  is a PfiActionTaken
        PfiUserProfile
            default label is "User"
        AuthenticatedActor 	is an Actor
        	as of current date
        PfiTask
        IsReplicated is Boolean
            default label is untranslatable

	Derived Fields
		AuthActor is a DerivedField
			type is Actor
			default label is "AuthenticatedActor"

			if (AuthenticatedActor entered)
				return AuthenticatedActor
			else
				return PfiUserProfile

		AuthFirstNameAndLastNameOrActor is a DerivedField
            type is Alpha size 101
			default label is "AuthenticatedFirstNameAndLastNameOrActor"

            if (AuthenticatedActor entered)
				return AuthenticatedActor.FirstNameAndLastNameOrActor
			else
				return PfiUserProfile.FirstNameAndLastNameOrActor

    Sets

        ByWorkunitEndDateActivity
            sql name is PfiMS01
            indexed
            Sort Order
                PfiWorkunit
                EndDate
                PfiActivity

        ByEndDateWorkunitActivity
            sql name is PfiMS02
            indexed
            Sort Order
                EndDate
                PfiWorkunit
                PfiActivity

        ByWorkunitStartDateActivity
            sql name is PfiMS03
            indexed
            Sort Order
                PfiWorkunit
                StartDate
                PfiActivity

        ByStartDateWorkunitActivity
            sql name is PfiMS04
            indexed
            Sort Order
                StartDate
                PfiWorkunit
                PfiActivity

        ByIsReplicatedUniqueID
            sql name is PfiMS05
            indexed
            Sort Order
                IsReplicated
                UniqueID

    Actions

        Create is a Create Action

        Update is an Update Action

            Exit Rules
                IsReplicated = false

        Delete is a Delete Action
