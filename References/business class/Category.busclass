Category is a BusinessClass
    owned by procurement
    prefix is Cate

    Ontology
    	symbolic key is Category
    
    Persistent Fields
    	Description 			is Alpha size 250
		Active					is Boolean
		RequireTermCreationApproval	is Boolean
			default label is "RequireApprovalOfTermAndConditionCreate"
		RequireTermUpdateApproval	is Boolean
			default label is "RequireApprovalOfTermAndConditionUpdate"

	Field Rules
		Description
			required
		Active
        	default to true

	Conditions
		SubCategoryExists
			when (SubCategory set exists)

		SubCategoryUsingCreationApproval
			restricted
			when (any SubCategoryRel.RequireTermCreationApproval)
			
		CategoryActorContextExists
			restricted
			when (ActorContextCategoryRel exists)

  	Attach Rules
		constraint (Active)
			"CategoryIsInactive"
			
	Relations
		EventForCategoryRel
			one-to-many relation to SourcingEvent
			Field Mapping uses ByCategory
				related.Category = Category

		SubCategoryRel is a SubCategory set
		
		ActorContextCategoryRel
			one-to-many relation to ActorContext
			Field Mapping uses symbolic key
				related.Actor                    = actor
			Instance Selection
				where (related.ContextProperty.KeyField   = "Category")	
