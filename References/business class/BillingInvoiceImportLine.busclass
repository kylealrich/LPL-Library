BillingInvoiceImportLine is a BusinessClass
    owned by bl
    prefix is OIZ
    classic name is OIINVCLINE

    Ontology
        symbolic key is BillingInvoiceImportLine
            classic set name is OIZSET1



    Patterns
        implements StaticJava
        disable AuditIndex
		disable Auditing 
       	disable EffectiveDated

    Persistent Fields
    	RunGroup
		Company							   is a BillingCompany
		InvcPrefix    					   is an InvoicePrefix
		InvoiceNumber
			classic name is INVC-NUMBER
		LineNumber						   is Numeric size 6
			classic name is LINE-NBR
        LineType                           is a BillingLineType
        Item
        Description
        Quantity
        SellingUnitOfMeasure               is a UnitOfMeasure
            classic name is SELL-UOM
        EnteredPrice                       is an InternationalCost
        UnitCost                           is an InternationalCost
        NoCharge						   is Boolean
            classic name is NO-CHARGE-FL
        EnteredDiscount                    is an InternationalAmount
            classic name is ENTERED-DISC
        TaxExemptCode
            classic name is TAX-EXEMPT-CD
        OrderDiscount						is Boolean
            classic name is ORD-DISC-FL
        Location         					is an InventoryLocation
        TaxCode
        CustomerOrder
            classic name is ORDER-NBR
        SellingPriceUnitOfMeasure          is a UnitOfMeasure
            classic name is SPR-UOM
        AddOnDiscount                      is an InternationalAmount
            classic name is ADD-ON-DISC
        Territory
        SalesRepresentative
            classic name is SALESMAN
        Salesman2                          is a SalesRepresentative
        CommisionRate1                     is a ChrgRate
            classic name is COMM-RATE-1
        CommisionRate2                     is a ChrgRate
            classic name is COMM-RATE-2
		CommissionSplitPercentage
            classic name is COMM-SPLIT
        UserField1                         is a PurchaseOrderUserField2
            classic name is USER-FLD1
        UserField2                         is a UserFld2
            classic name is USER-FLD2
        UserField3                         is a UserFld3
            classic name is USER-FLD3
        BillingInvoiceImportLineUserField1 is an OilUsrFld01
            sql name is BInvoiceImportLineUserField1
            classic name is OIL-USR-FLD-01
        BillingInvoiceImportLineUserField2 is an OilUsrFld02
            sql name is BInvoiceImportLineUserField2
            classic name is OIL-USR-FLD-02
        BillingInvoiceImportLineUserField3 is an OilUsrFld03
            sql name is BInvoiceImportLineUserField3
            classic name is OIL-USR-FLD-03
        BillingInvoiceImportLineUserField4 is an OilUsrFld04
            sql name is BInvoiceImportLineUserField4
            classic name is OIL-USR-FLD-04
        BillingInvoiceImportLineUserField5 is an OilUsrFld05
            sql name is BInvoiceImportLineUserField5
            classic name is OIL-USR-FLD-05
        GlobalLineType
            classic name is GLBL-LINE-TYPE
        SalesAccount                       is a FinanceCodeBlock
            classic name for SalesAccount.AccountingUnit is SLS-ACCT-UNIT
            classic name for SalesAccount.GeneralLedgerChartAccount is SLS-ACCOUNT
            classic name for SalesAccount.Project is ACTIVITY
        OffsetAccount                      is a FinanceCodeBlock
            classic name for OffsetAccount.AccountingUnit is OFF-ACCT-UNIT
            classic name for OffsetAccount.GeneralLedgerChartAccount is OFF-ACCOUNT
        COGSAccount                        is a FinanceCodeBlock
            classic name for COGSAccount.AccountingUnit is CGS-ACCT-UNIT
            classic name for COGSAccount.GeneralLedgerChartAccount is CGS-ACCOUNT
            classic name for COGSAccount.Project is ACTIVITY-C
		HSNSACCode
		BillingInvoiceLineExists	is Boolean
            
	Context Fields
		ContextBillingInvoiceImport 	is a BillingInvoiceImport
	
	Conditions
	
		IsHSNSACCodeEnabled
			restricted
			when (Company.GeneralLedgerCompany.RequireHSNSACCode)
    Relations
		
		BillingInvoiceRel
			one-to-one relation to BillingInvoice
			Field Mapping uses symbolic key
				related.Company							= Company
				related.BillingInvoice.InvoicePrefix	= InvcPrefix
				related.BillingInvoice.InvoiceNumber	= InvoiceNumber
				
		BillingInvoiceLineRel
			one-to-one relation to BillingInvoiceLine
			Field Mapping uses symbolic key
				related.Company							= Company
				related.BillingInvoice.InvoicePrefix	= InvcPrefix
				related.BillingInvoice.InvoiceNumber	= InvoiceNumber
				related.BillingInvoiceLine				= LineNumber
		
        LinecommRel
            one-to-many relation to BillingInvoiceImportComments
            delete cascades
            Field Mapping uses ByRunGroup
            	related.RunGroup				= RunGroup
                related.Company					= Company
				related.InvcPrefix				= InvcPrefix
				related.InvoiceNumber			= InvoiceNumber
				related.LineNumber				= LineNumber











        LinemiscRel
            one-to-many relation to BillingInvoiceAddOnChargeImport
            delete cascades
            Field Mapping uses ByRunGroup
            	related.RunGroup				= RunGroup
                related.Company					= Company
				related.InvcPrefix				= InvcPrefix
				related.InvoiceNumber			= InvoiceNumber
				related.LineNumber				= LineNumber
				










	Sets
        ByCompanyPrefixNumberLine
        	indexed
        	Sort Order
        		Company
        		InvcPrefix
        		InvoiceNumber
        		LineNumber
        		
        ByRunGroup
        	indexed
        	Sort Order
        		RunGroup
        		Company
        		InvcPrefix
        		InvoiceNumber
        		LineNumber

    Field Rules
    	RunGroup
    		default to ContextBillingInvoiceImport.RunGroup
    		required

        OrderDiscount
            default to true
        
        Company
			default to ContextBillingInvoiceImport.Company
			required
			cannot be changed
			
        InvcPrefix
        	default to ContextBillingInvoiceImport.InvcPrefix
        	required
			cannot be changed
        	
       	InvoiceNumber
        	default to ContextBillingInvoiceImport.InvoiceNumber
        	required
			cannot be changed
        					
		LineNumber
			autosequence using ByRunGroup
			required
			cannot be changed
        
	Actions
		Create is a Create Action
					
		Update is an Update Action
		
		Delete is a Delete Action
			Entrance Rules
				invoke Delete LinemiscRel
				invoke Delete LinecommRel
		
		FastDelete is a Delete Action
			restricted
			bypass relational integrity rules
			
		FastUpdate is an Update Action
			restricted
			bypass field rules
