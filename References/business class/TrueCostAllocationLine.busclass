TrueCostAllocationLine is a BusinessClass
    owned by truecost
    prefix is TCALN
	default label is "True\CostAllocationLine"
    Ontology
    	symbolic key is TrueCostAllocationLine
    	
    Patterns
    	implements ContextualParent

    Persistent Fields

        Description
        Active
        Step									is a AllocationStep
        SourcePercentage						is a Percent
        AccountingEntity
        
        SourceDepartment						is a TrueCostDepartment
        SourceAccount							is a GeneralLedgerChartAccount
        
        TrueCostDriver						
        TrueCostWeight						
        

        IsWithinDepartment						is Boolean
        TargetDepartments						is a TrueCostDepartment			
        TargetCostObjects						is like FinanceDimension8		
        
        AllocationLine
        
		PracticalCapacityVolume					is Decimal 19.3
        TrueCostCostBehavior
        	default label is "CostBehavior"
		UseActualVolume							is Boolean						
		
		TargetDimension							is a StructureRow
		TargetFinanceAddress					is a FinanceAddress	 
			holds pii
		SourceAddress							is a FinanceAddress	 
			holds pii
		TrueCostResourceUtilizationDriver
		TrueCostResourceIntensityFactor		
		TrueCostCapacity
		
	Transient Fields
    	PostingProject							is a Project
    		derive value from TrueCostAllocationControl.PostingProject
    	PostingFinanceDimension1				is a FinanceDimension1
    		derive value from TrueCostAllocationControl.PostingFinanceDimension1
    	PostingFinanceDimension2				is a FinanceDimension2
    		derive value from TrueCostAllocationControl.PostingFinanceDimension2
    	PostingFinanceDimension3				is a FinanceDimension3
    		derive value from TrueCostAllocationControl.PostingFinanceDimension3
    	PostingFinanceDimension4				is a FinanceDimension4
    		derive value from TrueCostAllocationControl.PostingFinanceDimension4
    	PostingFinanceDimension5				is a FinanceDimension5
    		derive value from TrueCostAllocationControl.PostingFinanceDimension5
    	PostingFinanceDimension6				is a FinanceDimension6
    		derive value from TrueCostAllocationControl.PostingFinanceDimension6
    	PostingFinanceDimension7				is a FinanceDimension7
    		derive value from TrueCostAllocationControl.PostingFinanceDimension7
    	PostingFinanceDimension8				is a FinanceDimension8
    		derive value from TrueCostAllocationControl.PostingFinanceDimension8
    	PostingFinanceDimension9				is a FinanceDimension9
    		derive value from TrueCostAllocationControl.PostingFinanceDimension9
    	PostingFinanceDimension10				is a FinanceDimension10
    		derive value from TrueCostAllocationControl.PostingFinanceDimension10

		TransientAccountingUnitStructure is a AccountingUnitStructure
			derive value from DepartmentStructureAccountingUnit
		TransientDepartment1Structure	 is a FinanceDimension1Structure
			derive value from DepartmentStructureDimension1
		TransientDepartment2Structure	 is a FinanceDimension2Structure 
			derive value from DepartmentStructureDimension2
		TransientDepartment3Structure	 is a FinanceDimension3Structure
			derive value from DepartmentStructureDimension3
		TransientDepartment4Structure	 is a FinanceDimension4Structure
			derive value from DepartmentStructureDimension4
		TransientDepartment5Structure	 is a FinanceDimension5Structure
			derive value from DepartmentStructureDimension5
		TransientDepartment6Structure	 is a FinanceDimension6Structure
			derive value from DepartmentStructureDimension6
		TransientDepartment7Structure	 is a FinanceDimension7Structure
			derive value from DepartmentStructureDimension7
		TransientDepartment8Structure	 is a FinanceDimension8Structure
			derive value from DepartmentStructureDimension8
		TransientDepartment9Structure	 is a FinanceDimension9Structure
			derive value from DepartmentStructureDimension9
		TransientDepartment10Structure	 is a FinanceDimension10Structure
			derive value from DepartmentStructureDimension10
		TransientCostObject1Structure	 is a FinanceDimension1Structure
			derive value from CostObjectStructureDimension1
		TransientCostObject2Structure	 is a FinanceDimension2Structure 
			derive value from CostObjectStructureDimension2
		TransientCostObject3Structure	 is a FinanceDimension3Structure
			derive value from CostObjectStructureDimension3
		TransientCostObject4Structure	 is a FinanceDimension4Structure
			derive value from CostObjectStructureDimension4
		TransientCostObject5Structure	 is a FinanceDimension5Structure
			derive value from CostObjectStructureDimension5
		TransientCostObject6Structure	 is a FinanceDimension6Structure
			derive value from CostObjectStructureDimension6
		TransientCostObject7Structure	 is a FinanceDimension7Structure
			derive value from CostObjectStructureDimension7
		TransientCostObject8Structure	 is a FinanceDimension8Structure
			derive value from CostObjectStructureDimension8
		TransientCostObject9Structure	 is a FinanceDimension9Structure
			derive value from CostObjectStructureDimension9
		TransientCostObject10Structure	 is a FinanceDimension10Structure
			derive value from CostObjectStructureDimension10
		
		TransientSourceAccountingUnit is a AccountingUnit
			derive value from SourceAccountingUnit
		TransientSourceDepartment1	 is a FinanceDimension1
			derive value from SourceDepartment1
		TransientSourceDepartment2	 is a FinanceDimension2 
			derive value from SourceDepartment2
		TransientSourceDepartment3	 is a FinanceDimension3
			derive value from SourceDepartment3
		TransientSourceDepartment4	 is a FinanceDimension4
			derive value from SourceDepartment4
		TransientSourceDepartment5	 is a FinanceDimension5
			derive value from SourceDepartment5
		TransientSourceDepartment6	 is a FinanceDimension6
			derive value from SourceDepartment6
		TransientSourceDepartment7	 is a FinanceDimension7
			derive value from SourceDepartment7
		TransientSourceDepartment8	 is a FinanceDimension8
			derive value from SourceDepartment8
		TransientSourceDepartment9	 is a FinanceDimension9
			derive value from SourceDepartment9
		TransientSourceDepartment10	 is a FinanceDimension10
			derive value from SourceDepartment10

		TransientTargetAccountingUnit is a AccountingUnit
			derive value from TargetAccountingUnit
		TransientTargetDepartment1	 is a FinanceDimension1
			derive value from TargetDepartment1
		TransientTargetDepartment2	 is a FinanceDimension2 
			derive value from TargetDepartment2
		TransientTargetDepartment3	 is a FinanceDimension3
			derive value from TargetDepartment3
		TransientTargetDepartment4	 is a FinanceDimension4
			derive value from TargetDepartment4
		TransientTargetDepartment5	 is a FinanceDimension5
			derive value from TargetDepartment5
		TransientTargetDepartment6	 is a FinanceDimension6
			derive value from TargetDepartment6
		TransientTargetDepartment7	 is a FinanceDimension7
			derive value from TargetDepartment7
		TransientTargetDepartment8	 is a FinanceDimension8
			derive value from TargetDepartment8
		TransientTargetDepartment9	 is a FinanceDimension9
			derive value from TargetDepartment9
		TransientTargetDepartment10	 is a FinanceDimension10
			derive value from TargetDepartment10

		TransientTargetCostObject1	 is a FinanceDimension1
			derive value from TargetCostObject1
		TransientTargetCostObject2	 is a FinanceDimension2 
			derive value from TargetCostObject2
		TransientTargetCostObject3	 is a FinanceDimension3
			derive value from TargetCostObject3
		TransientTargetCostObject4	 is a FinanceDimension4
			derive value from TargetCostObject4
		TransientTargetCostObject5	 is a FinanceDimension5
			derive value from TargetCostObject5
		TransientTargetCostObject6	 is a FinanceDimension6
			derive value from TargetCostObject6
		TransientTargetCostObject7	 is a FinanceDimension7
			derive value from TargetCostObject7
		TransientTargetCostObject8	 is a FinanceDimension8
			derive value from TargetCostObject8
		TransientTargetCostObject9	 is a FinanceDimension9
			derive value from TargetCostObject9
		TransientTargetCostObject10	 is a FinanceDimension10
			derive value from TargetCostObject10
			
		TransientSourceCostObject1	is a FinanceDimension1
			derive value from SourceCostObject1
		TransientSourceCostObject2	is a FinanceDimension2
			derive value from SourceCostObject2
		TransientSourceCostObject3	is a FinanceDimension3
			derive value from SourceCostObject3	
		TransientSourceCostObject4	is a FinanceDimension4
			derive value from SourceCostObject4
		TransientSourceCostObject5	is a FinanceDimension5
			derive value from SourceCostObject5
		TransientSourceCostObject6	is a FinanceDimension6
			derive value from SourceCostObject6
		TransientSourceCostObject7	is a FinanceDimension7
			derive value from SourceCostObject7
		TransientSourceCostObject8	is a FinanceDimension8
			derive value from SourceCostObject8
		TransientSourceCostObject9	is a FinanceDimension9
			derive value from SourceCostObject9
		TransientSourceCostObject10	is a FinanceDimension10
			derive value from SourceCostObject10
		
		TransientProcessAccountingUnitPostingBalance	is Boolean
			derive value from AllocationLine.ProcessAccountingUnitPostingBalance
		TransientProcessDimension1PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension1PostingBalance
		TransientProcessDimension2PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension2PostingBalance
		TransientProcessDimension3PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension3PostingBalance
		TransientProcessDimension4PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension4PostingBalance
		TransientProcessDimension5PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension5PostingBalance
		TransientProcessDimension6PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension6PostingBalance
		TransientProcessDimension7PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension7PostingBalance
		TransientProcessDimension8PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension8PostingBalance
		TransientProcessDimension9PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension9PostingBalance
		TransientProcessDimension10PostingBalance		is Boolean
			derive value from AllocationLine.ProcessDimension10PostingBalance
			
		TransientTreatBlankAccountingUnitAsEmpty		is Boolean
			derive value from DerivedTreatBlankAccountingUnitAsEmptyValue
		TransientTreatBlankProjectAsEmpty				is Boolean
			derive value from DerivedTreatBlankProjectAsEmptyValue
		TransientTreatBlankDimension1AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension1AsEmptyValue
		TransientTreatBlankDimension2AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension2AsEmptyValue
		TransientTreatBlankDimension3AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension3AsEmptyValue
		TransientTreatBlankDimension4AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension4AsEmptyValue
		TransientTreatBlankDimension5AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension5AsEmptyValue
		TransientTreatBlankDimension6AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension6AsEmptyValue
		TransientTreatBlankDimension7AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension7AsEmptyValue
		TransientTreatBlankDimension8AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension8AsEmptyValue
		TransientTreatBlankDimension9AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension9AsEmptyValue
		TransientTreatBlankDimension10AsEmpty			is Boolean
			derive value from DerivedTreatBlankDimension10AsEmptyValue
			
		TransientSourceLedger				is a Ledger
			derive value from DerivedSourceLedger
		TransientUtilizationLedger			is a Ledger
			derive value from DerivedUtilizationLedger
		TransientCapacityLedger				is a Ledger
			derive value from DerivedCapacityLedger
			
		FinanceDimension1Structure
			derive value from TrueCostConfiguration.EnterpriseDim1Structure
		FinanceDimension2Structure			
			derive value from TrueCostConfiguration.EnterpriseDim2Structure
		FinanceDimension3Structure
			derive value from TrueCostConfiguration.EnterpriseDim3Structure
		FinanceDimension4Structure
			derive value from TrueCostConfiguration.EnterpriseDim4Structure
		FinanceDimension5Structure
			derive value from TrueCostConfiguration.EnterpriseDim5Structure
		FinanceDimension6Structure
			derive value from TrueCostConfiguration.EnterpriseDim6Structure
		FinanceDimension7Structure
			derive value from TrueCostConfiguration.EnterpriseDim7Structure
		FinanceDimension8Structure
			derive value from TrueCostConfiguration.EnterpriseDim8Structure
		FinanceDimension9Structure
			derive value from TrueCostConfiguration.EnterpriseDim9Structure
		FinanceDimension10Structure
			derive value from TrueCostConfiguration.EnterpriseDim10Structure
		ProjectStructure
			derive value from TrueCostConfiguration.EnterpriseProjectStructure
		AccountStructure					is a ReportingChart
			derive value from TrueCostConfiguration.EnterpriseChart
		AccountingUnitStructure
			derive value from TrueCostConfiguration.EnterpriseAUStructure

    Relations
    	PostingAccountingUnitRel
    		one-to-one relation to TrueCostPostingAccountingUnit
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration		= TrueCostConfiguration
    			related.TrueCostAllocationControl	= TrueCostAllocationControl
    			related.AccountingEntity			= AccountingEntity
    	TrueCostDriverEventRel
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration				= TrueCostConfiguration
    			related.TrueCostDriver						= TrueCostDriver
    			related.AccountingEntity					= AccountingEntity
    			related.TrueCostDriverEvent.Department		= LocalDepartment
    			related.TrueCostDriverEvent.CostObject		= LocalCostObject
    			related.TrueCostDriverEvent.EventDateJulian	>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	DuplicateAllocationLineRel
    		one-to-one relation to TrueCostAllocationLine
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration 		= TrueCostConfiguration
	    		related.TrueCostAllocationControl 	= TrueCostAllocationControl
	    		related.TrueCostAllocation 			= LocalNewTrueCostAllocation
	    		related.TrueCostAllocationLine 		= LocalNewTrueCostAllocationLine 
		AccountShadowRel
			one-to-one relation to GLChartAccountShadow
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			 = TrueCostConfiguration
				related.ReportingChart					 = TrueCostAllocationControl.Chart
				related.GeneralLedgerChartAccount		 = LocalSourceAccount
				related.SummaryGeneralLedgerChartAccount = TrueCostAllocationControl.ExpenseAccounts													
    	
    	UnutilizedCapacitySeqRel
    		one-to-many relation to TrueCostUnutilizedCapacity
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration 						= TrueCostConfiguration
    			related.AccountingEntity 							= AccountingEntity
    		Instance Selection
    			where (related.TrueCostUnutilizedCapacity.IsCapacityFromSummary)

    				
    	Hierarchy1Rel 
    		one-to-many relation to FinanceDimension1Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension1Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy2Rel 
    		one-to-many relation to FinanceDimension2Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension2Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy3Rel 
    		one-to-many relation to FinanceDimension3Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension3Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy4Rel 
    		one-to-many relation to FinanceDimension4Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension4Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy5Rel 
    		one-to-many relation to FinanceDimension5Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension5Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy6Rel 
    		one-to-many relation to FinanceDimension6Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension6Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy7Rel 
    		one-to-many relation to FinanceDimension7Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension7Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy8Rel 
    		one-to-many relation to FinanceDimension8Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension8Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy9Rel 
    		one-to-many relation to FinanceDimension9Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension9Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)			
    	Hierarchy10Rel 
    		one-to-many relation to FinanceDimension10Hierarchy
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup =TrueCostConfiguration
    			related.FinanceDimension10Structure = TrueCostAllocationControl.CostObjectStructure
    		Instance Selection
    			where (related.ParentDimension = LocalCostObject)
    			
    	CapacityDriverEventRel1
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel2
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel3
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel4
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel5
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel6
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel7
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel8
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel9
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    	
    	CapacityDriverEventRel10
    		one-to-many relation to TrueCostDriverEvent
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration = TrueCostConfiguration
    			related.TrueCostDriver			= TrueCostDriver
    			related.AccountingEntity		= AccountingEntity    			
    			related.TrueCostDriverEvent.Department			= LocalDepartment
    			related.TrueCostDriverEvent.CostObject			= LocalCostObjectHierarchy
    			related.TrueCostDriverEvent.EventDateJulian		>= LocalPeriod.StartDateJulian
    		Instance Selection
    			where (related.TrueCostDriverEvent.EventDateJulian <= LocalPeriod.EndDateJulian)
    			    	
    	CapacityVolumesRel
    		one-to-one relation to TrueCostCapacityVolumes
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration				=	TrueCostConfiguration
    			related.TrueCostAllocationControl			=	TrueCostAllocationControl
    			related.AllocationRun						=	LocalAllocationRun
    			related.AccountingEntity					=	AccountingEntity
    			related.TrueCostCapacityVolumes.Department	=	LocalDepartment
    			related.TrueCostCapacityVolumes.CostObject	=	TargetCostObjects

		TrueCostDriverEventTotalRel
    		one-to-one relation to TrueCostDriverEventTotal
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration					= TrueCostConfiguration
    			related.TrueCostDriver							= TrueCostDriver
    			related.AccountingEntity						= AccountingEntity
    			related.TrueCostDriverEventTotal.Department		= LocalDepartment
    			related.TrueCostDriverEventTotal.CostObject		= LocalCostObject
    			related.TrueCostDriverEventTotal.EventPeriod	= LocalPeriod    			
  			
		HierarchyDepartmentPosting4Rel
			one-to-many relation to FinanceDimension4Hierarchy
			Field Mapping uses ByParentDimension
				related.FinanceEnterpriseGroup	    = TrueCostConfiguration
				related.ParentDimension				= SourceDepartment	  

		HierarchyTargetDepartment1Rel 
    		one-to-many relation to FinanceDimension1Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

    			related.SummaryFinanceDimension1	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment2Rel 
    		one-to-many relation to FinanceDimension2Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

    			related.SummaryFinanceDimension2	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment3Rel 
    		one-to-many relation to FinanceDimension3Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

    			related.SummaryFinanceDimension3	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment4Rel 
    		one-to-many relation to FinanceDimension4Shadow
			Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

				related.SummaryFinanceDimension4	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment5Rel			
			one-to-many relation to FinanceDimension5Shadow
			Field Mapping uses BySummaryDimension
				related.FinanceEnterpriseGroup		= TrueCostConfiguration

				related.SummaryFinanceDimension5	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment6Rel 
    		one-to-many relation to FinanceDimension6Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

    			related.SummaryFinanceDimension6	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment7Rel 
    		one-to-many relation to FinanceDimension7Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

    			related.SummaryFinanceDimension7	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment8Rel 
    		one-to-many relation to FinanceDimension8Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

    			related.SummaryFinanceDimension8	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment9Rel 
    		one-to-many relation to FinanceDimension9Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

    			related.SummaryFinanceDimension9	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment10Rel 
    		one-to-many relation to FinanceDimension10Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

    			related.SummaryFinanceDimension10	= SourceDepartment
    		Instance Selection
				where (related.DimensionType.Posting)
		HierarchyTargetDepartment0Rel 
    		one-to-many relation to AccountingUnitShadow
    		Field Mapping uses BySummaryAccountingUnit
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration

				related.SummaryEntity				= AccountingEntity 
    			related.SummaryAccountingUnit		= SourceDepartment
    		Instance Selection
				where (related.AccountingUnitType.Posting)

		TrueCostPracticalCapacitySummaryRel
			one-to-many relation to TrueCostPracticalCapacity
			Field Mapping uses symbolic key
			dynamic mapping is DerivedDepartmentEntities
	
		TrueCostPracticalCapacityRel
			one-to-many relation to TrueCostPracticalCapacity
			Field Mapping uses symbolic key
				related.TrueCostConfiguration						= TrueCostConfiguration
    			related.AccountingEntity							= AccountingEntity
    			related.TrueCostPracticalCapacity.TrueCostDriver	= TrueCostDriver
    			related.TrueCostPracticalCapacity.TrueCostWeight	= TrueCostWeight
    			related.TrueCostPracticalCapacity.Structure			= TrueCostAllocationControl.CostObjectStructure  
    			related.TrueCostPracticalCapacity.Department		= SourceDepartment  			
    			related.TrueCostPracticalCapacity.CostObject		= TargetCostObjects
    			
		TrueCostPracticalCapacityEffectiveDateRel
			one-to-one relation to TrueCostPracticalCapacity
			Field Mapping uses symbolic key
				related.TrueCostConfiguration						= TrueCostConfiguration
    			related.AccountingEntity							= AccountingEntity
    			related.TrueCostPracticalCapacity.TrueCostDriver	= TrueCostDriver
    			related.TrueCostPracticalCapacity.TrueCostWeight	= TrueCostWeight
    			related.TrueCostPracticalCapacity.Structure			= TrueCostAllocationControl.CostObjectStructure
    			related.TrueCostPracticalCapacity.Department		= LocalDepartment
    			related.TrueCostPracticalCapacity.CostObject		= TargetCostObjects
    			related.StartDate									= LocalEffectiveDate 	
    			
		TrueCostPracticalCapacityByDateRel
			one-to-many relation to TrueCostPracticalCapacity
			Field Mapping uses symbolic key
				related.TrueCostConfiguration						= TrueCostConfiguration
    			related.AccountingEntity							= AccountingEntity
    			related.TrueCostPracticalCapacity.TrueCostDriver	= TrueCostDriver
    			related.TrueCostPracticalCapacity.TrueCostWeight	= TrueCostWeight
    			related.TrueCostPracticalCapacity.Structure			= TrueCostAllocationControl.CostObjectStructure
    			related.TrueCostPracticalCapacity.Department		= LocalDepartment
    			related.TrueCostPracticalCapacity.CostObject		= TargetCostObjects
			Instance Selection
    			where (related.StartDate							<= LocalDate)
    			
  		TrueCostCapacityDetailRel
			one-to-many relation to TrueCostCapacityDetail
			Field Mapping uses symbolic key
				related.TrueCostConfiguration										= TrueCostConfiguration
    			related.TrueCostCapacity											= TrueCostCapacity
    			related.TrueCostCapacityDetail.TrueCostResourceIntensityFactor		= TrueCostResourceIntensityFactor
    			related.TrueCostCapacityDetail.TrueCostResourceUtilizationDriver	= TrueCostResourceUtilizationDriver
    			related.TrueCostCapacityDetail.DimensionCode						= DimensionCode
	    	
 		TrueCostCapacityDetailByDateRel
			one-to-many relation to TrueCostCapacityDetail
			Field Mapping uses symbolic key
				related.TrueCostConfiguration										= TrueCostConfiguration
    			related.TrueCostCapacity											= TrueCostCapacity
    			related.TrueCostCapacityDetail.TrueCostResourceIntensityFactor		= TrueCostResourceIntensityFactor
    			related.TrueCostCapacityDetail.TrueCostResourceUtilizationDriver	= TrueCostResourceUtilizationDriver
    			related.TrueCostCapacityDetail.DimensionCode						= LocalDimensionCode
			Instance Selection
    			where (related.EffectiveDate							<= LocalDate)

		TrueCostCapacityDetailEffectiveDateRel
			one-to-one relation to TrueCostCapacityDetail
			Field Mapping uses symbolic key
				related.TrueCostConfiguration										= TrueCostConfiguration
    			related.TrueCostCapacity											= TrueCostCapacity
    			related.TrueCostCapacityDetail.TrueCostResourceIntensityFactor		= TrueCostResourceIntensityFactor
    			related.TrueCostCapacityDetail.TrueCostResourceUtilizationDriver	= TrueCostResourceUtilizationDriver
    			related.TrueCostCapacityDetail.DimensionCode						= LocalDimensionCode
    			related.EffectiveDate												= LocalEffectiveDate 	
 
 		PracticalCapacityVolumeRel
 			one-to-many relation to TrueCostCapacityDetail
			Field Mapping uses symbolic key
				related.TrueCostConfiguration										= TrueCostConfiguration
    			related.TrueCostCapacity											= TrueCostCapacity
    			
     	TrueCostCapacityVolumeRel
    		one-to-one relation to TrueCostCapacityVolume
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration				=	TrueCostConfiguration
    			related.TrueCostAllocationControl			=	TrueCostAllocationControl
    			related.TrueCostAllocationRun 				=	LocalAllocationRun
    			related.TrueCostCapacity					=	TrueCostCapacity
    			related.TrueCostCapacityVolume				=	LocalDimensionCode

    	TrueCostCapacityUnutilizedRel
    		one-to-one relation to TrueCostCapacityUnutilized
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration 				= TrueCostConfiguration
    			related.TrueCostCapacity					= TrueCostCapacity
    			related.AccountingEntity					= DerivedAccountingEntity
    			related.TrueCostCapacityUnutilized		 	= DerivedTargetAddressIsCostObject

   		TrueCostUnutilizedCapacityRel
   			one-to-many relation to TrueCostCapacityUnutilized
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration 				= TrueCostConfiguration
    			related.TrueCostCapacity					= TrueCostCapacity
  
  		UnutilizedCapacityRel
		    one-to-many relation to TrueCostCapacityUnutilized
		    Field Mapping uses symbolic key
		        related.TrueCostConfiguration 				= TrueCostConfiguration
		        related.TrueCostCapacity      				= TrueCostCapacity
		        related.AccountingEntity					= DerivedAccountingEntity
		    Instance Selection
		        where ((related.TrueCostCapacityUnutilized = TargetFinanceAddress.AccountingUnit and  TrueCostCapacity.VolumeDimension.Type.AccountingUnit)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension1 and   TrueCostCapacity.VolumeDimension.Type.Dimension1)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension2 and   TrueCostCapacity.VolumeDimension.Type.Dimension2)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension3 and   TrueCostCapacity.VolumeDimension.Type.Dimension3)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension4 and   TrueCostCapacity.VolumeDimension.Type.Dimension4)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension5 and   TrueCostCapacity.VolumeDimension.Type.Dimension5)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension6 and   TrueCostCapacity.VolumeDimension.Type.Dimension6)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension7 and   TrueCostCapacity.VolumeDimension.Type.Dimension7)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension8 and   TrueCostCapacity.VolumeDimension.Type.Dimension8)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension9 and   TrueCostCapacity.VolumeDimension.Type.Dimension9)
		        or (related.TrueCostCapacityUnutilized = TargetFinanceAddress.FinanceDimension10 and   TrueCostCapacity.VolumeDimension.Type.Dimension10))
  
    	UnutilizedCapacityCostObjectRel
    		one-to-one relation to UnutilizedCapacityCostObject
    		Field Mapping uses symbolic key
    			related.TrueCostConfiguration 							= TrueCostConfiguration
    			related.UnutilizedCapacityCostObject.Structure			= TrueCostAllocationControl.CostObjectStructure
    			related.UnutilizedCapacityCostObject.SummaryCostObject 	= TargetCostObjects
		
		UnutilizedCapacityStructureRel
    		one-to-many relation to UnutilizedCapacityCostObject
    		Field Mapping uses ByStructure
    			related.TrueCostConfiguration 							= TrueCostConfiguration
    			related.UnutilizedCapacityCostObject.Structure			= TrueCostAllocationControl.CostObjectStructure
    	
    	CostObjectDimension1Rel
    		one-to-one relation to FinanceDimension1
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension1								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension2Rel
    		one-to-one relation to FinanceDimension2
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension2								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension3Rel
    		one-to-one relation to FinanceDimension3
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension3								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension4Rel
    		one-to-one relation to FinanceDimension4
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension4								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension5Rel
    		one-to-one relation to FinanceDimension5
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension5								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension6Rel
    		one-to-one relation to FinanceDimension6
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension6								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension7Rel
    		one-to-one relation to FinanceDimension7
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension7								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension8Rel
    		one-to-one relation to FinanceDimension8
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension8								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension9Rel
    		one-to-one relation to FinanceDimension9
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension9								= UnutilizedCapacityCostObjectRel.CostObject
    	CostObjectDimension10Rel
    		one-to-one relation to FinanceDimension10
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup							= TrueCostConfiguration    			
    			related.FinanceDimension10								= UnutilizedCapacityCostObjectRel.CostObject

		HierarchyCapacityDepartment1Rel 
    		one-to-many relation to FinanceDimension1Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension1	= SourceDepartment
    			related.FinanceDimension1			= LocalDepartment
		HierarchyCapacityDepartment2Rel 
    		one-to-many relation to FinanceDimension2Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension2	= SourceDepartment
    			related.FinanceDimension2			= LocalDepartment
    	HierarchyCapacityDepartment3Rel 
    		one-to-many relation to FinanceDimension3Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension3	= SourceDepartment
    			related.FinanceDimension3			= LocalDepartment
    	HierarchyCapacityDepartment4Rel 
    		one-to-many relation to FinanceDimension4Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension4	= SourceDepartment
    			related.FinanceDimension4			= LocalDepartment
    	HierarchyCapacityDepartment5Rel 
    		one-to-many relation to FinanceDimension5Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension5	= SourceDepartment
    			related.FinanceDimension5			= LocalDepartment
    	HierarchyCapacityDepartment6Rel 
    		one-to-many relation to FinanceDimension6Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension6	= SourceDepartment
    			related.FinanceDimension6			= LocalDepartment
    	HierarchyCapacityDepartment7Rel 
    		one-to-many relation to FinanceDimension7Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension7	= SourceDepartment
    			related.FinanceDimension7			= LocalDepartment
		HierarchyCapacityDepartment8Rel 
    		one-to-many relation to FinanceDimension8Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension8	= SourceDepartment
    			related.FinanceDimension8			= LocalDepartment
    	HierarchyCapacityDepartment9Rel 
    		one-to-many relation to FinanceDimension9Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension9	= SourceDepartment
    			related.FinanceDimension9			= LocalDepartment
    	HierarchyCapacityDepartment10Rel 
    		one-to-many relation to FinanceDimension10Shadow
    		Field Mapping uses BySummaryDimension
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
    			related.SummaryFinanceDimension10	= SourceDepartment
    			related.FinanceDimension10			= LocalDepartment    	
    	HierarchyCapacityDepartment0Rel 
    		one-to-many relation to AccountingUnitShadow
    		Field Mapping uses BySummaryAccountingUnit
    			related.FinanceEnterpriseGroup 		= TrueCostConfiguration
				related.SummaryEntity				= AccountingEntity 
    			related.SummaryAccountingUnit		= SourceDepartment
    		Instance Selection
    			where (related.AccountingUnit		= LocalDepartment) 

		TrueCostResourceUtilizationDriverEventTotalRel
			one-to-one relation to TrueCostResourceUtilizationDriverEventTotal
			Field Mapping uses symbolic key
				related.TrueCostConfiguration										= TrueCostConfiguration
				related.TrueCostResourceUtilizationDriver							= TrueCostResourceUtilizationDriver
  				related.TrueCostResourceUtilizationDriverEventTotal.DimensionCode	= LocalDimensionCode
  				related.TrueCostResourceUtilizationDriverEventTotal.EventPeriod		= LocalPeriod

 		AccountingUnitRel
			one-to-one relation to AccountingUnit
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= TrueCostConfiguration
				related.AccountingEntity			= DerivedAccountingEntity
				related.AccountingUnit				= LocalTarget

		GeneralLedgerChartAccountRel
			one-to-one relation to GeneralLedgerChartAccount
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= TrueCostConfiguration
				related.GeneralLedgerChartAccount	= LocalTarget

		ProjectRel
			one-to-one relation to Project
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= TrueCostConfiguration
				related.Project						= LocalTarget

    	FinanceDimension1Rel
    		one-to-one relation to FinanceDimension1
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension1			= LocalTarget

    	FinanceDimension2Rel
    		one-to-one relation to FinanceDimension2
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension2			= LocalTarget

    	FinanceDimension3Rel
    		one-to-one relation to FinanceDimension3
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension3			= LocalTarget

    	FinanceDimension4Rel
    		one-to-one relation to FinanceDimension4
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension4			= LocalTarget

    	FinanceDimension5Rel
    		one-to-one relation to FinanceDimension5
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension5			= LocalTarget

    	FinanceDimension6Rel
    		one-to-one relation to FinanceDimension6
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension6			= LocalTarget

    	FinanceDimension7Rel
    		one-to-one relation to FinanceDimension7
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension7			= LocalTarget

    	FinanceDimension8Rel
    		one-to-one relation to FinanceDimension8
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension8			= LocalTarget

    	FinanceDimension9Rel
    		one-to-one relation to FinanceDimension9
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension9			= LocalTarget

		FinanceDimension10Rel
    		one-to-one relation to FinanceDimension10
    		Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup		= TrueCostConfiguration    			
    			related.FinanceDimension10			= LocalTarget
 
 		DimensionStructureAccountingUnitRel
			one-to-many relation to AccountingUnit
			Field Mapping uses ByDimensionStructure
				related.FinanceEnterpriseGroup	= TrueCostConfiguration
				related.DimensionStructure		= TrueCostAllocationControl.AccountingUnitStructure
				related.AccountingUnitType		= AccountingUnitType.Entity

		AllocationTransactionDetailPostFromRel
			one-to-many relation to AllocationTransactionDetail
			Field Mapping uses ByAllocationLine
				related.FinanceEnterpriseGroup	= TrueCostConfiguration
            	related.AllocationSourceSystem	= AllocationSourceSystem.TrueCost 
            	related.AllocationControl		= TrueCostAllocationControl.AllocationControl
            	related.AllocationLine			= TrueCostAllocationLine
            	related.AllocationRun			= LocalAllocationRun
			Instance Selection
				where (related.Direction.PostFrom)

		JournalizedDetailsPostFromRel		
			one-to-many relation to AllocationJournalizedDetail
			Field Mapping uses ByAllocationLine
				related.FinanceEnterpriseGroup	= TrueCostConfiguration
            	related.AllocationSourceSystem	= AllocationSourceSystem.TrueCost 
            	related.AllocationControl		= TrueCostAllocationControl.AllocationControl
            	related.AllocationLine			= TrueCostAllocationLine
            	related.AllocationRun			= LocalAllocationRun
			Instance Selection
				where (related.Direction.PostFrom)

		CostBehaviorSummaryRel
			one-to-many relation to TrueCostCostBehaviorSummary
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= TrueCostConfiguration
				related.AllocationRun			= LocalAllocationRun
			Instance Selection
				where (related.CostBehavior		= TrueCostCostBehavior.CostBehavior)
				
		TrueCostResourceUtilizationDriverEventRel
			one-to-many relation to TrueCostResourceUtilizationDriverEvent
			Field Mapping uses symbolic key
				related.TrueCostConfiguration											 = TrueCostConfiguration
				related.TrueCostResourceUtilizationDriver								 = TrueCostResourceUtilizationDriver
  				related.TrueCostResourceUtilizationDriverEvent.DimensionCode			 = LocalDimensionCode
  				related.TrueCostResourceUtilizationDriverEvent.EventDateJulian 			<= LocalJulianDate
  				
    Local Fields
    	LocalAllocationLineView					is a AllocationLine view
    	LocalAllocationLine						is a AllocationLine
    	LocalAmount								is Decimal 31.4
    	LocalDate								is Date
    	LocalPeriod								is a GeneralLedgerCalendarPeriod
		LocalCostObject							is a TrueCostCostObject
		LocalDepartment							is a TrueCostDepartment
		TrueCostWeightData
			version is LocalDate
		LocalNewTrueCostAllocation				is a TrueCostAllocation
		LocalNewTrueCostAllocationLine			is AlphaUpper 25
		TrueCostUnutilizedCapacity
		TrueCostPracticalCapacity
			version is LocalDate
		
		LocalLastUCSequence						is Alpha 4
		LocalLastCount							is Numeric size 4
		LocalAllocationRun						is a AllocationRun
		
		LocalActualWeight						is Decimal 31.4
		LocalCapacityWeight						is Decimal 31.4
		LocalDriverEventSum						is Decimal 31.4
		LocalCostObjectHierarchy				is a TrueCostCostObject
		LocalEffectiveDate						is Date
		LocalAlphaDate							is Alpha 8
		LocalProcessedDate						is Date
		LocalAlphaMonth							is Alpha 2
		
		LocalCapacityDepartment					is a FinanceDimension1
		IsUsingCapacityVolume					is Boolean
		
		LocalDimensionCode						is Alpha 105
		LocalTarget								is Alpha 30
		TrueCostResourceIntensityFactorData
			version is LocalDate
		LocalForDriverForWeight					is Alpha 1
			States
				ForDriver						value is "D"
				ForWeight						value is "W"
		LocalFinanceAddress						is a FinanceAddress	 
			holds pii
		LocalCapacityAddress					is a FinanceAddress	 
			holds pii
		LocalStructureRow						is a StructureRow
		LocalSourceAccount						is a GeneralLedgerChartAccount
		TrueCostCapacityDetail
			version is LocalDate
		
		LocalJulianDateFormat			is an JulianDateFormatter	
		LocalJulianDate					is Alpha 7
	Derived Fields
		DerivedAccountingEntity	is a DerivedField
			type is like AccountingEntity
			restricted
			if (TargetDimension.Type.AccountingUnit)
				return SourceAddress.AccountingEntity
			else
				return blank

		DerivedTargetAddressIsCostObject			is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostCapacity entered)
				if (TrueCostCapacity.VolumeDimension.Type.AccountingEntity)
					return TargetFinanceAddress.AccountingEntity
				else
				if (TrueCostCapacity.VolumeDimension.Type.AccountingUnit)
					return TargetFinanceAddress.AccountingUnit
				else
				if (TrueCostCapacity.VolumeDimension.Type.Project)
					return TargetFinanceAddress.Project
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension1)
					return TargetFinanceAddress.FinanceDimension1
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension2)
					return TargetFinanceAddress.FinanceDimension2
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension3)
					return TargetFinanceAddress.FinanceDimension3
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension4)
					return TargetFinanceAddress.FinanceDimension4
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension5)
					return TargetFinanceAddress.FinanceDimension5
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension6)
					return TargetFinanceAddress.FinanceDimension6
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension7)
					return TargetFinanceAddress.FinanceDimension7
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension8)
					return TargetFinanceAddress.FinanceDimension8
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension9)
					return TargetFinanceAddress.FinanceDimension9
				else
				if (TrueCostCapacity.VolumeDimension.Type.Dimension10)
					return TargetFinanceAddress.FinanceDimension10
							
		DerivedCostObjectStructure				is a DerivedField
			type is like FinanceDimension1
			default label is "<DerivedCostObjectStructureLabel>Structure"
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TrueCostAllocationControl.FinanceDimension1Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TrueCostAllocationControl.FinanceDimension2Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TrueCostAllocationControl.FinanceDimension3Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TrueCostAllocationControl.FinanceDimension4Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TrueCostAllocationControl.FinanceDimension5Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TrueCostAllocationControl.FinanceDimension6Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TrueCostAllocationControl.FinanceDimension7Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TrueCostAllocationControl.FinanceDimension8Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TrueCostAllocationControl.FinanceDimension9Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TrueCostAllocationControl.FinanceDimension10Structure
			
		DerivedCapacityDepartment				is a DerivedField
			type is like FinanceDimension4			
			return LocalCapacityDepartment
	
		Spillover								is a DerivedField
			type is AlphaUpper 25
			restricted
			if (SupportsCapacity)
				return TrueCostCapacityUnutilizedRel.UnutilizedCapacityDimension
				
		SupportsCapacity						is a DerivedField
			type is Boolean
			restricted
			if (TrueCostAllocationControl.CapacityLedger entered
			and TrueCostCapacity entered
			and TargetIsSummary)
				return true
			return false
			
		DepartmentStructureAccountingUnit is a DerivedField
			type is like AccountingUnitStructure
			restricted
			if (TrueCostConfiguration.DepartmentIsAccountingUnit)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension1 is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension1)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension2 is a DerivedField
			type is like FinanceDimension2
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension2)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension3 is a DerivedField
			type is like FinanceDimension3
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension3)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension4 is a DerivedField
			type is like FinanceDimension4
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension4)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension5 is a DerivedField
			type is like FinanceDimension5
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension5)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension6 is a DerivedField
			type is like FinanceDimension6
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension6)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension7 is a DerivedField
			type is like FinanceDimension7
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension7)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension8 is a DerivedField
			type is like FinanceDimension8
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension8)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension9 is a DerivedField
			type is like FinanceDimension9
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension9)
				return TrueCostAllocationControl.DepartmentStructure
		DepartmentStructureDimension10 is a DerivedField
			type is like FinanceDimension10
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension10)
				return TrueCostAllocationControl.DepartmentStructure
		CostObjectStructureDimension1 is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension2 is a DerivedField
			type is like FinanceDimension2
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension3 is a DerivedField
			type is like FinanceDimension3
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension4 is a DerivedField
			type is like FinanceDimension4
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension5 is a DerivedField
			type is like FinanceDimension5
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension6 is a DerivedField
			type is like FinanceDimension6
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension7 is a DerivedField
			type is like FinanceDimension7
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension8 is a DerivedField
			type is like FinanceDimension8
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension9 is a DerivedField
			type is like FinanceDimension9
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TrueCostAllocationControl.CostObjectStructure
		CostObjectStructureDimension10 is a DerivedField
			type is like FinanceDimension10
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TrueCostAllocationControl.CostObjectStructure

		SourceAccountingUnit is a DerivedField
			type is like AccountingUnit
			restricted
			if (TrueCostConfiguration.DepartmentIsAccountingUnit)
				return SourceDepartment
		SourceDepartment1 is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension1)
				return SourceDepartment
		SourceDepartment2 is a DerivedField
			type is like FinanceDimension2
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension2)
				return SourceDepartment
		SourceDepartment3 is a DerivedField
			type is like FinanceDimension3
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension3)
				return SourceDepartment
		SourceDepartment4 is a DerivedField
			type is like FinanceDimension4
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension4)
				return SourceDepartment
		SourceDepartment5 is a DerivedField
			type is like FinanceDimension5
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension5)
				return SourceDepartment
		SourceDepartment6 is a DerivedField
			type is like FinanceDimension6
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension6)
				return SourceDepartment
		SourceDepartment7 is a DerivedField
			type is like FinanceDimension7
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension7)
				return SourceDepartment
		SourceDepartment8 is a DerivedField
			type is like FinanceDimension8
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension8)
				return SourceDepartment
		SourceDepartment9 is a DerivedField
			type is like FinanceDimension9
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension9)
				return SourceDepartment
		SourceDepartment10 is a DerivedField
			type is like FinanceDimension10
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension10)
				return SourceDepartment
				
		SourceCostObject1 is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return AllocationLine.SourceAddress.FinanceDimension1
		SourceCostObject2 is a DerivedField
			type is like FinanceDimension2
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return AllocationLine.SourceAddress.FinanceDimension2
		SourceCostObject3 is a DerivedField
			type is like FinanceDimension3
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return AllocationLine.SourceAddress.FinanceDimension3	
		SourceCostObject4 is a DerivedField
			type is like FinanceDimension4
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return AllocationLine.SourceAddress.FinanceDimension4
		SourceCostObject5 is a DerivedField
			type is like FinanceDimension5
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return AllocationLine.SourceAddress.FinanceDimension5
		SourceCostObject6 is a DerivedField
			type is like FinanceDimension6
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return AllocationLine.SourceAddress.FinanceDimension6
		SourceCostObject7 is a DerivedField
			type is like FinanceDimension7
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return AllocationLine.SourceAddress.FinanceDimension7
		SourceCostObject8 is a DerivedField
			type is like FinanceDimension8
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return AllocationLine.SourceAddress.FinanceDimension8
		SourceCostObject9 is a DerivedField
			type is like FinanceDimension9
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return AllocationLine.SourceAddress.FinanceDimension9
		SourceCostObject10 is a DerivedField
			type is like FinanceDimension10
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return AllocationLine.SourceAddress.FinanceDimension10
				
		TargetAccountingUnit is a DerivedField
			type is like AccountingUnit
			restricted
			if (TrueCostConfiguration.DepartmentIsAccountingUnit)
				return TargetDepartments
		TargetDepartment1 is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension1)
				return TargetDepartments
		TargetDepartment2 is a DerivedField
			type is like FinanceDimension2
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension2)
				return TargetDepartments
		TargetDepartment3 is a DerivedField
			type is like FinanceDimension3
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension3)
				return TargetDepartments
		TargetDepartment4 is a DerivedField
			type is like FinanceDimension4
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension4)
				return TargetDepartments
		TargetDepartment5 is a DerivedField
			type is like FinanceDimension5
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension5)
				return TargetDepartments
		TargetDepartment6 is a DerivedField
			type is like FinanceDimension6
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension6)
				return TargetDepartments
		TargetDepartment7 is a DerivedField
			type is like FinanceDimension7
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension7)
				return TargetDepartments
		TargetDepartment8 is a DerivedField
			type is like FinanceDimension8
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension8)
				return TargetDepartments
		TargetDepartment9 is a DerivedField
			type is like FinanceDimension9
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension9)
				return TargetDepartments
		TargetDepartment10 is a DerivedField
			type is like FinanceDimension10
			restricted
			if (TrueCostConfiguration.DepartmentIsDimension10)
				return TargetDepartments
				
		TargetCostObject1 is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TargetCostObjects
		TargetCostObject2 is a DerivedField
			type is like FinanceDimension2
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TargetCostObjects
		TargetCostObject3 is a DerivedField
			type is like FinanceDimension3
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TargetCostObjects
		TargetCostObject4 is a DerivedField
			type is like FinanceDimension4
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TargetCostObjects
		TargetCostObject5 is a DerivedField
			type is like FinanceDimension5
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TargetCostObjects
		TargetCostObject6 is a DerivedField
			type is like FinanceDimension6
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TargetCostObjects
		TargetCostObject7 is a DerivedField
			type is like FinanceDimension7
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TargetCostObjects
		TargetCostObject8 is a DerivedField
			type is like FinanceDimension8
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TargetCostObjects
		TargetCostObject9 is a DerivedField
			type is like FinanceDimension9
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TargetCostObjects
		TargetCostObject10 is a DerivedField
			type is like FinanceDimension10
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TargetCostObjects
		
		SourceCostObjectDescription is a DerivedField
			type is like Description
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TransientSourceCostObject1.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TransientSourceDepartment2.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TransientSourceCostObject3.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TransientSourceCostObject4.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TransientSourceCostObject5.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TransientSourceCostObject6.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TransientSourceCostObject7.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TransientSourceCostObject8.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TransientSourceCostObject9.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TransientSourceCostObject10.Description		
		SourceDepartmentDescription is a DerivedField
			type is like Description
			if (TrueCostConfiguration.DepartmentIsAccountingUnit)
				return TransientSourceAccountingUnit.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension1)
				return TransientSourceDepartment1.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension2)
				return TransientSourceDepartment2.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension3)
				return TransientSourceDepartment3.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension4)
				return TransientSourceDepartment4.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension5)
				return TransientSourceDepartment5.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension6)
				return TransientSourceDepartment6.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension7)
				return TransientSourceDepartment7.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension8)
				return TransientSourceDepartment8.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension9)
				return TransientSourceDepartment9.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension10)
				return TransientSourceDepartment10.Description
		TargetDepartmentsDescription is a DerivedField
			type is like Description
			if (TrueCostConfiguration.DepartmentIsAccountingUnit)
				return TransientTargetAccountingUnit.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension1)
				return TransientTargetDepartment1.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension2)
				return TransientTargetDepartment2.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension3)
				return TransientTargetDepartment3.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension4)
				return TransientTargetDepartment4.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension5)
				return TransientTargetDepartment5.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension6)
				return TransientTargetDepartment6.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension7)
				return TransientTargetDepartment7.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension8)
				return TransientTargetDepartment8.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension9)
				return TransientTargetDepartment9.Description
			else
			if (TrueCostConfiguration.DepartmentIsDimension10)
				return TransientTargetDepartment10.Description
				
		TargetCostObjectsDescription is a DerivedField
			type is like Description
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TransientTargetCostObject1.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TransientTargetCostObject2.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TransientTargetCostObject3.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TransientTargetCostObject4.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TransientTargetCostObject5.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TransientTargetCostObject6.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TransientTargetCostObject7.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TransientTargetCostObject8.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TransientTargetCostObject9.Description
			else
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TransientTargetCostObject10.Description

		DerivedCostObjectStructureLabel			is a DerivedField
			type is Alpha 25
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TrueCostConfiguration.FinanceDimension1Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TrueCostConfiguration.FinanceDimension2Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TrueCostConfiguration.FinanceDimension3Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TrueCostConfiguration.FinanceDimension4Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TrueCostConfiguration.FinanceDimension5Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TrueCostConfiguration.FinanceDimension6Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TrueCostConfiguration.FinanceDimension7Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TrueCostConfiguration.FinanceDimension8Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TrueCostConfiguration.FinanceDimension9Label
			else
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TrueCostConfiguration.FinanceDimension10Label			

		DerviedTargetDimensionLabel				is a DerivedField
			type is Alpha size 25
			if (TargetDimension.Type.AccountingEntity)
				return TrueCostConfiguration.FinanceEnterpriseGroup.AccountingEntityLabel
			else
			if (TargetDimension.Type.AccountingUnit)
				return TrueCostConfiguration.FinanceEnterpriseGroup.AccountingUnitLabel
			else
			if (TargetDimension.Type.Account)
				return TrueCostConfiguration.FinanceEnterpriseGroup.AccountLabel
			else
			if (TargetDimension.Type.Project)
				return TrueCostConfiguration.FinanceEnterpriseGroup.ProjectLabel
			else
			if (TargetDimension.Type.Dimension1)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension1Label
			else
			if (TargetDimension.Type.Dimension2)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension2Label
			else
			if (TargetDimension.Type.Dimension3)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension3Label
			else
			if (TargetDimension.Type.Dimension4)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension4Label
			else
			if (TargetDimension.Type.Dimension5)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension5Label
			else
			if (TargetDimension.Type.Dimension6)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension6Label
			else
			if (TargetDimension.Type.Dimension7)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension7Label
			else
			if (TargetDimension.Type.Dimension8)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension8Label
			else
			if (TargetDimension.Type.Dimension9)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension9Label
			else
			if (TargetDimension.Type.Dimension10)
				return TrueCostConfiguration.FinanceEnterpriseGroup.FinanceDimension10Label

		DerivedTreatBlankAccountingUnitAsEmpty	is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankAccountingUnitAsEmpty>"
			return	true
		DerivedTreatBlankProjectAsEmpty			is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankProjectAsEmpty>"
			return	true
		DerivedTreatBlankDimension1AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension1AsEmpty>"
			return	true
		DerivedTreatBlankDimension2AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension2AsEmpty>"
			return	true
		DerivedTreatBlankDimension3AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension3AsEmpty>"
			return	true
		DerivedTreatBlankDimension4AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension4AsEmpty>"
			return	true
		DerivedTreatBlankDimension5AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension5AsEmpty>"
			return	true
		DerivedTreatBlankDimension6AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension6AsEmpty>"
			return	true
		DerivedTreatBlankDimension7AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension7AsEmpty>"
			return	true
		DerivedTreatBlankDimension8AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension8AsEmpty>"
			return	true
		DerivedTreatBlankDimension9AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension9AsEmpty>"
			return	true
		DerivedTreatBlankDimension10AsEmpty		is a DerivedField
			type is Boolean
			default label is "<TrueCostAllocation.Allocation.DerivedTreatBlankDimension10AsEmpty>"
			return	true
		
		DerivedTreatBlankAccountingUnitAsEmptyValue	is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankAccountingUnitAsEmpty
			else
				return AllocationLine.TreatBlankAccountingUnitAsEmpty
		DerivedTreatBlankProjectAsEmptyValue 		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankProjectAsEmpty
			else
				return AllocationLine.TreatBlankProjectAsEmpty
		DerivedTreatBlankDimension1AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension1AsEmpty
			else
				return AllocationLine.TreatBlankDimension1AsEmpty
		DerivedTreatBlankDimension2AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension2AsEmpty
			else
				return AllocationLine.TreatBlankDimension2AsEmpty
		DerivedTreatBlankDimension3AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension3AsEmpty
			else
				return AllocationLine.TreatBlankDimension3AsEmpty
		DerivedTreatBlankDimension4AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension4AsEmpty
			else
				return AllocationLine.TreatBlankDimension4AsEmpty
		DerivedTreatBlankDimension5AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension5AsEmpty
			else
				return AllocationLine.TreatBlankDimension5AsEmpty
		DerivedTreatBlankDimension6AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension6AsEmpty
			else
				return AllocationLine.TreatBlankDimension6AsEmpty
		DerivedTreatBlankDimension7AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension7AsEmpty
			else
				return AllocationLine.TreatBlankDimension7AsEmpty
		DerivedTreatBlankDimension8AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension8AsEmpty
			else
				return AllocationLine.TreatBlankDimension8AsEmpty
		DerivedTreatBlankDimension9AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension9AsEmpty
			else
				return AllocationLine.TreatBlankDimension9AsEmpty	
		DerivedTreatBlankDimension10AsEmptyValue		is a DerivedField
			type is Boolean
			restricted
			if (action type.Create or action type.Update)
				return TransientTreatBlankDimension10AsEmpty
			else
				return AllocationLine.TreatBlankDimension10AsEmpty
				
		TargetIsSummary							is a DerivedField
			type is Boolean
			if (TargetDimension.Type.AccountingEntity)
				return false
			else
			if (TargetDimension.Type.AccountingUnit)
				return TargetFinanceAddress.AccountingUnit.SummaryAccountingUnit
			else
			if (TargetDimension.Type.Account)
				return TargetFinanceAddress.GeneralLedgerChartAccount.AnySummaryAccountInReportingChart
			else
			if (TargetDimension.Type.Project)
				return TargetFinanceAddress.Project.IsSummaryProject
			else
			if (TargetDimension.Type.Dimension1)
				return TargetFinanceAddress.FinanceDimension1.SummaryDimension
			else
			if (TargetDimension.Type.Dimension2)
				return TargetFinanceAddress.FinanceDimension2.SummaryDimension
			else
			if (TargetDimension.Type.Dimension3)
				return TargetFinanceAddress.FinanceDimension3.SummaryDimension
			else
			if (TargetDimension.Type.Dimension4)
				return TargetFinanceAddress.FinanceDimension4.SummaryDimension
			else
			if (TargetDimension.Type.Dimension5)
				return TargetFinanceAddress.FinanceDimension5.SummaryDimension
			else
			if (TargetDimension.Type.Dimension6)
				return TargetFinanceAddress.FinanceDimension6.SummaryDimension
			else
			if (TargetDimension.Type.Dimension7)
				return TargetFinanceAddress.FinanceDimension7.SummaryDimension
			else
			if (TargetDimension.Type.Dimension8)
				return TargetFinanceAddress.FinanceDimension8.SummaryDimension
			else
			if (TargetDimension.Type.Dimension9)
				return TargetFinanceAddress.FinanceDimension9.SummaryDimension
			else
			if (TargetDimension.Type.Dimension10)
				return TargetFinanceAddress.FinanceDimension10.SummaryDimension
				 				
		SourceAddressIsSummary							is a DerivedField
			type is Boolean
			restricted
			if (TrueCostConfiguration.AccountingUnitEntry)
				return SourceAddress.AccountingUnit.SummaryAccountingUnit
			else
			if (TrueCostConfiguration.FinanceDimension1Entry)
				return SourceAddress.FinanceDimension1.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension2Entry)
				return SourceAddress.FinanceDimension2.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension3Entry)
				return SourceAddress.FinanceDimension3.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension4Entry)
				return SourceAddress.FinanceDimension4.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension5Entry)
				return SourceAddress.FinanceDimension5.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension6Entry)
				return SourceAddress.FinanceDimension6.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension7Entry)
				return SourceAddress.FinanceDimension7.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension8Entry)
				return SourceAddress.FinanceDimension8.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension9Entry)
				return SourceAddress.FinanceDimension9.SummaryDimension
			else
			if (TrueCostConfiguration.FinanceDimension10Entry)
				return SourceAddress.FinanceDimension10.SummaryDimension

		SourceDepartmentIsSummary							is a DerivedField
			type is Boolean
			return false
				
		DerivedLastUCSequence	is a DerivedField
			type is AlphaUpper 4
			restricted
			LocalLastCount = instance count of UnutilizedCapacitySeqRel + 1
			if (LocalLastCount > 999)
				LocalLastUCSequence = LocalLastCount
			else
			if (LocalLastCount > 99)
				LocalLastUCSequence = "0" + LocalLastCount
			else
			if (LocalLastCount > 9)
				LocalLastUCSequence = "00" + LocalLastCount
			else
				LocalLastUCSequence = "000" + LocalLastCount
			
			return LocalLastUCSequence

		DimensionCode is a StringField
			type is Alpha 105
			restricted
			DerivedAccountingEntityCode
            DerivedAccountingUnitCode
			DerivedAccountCode	
			DerivedProjectCode
			DerivedFinanceDimension1Code
			DerivedFinanceDimension2Code
			DerivedFinanceDimension3Code
			DerivedFinanceDimension4Code
			DerivedFinanceDimension5Code
			DerivedFinanceDimension6Code
			DerivedFinanceDimension7Code
			DerivedFinanceDimension8Code
			DerivedFinanceDimension9Code
			DerivedFinanceDimension10Code

		DerivedAccountingEntityCode 		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.AccountingEntity)
				return AccountingEntity.DerivedSequenceNumber
			else
				if (LocalFinanceAddress.AccountingEntity entered)
					return LocalFinanceAddress.AccountingEntity.DerivedSequenceNumber
				else
					if (SourceAddress.AccountingEntity entered)
						return SourceAddress.AccountingEntity.DerivedSequenceNumber
				
		DerivedAccountingUnitCode			is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.AccountingUnit)
            	return AccountingUnitRel.DerivedSequenceNumber
            else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasAccountingUnit)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasAccountingUnit))
					return LocalFinanceAddress.AccountingUnit.DerivedSequenceNumber
				else
					if (SourceAddress.AccountingUnit entered and TrueCostCapacity.HasAccountingUnit)
						return SourceAddress.AccountingUnit.DerivedSequenceNumber		
					else
						return "0000000"	

		DerivedAccountCode			is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Account)
	           	return GeneralLedgerChartAccountRel.DerivedSequenceNumber
 			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasAccount)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasAccount))
					return LocalFinanceAddress.GeneralLedgerChartAccount.DerivedSequenceNumber
				else
					return "0000000"

		DerivedProjectCode			is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Project)
				return ProjectRel.DerivedSequenceNumber			
			else
	            if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasProject)
	            or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasProject))
	            	return LocalFinanceAddress.Project.DerivedSequenceNumber	
            	else
					if (SourceAddress.Project entered and TrueCostCapacity.HasProject)		
						return SourceAddress.Project.DerivedSequenceNumber
					else
						return "0000000"
            				
		DerivedFinanceDimension1Code		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Dimension1)		
				return FinanceDimension1Rel.DerivedSequenceNumber
			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension1)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension1))
					return LocalFinanceAddress.FinanceDimension1.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension1)
						if (TrueCostConfiguration.CostObjectIsDimension1)
							return TargetFinanceAddress.FinanceDimension1.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension1 entered)		
								return SourceAddress.FinanceDimension1.DerivedSequenceNumber
					else
						return "0000000"	

		DerivedFinanceDimension2Code		is a DerivedField
			type is Alpha 7
			restricted			
			if (LocalStructureRow.Type.Dimension2)
				return FinanceDimension2Rel.DerivedSequenceNumber
			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension2)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension2))
					return LocalFinanceAddress.FinanceDimension2.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension2)
						if (TrueCostConfiguration.CostObjectIsDimension2)											
							return TargetFinanceAddress.FinanceDimension2.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension2 entered)								
								return SourceAddress.FinanceDimension2.DerivedSequenceNumber
					else
						return "0000000"

		DerivedFinanceDimension3Code		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Dimension3)
				return FinanceDimension3Rel.DerivedSequenceNumber
			else	
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension3)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension3))
					return LocalFinanceAddress.FinanceDimension3.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension3)
						if (TrueCostConfiguration.CostObjectIsDimension3)
							return TargetFinanceAddress.FinanceDimension3.DerivedSequenceNumber
						else
							return SourceAddress.FinanceDimension3.DerivedSequenceNumber
					else
						return "0000000"

		DerivedFinanceDimension4Code		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Dimension4)
				return FinanceDimension4Rel.DerivedSequenceNumber
			else				
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension4)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension4))
					return LocalFinanceAddress.FinanceDimension4.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension4)
						if (TrueCostConfiguration.CostObjectIsDimension4)
							return TargetFinanceAddress.FinanceDimension4.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension4 entered)
								return SourceAddress.FinanceDimension4.DerivedSequenceNumber
					else
						return "0000000"		

		DerivedFinanceDimension5Code		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Dimension5)
				return FinanceDimension5Rel.DerivedSequenceNumber						
			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension5)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension5))
					return LocalFinanceAddress.FinanceDimension5.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension5)
						if (TrueCostConfiguration.CostObjectIsDimension5)
							return TargetFinanceAddress.FinanceDimension5.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension5 entered)
								return SourceAddress.FinanceDimension5.DerivedSequenceNumber
					else
						return "0000000"

		DerivedFinanceDimension6Code		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Dimension6)
				return FinanceDimension6Rel.DerivedSequenceNumber
			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension6)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension6))
					return LocalFinanceAddress.FinanceDimension6.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension6)
						if (TrueCostConfiguration.CostObjectIsDimension6)
							return TargetFinanceAddress.FinanceDimension6.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension6 entered)
								return SourceAddress.FinanceDimension6.DerivedSequenceNumber
					else
						return "0000000"

		DerivedFinanceDimension7Code		is a DerivedField
			type is Alpha 7
			restricted	
			if (LocalStructureRow.Type.Dimension7)
				return FinanceDimension7Rel.DerivedSequenceNumber
			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension7)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension7))
					return LocalFinanceAddress.FinanceDimension7.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension7)
						if (TrueCostConfiguration.CostObjectIsDimension7)
							return TargetFinanceAddress.FinanceDimension7.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension7 entered)
								return SourceAddress.FinanceDimension7.DerivedSequenceNumber
					else
						return "0000000"				

		DerivedFinanceDimension8Code		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Dimension8)
				return FinanceDimension8Rel.DerivedSequenceNumber
			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension8)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension8))
					return LocalFinanceAddress.FinanceDimension8.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension8)
						if (TrueCostConfiguration.CostObjectIsDimension8)
							return TargetFinanceAddress.FinanceDimension8.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension8 entered)
								return SourceAddress.FinanceDimension8.DerivedSequenceNumber
					else
						return "0000000"

		DerivedFinanceDimension9Code		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Dimension9)
				return FinanceDimension9Rel.DerivedSequenceNumber
			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension9)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension9))
					return LocalFinanceAddress.FinanceDimension9.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension9)
						if (TrueCostConfiguration.CostObjectIsDimension9)
							return TargetFinanceAddress.FinanceDimension9.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension9 entered)
								return SourceAddress.FinanceDimension9.DerivedSequenceNumber
					else
						return "0000000"								

		DerivedFinanceDimension10Code		is a DerivedField
			type is Alpha 7
			restricted
			if (LocalStructureRow.Type.Dimension10)
				return FinanceDimension10Rel.DerivedSequenceNumber
			else
				if ((LocalForDriverForWeight.ForDriver and TrueCostResourceUtilizationDriver.HasDimension10)
				or  (LocalForDriverForWeight.ForWeight and TrueCostResourceIntensityFactor.HasDimension10))
					return LocalFinanceAddress.FinanceDimension9.DerivedSequenceNumber
				else
					if (TrueCostCapacity.HasDimension10)
						if (TrueCostConfiguration.CostObjectIsDimension10)
							return TargetFinanceAddress.FinanceDimension10.DerivedSequenceNumber
						else
							if (SourceAddress.FinanceDimension10 entered)
								return SourceAddress.FinanceDimension10.DerivedSequenceNumber
					else
						return "0000000"
			
		EffectivePeriod					is a DerivedField
			type is Alpha 12
			LocalDate = current corporate date
			LocalPeriod = LocalDate month
			EffectivePeriod	=	LocalDate year
			if (LocalPeriod size = 1)
				EffectivePeriod += "0"+LocalPeriod   
			else
			if (LocalPeriod size = 2)
				EffectivePeriod += LocalPeriod 
				
			EffectivePeriod += "01"
			return EffectivePeriod

		UCCostObjectDescription is a DerivedField
			type is like Description
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return CostObjectDimension1Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return CostObjectDimension2Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return CostObjectDimension3Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return CostObjectDimension4Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return CostObjectDimension5Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return CostObjectDimension6Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return CostObjectDimension7Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return CostObjectDimension8Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return CostObjectDimension9Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return CostObjectDimension10Rel.Description

		DerivedDepartmentEntities		is a DerivedField
			type is LPLText
			restricted
			DerivedDepartmentEntities  = "related.TrueCostConfiguration 					= TrueCostConfiguration\n"
			DerivedDepartmentEntities += "related.AccountingEntity 							= AccountingEntity\n"
    		DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.TrueCostDriver 	= TrueCostDriver\n"
    		DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.TrueCostWeight 	= TrueCostWeight\n"
    		DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Structure 		= TrueCostAllocationControl.CostObjectStructure\n"
    		
			if (TrueCostConfiguration.DepartmentIsDimension1)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment1Rel.FinanceDimension1\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension2)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment2Rel.FinanceDimension2\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension3)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment3Rel.FinanceDimension3\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension4)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment4Rel.FinanceDimension4\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension5)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment5Rel.FinanceDimension5\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension6)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment6Rel.FinanceDimension6\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension7)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment7Rel.FinanceDimension7\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension8)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment8Rel.FinanceDimension8\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension9)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment9Rel.FinanceDimension9\n"
			else
			if (TrueCostConfiguration.DepartmentIsDimension10)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment10Rel.FinanceDimension10\n"
			else
			if (TrueCostConfiguration.DepartmentIsAccountingUnit)
				DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.Department	= any HierarchyTargetDepartment0Rel.AccountingUnit\n"
			DerivedDepartmentEntities += "related.TrueCostPracticalCapacity.CostObject 		= TargetCostObjects\n"
		
		DerivedNextPeriodStartDate					is a DerivedField
			type is Date
			restricted
			initialize LocalAlphaDate
			if (LocalPeriod.PeriodType = 3) 
				LocalAlphaDate			=	LocalPeriod.Year
				LocalAlphaMonth 		= 	LocalPeriod.Month
				if(LocalAlphaMonth size = 1)
					LocalAlphaDate 		+= 	"0" 
					LocalAlphaDate 		+= 	LocalAlphaMonth
				else
					LocalAlphaDate 		+= 	LocalAlphaMonth
				LocalAlphaDate 			+= 	"01"
				LocalProcessedDate 		= 	LocalAlphaDate
				return (LocalProcessedDate + 1 month)
			
		DerivedSourceLedger is a DerivedField
			type is like Ledger
			restricted
			return TrueCostAllocationControl.SourceLedger
			
		DerivedUtilizationLedger is a DerivedField
			type is like Ledger
			restricted
			return TrueCostAllocation.TrueCostAllocationControl.ActualsLedger
			
		DerivedCapacityLedger is a DerivedField
			type is like Ledger
			restricted
			return TrueCostAllocation.TrueCostAllocationControl.CapacityLedger
		

		IsTargetIsProject						is a DerivedField
			type is Boolean
			if (SourceAddress.Project entered)
				return true
		IsTargetIsFinanceDimension1				is a DerivedField
			type is Boolean
			if (SourceAddress.FinanceDimension1 entered)
				return true
		IsTargetIsFinanceDimension2				is a DerivedField
			type is Boolean
			if (SourceAddress.FinanceDimension2 entered)
				return true
		IsTargetIsFinanceDimension3				is a DerivedField
			type is Boolean
			if  (SourceAddress.FinanceDimension3 entered)
				return true
		IsTargetIsFinanceDimension4				is a DerivedField
			type is Boolean
			if  (SourceAddress.FinanceDimension4 entered)
				return true
		IsTargetIsFinanceDimension5				is a DerivedField
			type is Boolean
			if  (SourceAddress.FinanceDimension5 entered)
				return true
		IsTargetIsFinanceDimension6				is a DerivedField
			type is Boolean
			if  (SourceAddress.FinanceDimension6 entered)
				return true
		IsTargetIsFinanceDimension7				is a DerivedField
			type is Boolean
			if  (SourceAddress.FinanceDimension7 entered)
				return true
		IsTargetIsFinanceDimension8				is a DerivedField
			type is Boolean
			if  (SourceAddress.FinanceDimension8 entered)
				return true
		IsTargetIsFinanceDimension9				is a DerivedField
			type is Boolean
			if  (SourceAddress.FinanceDimension9 entered)
				return true
		IsTargetIsFinanceDimension10			is a DerivedField
			type is Boolean
			if  (SourceAddress.FinanceDimension10 entered)
				return true
				
		SourceCostObjectMustMustBeBlank is a MessageField
			restricted
			"<DerivedCostObjectStructureLabel>FieldMustBeBlank"
			
		DerivedBlankUnutilizedCapacityErrorMessage is a MessageField
			"Unutilized_CapacityIsMissing"
		
		DerivedUnutilizedCapacity is a DerivedField
			type is like TrueCostCapacityUnutilized
			default label is "UnutilizedCapacity<TrueCostCapacity.VolumeDimension.DisplayLabel>"
			if(NoUnutilizedCapacity)
				return "--"
			else
				return TrueCostCapacityUnutilizedRel.UnutilizedCapacityDimension
		
	Rule Blocks
		VerifyPostings



			if (TrueCostConfiguration.ProjectRequired)
				constraint (TrueCostAllocationControl.PostingProject exists)
					"MustSetPosting<TrueCostConfiguration.ProjectLabel>"
			if (TrueCostConfiguration.Dimension1Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension1 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension1Label>"
			if (TrueCostConfiguration.Dimension2Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension2 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension2Label>"
			if (TrueCostConfiguration.Dimension3Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension3 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension3Label>"
			if (TrueCostConfiguration.Dimension4Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension4 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension4Label>"
			if (TrueCostConfiguration.Dimension5Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension5 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension5Label>"
			if (TrueCostConfiguration.Dimension6Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension6 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension6Label>"
			if (TrueCostConfiguration.Dimension7Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension7 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension7Label>"
			if (TrueCostConfiguration.Dimension8Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension8 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension8Label>"
			if (TrueCostConfiguration.Dimension9Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension9 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension9Label>"
			if (TrueCostConfiguration.Dimension10Required)
				constraint (TrueCostAllocationControl.PostingFinanceDimension10 exists)
					"MustSetPosting<TrueCostConfiguration.FinanceDimension10Label>"
					
		SetLocalDepartmentFromSource
			if (TrueCostConfiguration.DepartmentIsAccountingUnit)
				LocalDepartment							= PrmSource.AccountingUnit
			else
			if (TrueCostConfiguration.DepartmentIsDimension1)
				LocalDepartment							= PrmSource.FinanceDimension1
			else
			if (TrueCostConfiguration.DepartmentIsDimension2)
				LocalDepartment							= PrmSource.FinanceDimension2
			else
			if (TrueCostConfiguration.DepartmentIsDimension3)
				LocalDepartment							= PrmSource.FinanceDimension3
			else
			if (TrueCostConfiguration.DepartmentIsDimension4)
				LocalDepartment							= PrmSource.FinanceDimension4
			else
			if (TrueCostConfiguration.DepartmentIsDimension5)
				LocalDepartment							= PrmSource.FinanceDimension5
			else
			if (TrueCostConfiguration.DepartmentIsDimension6)
				LocalDepartment							= PrmSource.FinanceDimension6
			else
			if (TrueCostConfiguration.DepartmentIsDimension7)
				LocalDepartment							= PrmSource.FinanceDimension7
			else
			if (TrueCostConfiguration.DepartmentIsDimension8)
				LocalDepartment							= PrmSource.FinanceDimension8
			else
			if (TrueCostConfiguration.DepartmentIsDimension9)
				LocalDepartment							= PrmSource.FinanceDimension9
			else
			if (TrueCostConfiguration.DepartmentIsDimension10)
				LocalDepartment							= PrmSource.FinanceDimension10

		SetProcessBalances
			if (!TargetDimensionIsCostObject)
				invoked.ProcessAccountPostingBalance	= true
				if (TrueCostConfiguration.DepartmentIsAccountingUnit)
					invoked.ProcessAccountingUnitPostingBalance		= true
				else
				if (SourceAddress.FinanceDimension1 entered)
					invoked.ProcessDimension1PostingBalance			= true
				else
				if (SourceAddress.FinanceDimension2 entered)
					invoked.ProcessDimension2PostingBalance			= true
				else
				if (SourceAddress.FinanceDimension3 entered)
					invoked.ProcessDimension3PostingBalance			= true
				else
				if (SourceAddress.FinanceDimension4 entered)
					invoked.ProcessDimension4PostingBalance			= true
				else
				if (SourceAddress.FinanceDimension5 entered)
					invoked.ProcessDimension5PostingBalance			= true
				else
				if (SourceAddress.FinanceDimension6 entered)
					invoked.ProcessDimension6PostingBalance			= true
				else
				if (TrueCostConfiguration.DepartmentIsDimension7)
					invoked.ProcessDimension7PostingBalance			= true			
				else
				if (TrueCostConfiguration.DepartmentIsDimension8)
					invoked.ProcessDimension8PostingBalance			= true
				else
				if (TrueCostConfiguration.DepartmentIsDimension9)
					invoked.ProcessDimension9PostingBalance			= true
				else
				if (TrueCostConfiguration.DepartmentIsDimension10)
					invoked.ProcessDimension10PostingBalance		= true

		ComputeWeight
			LocalForDriverForWeight					= LocalForDriverForWeight.ForWeight
			TrueCostResourceIntensityFactorData 	= LocalDimensionCode
			if (TrueCostResourceIntensityFactor entered
			and TrueCostResourceIntensityFactorData.Value entered)					
				LocalAmount						+= (LocalDriverEventSum * TrueCostResourceIntensityFactorData.Value)
			else
				LocalAmount						+= LocalDriverEventSum
				
		SetCostObjectTreatBlankAsEmpty
			if	(TrueCostConfiguration.CostObjectIsDimension1)
				TransientTreatBlankDimension1AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension2)
				TransientTreatBlankDimension2AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension3)
				TransientTreatBlankDimension3AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension4)
				TransientTreatBlankDimension4AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension5)
				TransientTreatBlankDimension5AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension6)
				TransientTreatBlankDimension6AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension7)
				TransientTreatBlankDimension7AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension8)
				TransientTreatBlankDimension8AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension9)
				TransientTreatBlankDimension9AsEmpty		=	true
			else
			if (TrueCostConfiguration.CostObjectIsDimension10)
				TransientTreatBlankDimension10AsEmpty		=	true
		
		InitializeTargetAddress
			if (not TargetDimension.Type.AccountingEntity
			and not TargetDimension.Type.AccountingUnit)
				initialize TargetFinanceAddress.AccountingEntity
			if (not TargetDimension.Type.AccountingUnit)
				initialize TargetFinanceAddress.AccountingUnit 
			if (not TargetDimension.Type.Account)
				initialize TargetFinanceAddress.GeneralLedgerChartAccount
			if (not TargetDimension.Type.Project)
				initialize TargetFinanceAddress.Project
			if (not TargetDimension.Type.Dimension1) 
				initialize TargetFinanceAddress.FinanceDimension1
			if (not TargetDimension.Type.Dimension2) 
				initialize TargetFinanceAddress.FinanceDimension2
			if (not TargetDimension.Type.Dimension3) 
				initialize TargetFinanceAddress.FinanceDimension3
			if (not TargetDimension.Type.Dimension4) 
				initialize TargetFinanceAddress.FinanceDimension4
			if (not TargetDimension.Type.Dimension5) 
				initialize TargetFinanceAddress.FinanceDimension5
			if (not TargetDimension.Type.Dimension6) 
				initialize TargetFinanceAddress.FinanceDimension6
			if (not TargetDimension.Type.Dimension7) 
				initialize TargetFinanceAddress.FinanceDimension7
			if (not TargetDimension.Type.Dimension8) 
				initialize TargetFinanceAddress.FinanceDimension8
			if (not TargetDimension.Type.Dimension9) 
				initialize TargetFinanceAddress.FinanceDimension9
			if (not TargetDimension.Type.Dimension10) 
				initialize TargetFinanceAddress.FinanceDimension10
			
		PopulateAllocationLine
			invoked.Description										= Description
			invoked.Active											= Active				
			invoked.SourcePercentage								= SourcePercentage
			invoked.AllocationStep									= Step

			if (TargetIsSummary)
				invoked.ToDimensionWithMultipleOverrides		=  TargetDimension
			else
				initialize invoked.ToDimensionWithMultipleOverrides			
			invoked.TreatBlankProjectAsEmpty 						= TransientTreatBlankProjectAsEmpty
			invoked.TreatBlankDimension1AsEmpty						= TransientTreatBlankDimension1AsEmpty
			invoked.TreatBlankDimension2AsEmpty						= TransientTreatBlankDimension2AsEmpty
			invoked.TreatBlankDimension3AsEmpty						= TransientTreatBlankDimension3AsEmpty
			invoked.TreatBlankDimension4AsEmpty						= TransientTreatBlankDimension4AsEmpty
			invoked.TreatBlankDimension5AsEmpty						= TransientTreatBlankDimension5AsEmpty
			invoked.TreatBlankDimension6AsEmpty						= TransientTreatBlankDimension6AsEmpty
			invoked.TreatBlankDimension7AsEmpty						= TransientTreatBlankDimension7AsEmpty
			invoked.TreatBlankDimension8AsEmpty						= TransientTreatBlankDimension8AsEmpty
			invoked.TreatBlankDimension9AsEmpty						= TransientTreatBlankDimension9AsEmpty
			invoked.TreatBlankDimension10AsEmpty					= TransientTreatBlankDimension10AsEmpty
		
			invoked.SourceAddress	= SourceAddress	
			
			if (TargetIsSummary)
				invoked.ToOverrideSummary							= TargetFinanceAddress
				initialize invoked.ToOverride
			else
				invoked.ToOverride									= TargetFinanceAddress
				initialize invoked.ToOverrideSummary
				
			invoked.ComputeOverridesForDistinctDimensions			= true
		
			invoked.ComputeOverridesForAccountingUnit				= DriverAndWeightHasAccountingUnit	
			invoked.ComputeOverridesForAccount						= DriverAndWeightHasAccount
			invoked.ComputeOverridesForProject						= DriverAndWeightHasProject	
			invoked.ComputeOverridesForDimension1					= DriverAndWeightHasDimension1
			invoked.ComputeOverridesForDimension2					= DriverAndWeightHasDimension2
			invoked.ComputeOverridesForDimension3					= DriverAndWeightHasDimension3
			invoked.ComputeOverridesForDimension4					= DriverAndWeightHasDimension4
			invoked.ComputeOverridesForDimension5					= DriverAndWeightHasDimension5
			invoked.ComputeOverridesForDimension6					= DriverAndWeightHasDimension6
			invoked.ComputeOverridesForDimension7					= DriverAndWeightHasDimension7
			invoked.ComputeOverridesForDimension8					= DriverAndWeightHasDimension8
			invoked.ComputeOverridesForDimension9					= DriverAndWeightHasDimension9
			invoked.ComputeOverridesForDimension10					= DriverAndWeightHasDimension10
			
		ValidateFinanceAddress
			if (TargetDimension.Type.AccountingEntity)
				constraint (TargetFinanceAddress.AccountingEntity entered)
					"<TrueCostConfiguration.AccountingEntityLabel>IsRequired"
			else
			if (TargetDimension.Type.AccountingUnit)
				constraint (TargetFinanceAddress.AccountingUnit entered)
					"<TrueCostConfiguration.AccountingUnitLabel>IsRequired"

				TargetFinanceAddress.AccountingEntity = SourceAddress.AccountingEntity

			else
			if (TargetDimension.Type.Account)
				constraint (TargetFinanceAddress.GeneralLedgerChartAccount entered)
					"<TrueCostConfiguration.AccountLabel>IsRequired" 
			else
			if (TargetDimension.Type.Project)
				constraint (TargetFinanceAddress.Project entered)
					"<TrueCostConfiguration.ProjectLabel>IsRequired"
			else
			if (TargetDimension.Type.Dimension1)
				constraint (TargetFinanceAddress.FinanceDimension1 entered)
					"<TrueCostConfiguration.FinanceDimension1Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension2)
				constraint (TargetFinanceAddress.FinanceDimension2 entered)
					"<TrueCostConfiguration.FinanceDimension2Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension3)
				constraint (TargetFinanceAddress.FinanceDimension3 entered)
					"<TrueCostConfiguration.FinanceDimension3Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension4)
				constraint (TargetFinanceAddress.FinanceDimension4 entered)
					"<TrueCostConfiguration.FinanceDimension4Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension5)
				constraint (TargetFinanceAddress.FinanceDimension5 entered)
					"<TrueCostConfiguration.FinanceDimension5Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension6)
				constraint (TargetFinanceAddress.FinanceDimension6 entered)
					"<TrueCostConfiguration.FinanceDimension6Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension7)
				constraint (TargetFinanceAddress.FinanceDimension7 entered)
					"<TrueCostConfiguration.FinanceDimension7Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension8)
				constraint (TargetFinanceAddress.FinanceDimension8 entered)
					"<TrueCostConfiguration.FinanceDimension8Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension9)
				constraint (TargetFinanceAddress.FinanceDimension9 entered)
					"<TrueCostConfiguration.FinanceDimension9Label>IsRequired"
			else
			if (TargetDimension.Type.Dimension10)
				constraint (TargetFinanceAddress.FinanceDimension10 entered)
					"<TrueCostConfiguration.FinanceDimension10Label>IsRequired"

			constraint (SourceAddress.AccountingEntity entered)
				"AccountingEntityIsRequired"
			constraint (SourceAddress.GeneralLedgerChartAccount entered)
				"AccountIsRequired"		
			LocalSourceAccount = SourceAddress.GeneralLedgerChartAccount
			constraint (AccountShadowRel exists
				or SourceAddress.GeneralLedgerChartAccount = TrueCostAllocationControl.ExpenseAccounts)
					"SourceAccountMustBeWithin<TrueCostAllocationControl.ExpenseAccounts>"

		CreateDirectVariableCore
			invoke Create TrueCostCostBehaviorSummary
				invoked.FinanceEnterpriseGroup								=	PrmFinanceEnterpriseGroup
				invoked.AllocationRun										=	PrmTrueCostAllocationRun.AllocationRun
				invoked.CostBehavior										=	"Direct-Variable (Core)"
				invoked.TotalCost											=	PrmTrueCostAllocationRun.TotalExpenseWithCostObject

	Field Rules
		Step
			required

			if (not TargetDimensionIsCostObject)
				constraint (Step <100)
					"StepNumberForAllocationTo<TargetDimension>MustBeLessThan100"


		TargetDimension
			required
			
		SourcePercentage
			initial value is 1.0
			default to 1.0
			constraint (SourcePercentage >= 0 )
				"SourcePercentageCannotBeNegative"
			constraint (SourcePercentage <= 1.0)
				"SourcePercentageCannotExceedOneHundredPercent"

		TrueCostResourceIntensityFactor
			constraint (ValidWeight)
				"Driver_WeightMustHave<TargetDimension>Dimension"

		TrueCostResourceUtilizationDriver
			required
			constraint (ValidDriver)
				"DriverMustHave<TargetDimension>Dimension"
	
		TrueCostCapacity
			constraint(ValidCapacity)
				"Practical_Capacity_Volume_DimensionMustBeThe<TargetDimension>"
			
		TrueCostCostBehavior
			if (!TargetDimensionIsCostObject)
				constraint(TrueCostCostBehavior not entered)
					"TargetDimensionMustBe<TrueCostConfiguration.CostObjectLabel>"
		
		UseActualVolume 
			if (!TargetDimensionIsCostObject)
				UseActualVolume = false
		
		SourceAddress
			if (TrueCostConfiguration.CostObjectIsDimension1)
				constraint (SourceAddress.FinanceDimension1 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension2)
				constraint (SourceAddress.FinanceDimension2 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension3)
				constraint (SourceAddress.FinanceDimension3 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension4)
				constraint (SourceAddress.FinanceDimension4 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension5)
				constraint (SourceAddress.FinanceDimension5 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension6)
				constraint (SourceAddress.FinanceDimension6 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension7)
				constraint (SourceAddress.FinanceDimension7 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension8)
				constraint (SourceAddress.FinanceDimension8 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension9)
				constraint (SourceAddress.FinanceDimension9 not entered)
					"<SourceCostObjectMustMustBeBlank>"
			if (TrueCostConfiguration.CostObjectIsDimension10)
				constraint (SourceAddress.FinanceDimension10 not entered)
					"<SourceCostObjectMustMustBeBlank>"
				
	Conditions
	    ValidWeight
	    	restricted
			when ((TargetDimension.Type.AccountingEntity)
			or	  (TargetDimension.Type.Account and TrueCostResourceIntensityFactor.HasAccount)
            or    (TargetDimension.Type.Project and TrueCostResourceIntensityFactor.HasProject)
            or    (TargetDimension.Type.AccountingUnit and TrueCostResourceIntensityFactor.HasAccountingUnit)
            or    (TargetDimension.Type.Dimension1 and TrueCostResourceIntensityFactor.HasDimension1)
            or    (TargetDimension.Type.Dimension2 and TrueCostResourceIntensityFactor.HasDimension2)
            or    (TargetDimension.Type.Dimension3 and TrueCostResourceIntensityFactor.HasDimension3)
            or    (TargetDimension.Type.Dimension4 and TrueCostResourceIntensityFactor.HasDimension4)
            or    (TargetDimension.Type.Dimension5 and TrueCostResourceIntensityFactor.HasDimension5)
            or    (TargetDimension.Type.Dimension6 and TrueCostResourceIntensityFactor.HasDimension6)
            or    (TargetDimension.Type.Dimension7 and TrueCostResourceIntensityFactor.HasDimension7)
            or    (TargetDimension.Type.Dimension8 and TrueCostResourceIntensityFactor.HasDimension8)
            or    (TargetDimension.Type.Dimension9 and TrueCostResourceIntensityFactor.HasDimension9)
            or    (TargetDimension.Type.Dimension10 and TrueCostResourceIntensityFactor.HasDimension10))
		ValidDriver
			restricted
			when  ((TargetDimension.Type.AccountingEntity)
			or	  (TargetDimension.Type.Account and TrueCostResourceUtilizationDriver.HasAccount)
            or    (TargetDimension.Type.Project and TrueCostResourceUtilizationDriver.HasProject)
            or    (TargetDimension.Type.AccountingUnit and TrueCostResourceUtilizationDriver.HasAccountingUnit)
            or    (TargetDimension.Type.Dimension1 and TrueCostResourceUtilizationDriver.HasDimension1)
            or    (TargetDimension.Type.Dimension2 and TrueCostResourceUtilizationDriver.HasDimension2)
            or    (TargetDimension.Type.Dimension3 and TrueCostResourceUtilizationDriver.HasDimension3)
            or    (TargetDimension.Type.Dimension4 and TrueCostResourceUtilizationDriver.HasDimension4)
            or    (TargetDimension.Type.Dimension5 and TrueCostResourceUtilizationDriver.HasDimension5)
            or    (TargetDimension.Type.Dimension6 and TrueCostResourceUtilizationDriver.HasDimension6)
            or    (TargetDimension.Type.Dimension7 and TrueCostResourceUtilizationDriver.HasDimension7)
            or    (TargetDimension.Type.Dimension8 and TrueCostResourceUtilizationDriver.HasDimension8)
            or    (TargetDimension.Type.Dimension9 and TrueCostResourceUtilizationDriver.HasDimension9)
            or    (TargetDimension.Type.Dimension10 and TrueCostResourceUtilizationDriver.HasDimension10))   	
		ValidCapacity
			restricted
			when ((TargetDimension.Type.AccountingEntity)
			or	  (TargetDimension.Type.Project and TrueCostCapacity.VolumeDimension.Type.Project)
            or    (TargetDimension.Type.AccountingUnit and TrueCostCapacity.VolumeDimension.Type.AccountingUnit)
            or    (TargetDimension.Type.Dimension1 and TrueCostCapacity.VolumeDimension.Type.Dimension1)
            or    (TargetDimension.Type.Dimension2 and TrueCostCapacity.VolumeDimension.Type.Dimension2)
            or    (TargetDimension.Type.Dimension3 and TrueCostCapacity.VolumeDimension.Type.Dimension3)
            or    (TargetDimension.Type.Dimension4 and TrueCostCapacity.VolumeDimension.Type.Dimension4)
            or    (TargetDimension.Type.Dimension5 and TrueCostCapacity.VolumeDimension.Type.Dimension5)
            or    (TargetDimension.Type.Dimension6 and TrueCostCapacity.VolumeDimension.Type.Dimension6)
            or    (TargetDimension.Type.Dimension7 and TrueCostCapacity.VolumeDimension.Type.Dimension7)
            or    (TargetDimension.Type.Dimension8 and TrueCostCapacity.VolumeDimension.Type.Dimension8)
            or    (TargetDimension.Type.Dimension9 and TrueCostCapacity.VolumeDimension.Type.Dimension9)
            or    (TargetDimension.Type.Dimension10 and TrueCostCapacity.VolumeDimension.Type.Dimension10))   			
		NoUnutilizedCostObject
			restricted
			when(UnutilizedCapacityCostObjectRel not exists
			and !UseActualVolume 
			and TargetDimensionIsCostObject)

		NoUnutilizedCapacity
			restricted
			when (TrueCostCapacityUnutilizedRel not exists
			and TrueCostCapacity entered)
			
		PostingTargetDepartment
			restricted
			when(!UseActualVolume 
			and TargetDimensionIsCostObject
			and !SourceAddressIsSummary)
		SummaryTargetDepartment
			restricted
			when(!UseActualVolume 
			and TargetDimensionIsCostObject
			and SourceAddressIsSummary)
		HasPracticalCapacity
			restricted
			when(TrueCostCapacity entered)
		NoPracticalCapacity
			restricted
			when((PostingTargetDepartment and TrueCostPracticalCapacityRel not exist) 
			or (SummaryTargetDepartment and TrueCostPracticalCapacitySummaryRel not exists))
		NoPracticalCapacityPosting
			restricted
			when(TrueCostPracticalCapacityRel not exist)
		NoPracticalCapacitySummary
			restricted
			when(TrueCostPracticalCapacitySummaryRel not exists)
		AccountingDimension
			restricted
			when(TrueCostConfiguration.DepartmentIsAccountingUnit
			and SummaryTargetDepartment)
		DepartmentDimension1
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension1)
		DepartmentDimension2
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension2)
		DepartmentDimension3
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension3)
		DepartmentDimension4
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension4)
		DepartmentDimension5
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension5)
		DepartmentDimension6
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension6)
		DepartmentDimension7
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension7)
		DepartmentDimension8
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension8)
		DepartmentDimension9
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension9)		
		DepartmentDimension10
			restricted
			when (SummaryTargetDepartment
			and TrueCostConfiguration.DepartmentIsDimension10)
		HasSummarizedDriverEvents
			restricted
			when (TrueCostConfiguration.Calendar entered
			and   TrueCostConfiguration.Calendar = TrueCostAllocationControl.Calendar)
		IsStep1
			restricted
			when (Step = 1)
		IsStep2To100
			restricted
			when (Step >= 2)
			
		TargetDimensionIsCostObject
			restricted
			when (TrueCostConfiguration.CostObjectDimension = TargetDimension)
			
		DriverAndWeightHasAccount
			restricted
			when (TrueCostResourceUtilizationDriver.HasAccount or TrueCostResourceIntensityFactor.HasAccount)
		DriverAndWeightHasProject				
			restricted
			when (TrueCostResourceUtilizationDriver.HasProject or TrueCostResourceIntensityFactor.HasProject)
		DriverAndWeightHasAccountingUnit		
			restricted
			when (TrueCostResourceUtilizationDriver.HasAccountingUnit or TrueCostResourceIntensityFactor.HasAccountingUnit)
        DriverAndWeightHasDimension1        	
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension1 or TrueCostResourceIntensityFactor.HasDimension1)
        DriverAndWeightHasDimension2        	
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension2 or TrueCostResourceIntensityFactor.HasDimension2)
        DriverAndWeightHasDimension3        	
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension3 or TrueCostResourceIntensityFactor.HasDimension3)
        DriverAndWeightHasDimension4	
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension4 or TrueCostResourceIntensityFactor.HasDimension4)
        DriverAndWeightHasDimension5
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension5 or TrueCostResourceIntensityFactor.HasDimension5)
        DriverAndWeightHasDimension6
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension6 or TrueCostResourceIntensityFactor.HasDimension6)
        DriverAndWeightHasDimension7
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension7 or TrueCostResourceIntensityFactor.HasDimension7)
        DriverAndWeightHasDimension8
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension8 or TrueCostResourceIntensityFactor.HasDimension8)
        DriverAndWeightHasDimension9
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension9 or TrueCostResourceIntensityFactor.HasDimension9)
        DriverAndWeightHasDimension10	
			restricted
			when (TrueCostResourceUtilizationDriver.HasDimension10 or TrueCostResourceIntensityFactor.HasDimension1)
		
		IsTargetDimension7Dim
			restricted
			when(TargetDimension.Type.Dimension7)

	Sets				
		ByStepNumber
			Sort Order
				TrueCostConfiguration
				TrueCostAllocationControl
				Step
				TrueCostAllocation
				TrueCostAllocationLine	
				
		ByWithinDepartment
			Sort Order
				TrueCostConfiguration
				TrueCostAllocationControl
				IsWithinDepartment
				TrueCostAllocation
				TrueCostAllocationLine
				AccountingEntity

	Actions
		Create is an Action
			Action Rules
				include ValidateFinanceAddress
				if (TargetDimensionIsCostObject)
					if (TrueCostCostBehavior = blank)
						TrueCostCostBehavior = 1
				else
					if (TrueCostCostBehavior entered)
						TrueCostCostBehavior = blank

			Exit Rules
				
				include InitializeTargetAddress
				include	SetCostObjectTreatBlankAsEmpty

				invoke Create AllocationLine
					assign result to LocalAllocationLineView
					invoked.FinanceEnterpriseGroup							= TrueCostConfiguration
					invoked.AllocationControl								= TrueCostAllocationControl.AllocationControl
					invoked.Allocation										= TrueCostAllocation.Allocation
					invoked.AllocationLine									= TrueCostAllocationLine
					invoked.FromPostOption									= AllocationPostOption.Consolidate
					invoked.ToPostOption									= AllocationPostOption.Split
					invoked.AllocationSplitCallBack.Direction				= 1
					invoked.AllocationSplitCallBack.TrueCostCallBack.TrueCostConfiguration			= TrueCostConfiguration
					invoked.AllocationSplitCallBack.TrueCostCallBack.TrueCostAllocationControl		= TrueCostAllocationControl
					invoked.AllocationSplitCallBack.TrueCostCallBack.TrueCostAllocation				= TrueCostAllocation
					invoked.AllocationSplitCallBack.TrueCostCallBack.TrueCostAllocationLine			= TrueCostAllocationLine																													
					invoked.ProcessAllPostingBalance						= true 
					invoked.TransientSourceLedger							= TrueCostAllocationControl.SourceLedger
					
					include PopulateAllocationLine
				
				AllocationLine = LocalAllocationLineView.AllocationLine
					
    	Update is an Update Action
    		Action Rules
				include ValidateFinanceAddress
				if (TargetDimensionIsCostObject)
    				if (TrueCostCostBehavior = blank)
    					TrueCostCostBehavior = 1
					if (TargetDepartments entered)
						TargetDepartments = blank
    			else
    				if (TrueCostCostBehavior entered)
    					TrueCostCostBehavior = blank				
			Exit Rules
				if (!TargetDimensionIsCostObject and TargetCostObjects entered)
					TargetCostObjects = blank
				include InitializeTargetAddress
				include	SetCostObjectTreatBlankAsEmpty
				
				invoke Update AllocationLine
					invoked.BypassMultiMultidimensionInitialization			= true 
					
					include PopulateAllocationLine
				
		Delete is a Delete Action
			Entrance Rules
				invoke DeleteAllocationLine
			
    	DeleteAllocationLine is an Instance Action
    		restricted
    		Entrance Rules
    			LocalAllocationLine = AllocationLine
    			initialize AllocationLine
    		Action Rules
    			invoke Update AllocationLine
    				invoked.AllocationSplitCallBack.TrueCostCallBack.TrueCostAllocationLine			= blank
    		Exit Rules
    			invoke Delete LocalAllocationLine    	

		CopyAllocationLine is an Instance Action
			disable multiple instance selection
			Parameters
				PrmTrueCostAllocation			is a TrueCostAllocation
					default label is "True\CostAllocation"
				PrmTrueCostAllocationLine		is AlphaUpper 25
					default label is "True\CostAllocationLine"
			Parameter Rules
				PrmTrueCostAllocation
					required
					initial value is TrueCostAllocation
					default to TrueCostAllocation
				PrmTrueCostAllocationLine
					if (PrmTrueCostAllocationLine not entered)
						PrmTrueCostAllocationLine 		= TrueCostAllocationLine
						LocalNewTrueCostAllocation 		= PrmTrueCostAllocation
						LocalNewTrueCostAllocationLine 	= TrueCostAllocationLine
						constraint (DuplicateAllocationLineRel not exists)
							"True\CostAllocationLine_is_required"	
					else
						LocalNewTrueCostAllocation 		= PrmTrueCostAllocation
						LocalNewTrueCostAllocationLine 	= PrmTrueCostAllocationLine
						constraint (DuplicateAllocationLineRel not exists)
							"True\CostAllocationLine_already_exist"
							
			Action Rules					
				invoke Create TrueCostAllocationLine
					fill in fields from this instance
						except invoked.AllocationLine
					invoked.TrueCostAllocation				= PrmTrueCostAllocation
					invoked.TrueCostAllocationLine			= PrmTrueCostAllocationLine
			 
		FixPostingBalances is a Set Action
			restricted
			Parameters
				PrmTrueCostConfiguration			is a TrueCostConfiguration
					default label is "True\CostConfiguration"
			Instance Selection
				where (PrmTrueCostConfiguration  = TrueCostConfiguration)
			Action Rules
				Instance Rules
					invoke SetProcessPostingBalances

		SetProcessPostingBalances is an Instance Action
			restricted
			Action Rules
				invoke Update AllocationLine
					if (Step = 1)
						invoked.TransientSourceLedger	= TrueCostAllocationControl.SourceLedger
					include SetProcessBalances
										
		UpdatePostings is a Set Action

			Parameters
				PrmTrueCostConfiguration			is a TrueCostConfiguration
					default label is "True\CostConfiguration"
				PrmTrueCostAllocationControl		is a TrueCostAllocationControl
					default label is "True\CostAllocationControl"
			Parameter Rules
				PrmTrueCostConfiguration
					required
				PrmTrueCostAllocationControl
					required
			Instance Selection
				where (PrmTrueCostConfiguration  = TrueCostConfiguration
				and PrmTrueCostAllocationControl = TrueCostAllocationControl)
			Action Rules
				Instance Rules
					invoke UpdatePostingsLine
					
		UpdatePostingsLine is an Instance Action
			restricted
			Action Rules
				display "PostingProject<PostingProject>"
				invoke Update AllocationLine
					if (Step = 1)
						invoked.TransientSourceLedger						= TrueCostAllocationControl.SourceLedger
					invoked.FromOverride.AccountingEntity					= AccountingEntity
					if (TrueCostConfiguration.AccountingUnitEntry)
						invoked.FromOverride.AccountingUnit					= PostingAccountingUnitRel.AccountingUnit
					invoked.FromOverride.Project							= TrueCostAllocationControl.PostingProject
					if (TrueCostConfiguration.Dimension1Entry)
						invoked.FromOverride.FinanceDimension1				= PostingFinanceDimension1
					if (TrueCostConfiguration.Dimension2Entry)
						invoked.FromOverride.FinanceDimension2				= PostingFinanceDimension2
					if (TrueCostConfiguration.Dimension3Entry)
						invoked.FromOverride.FinanceDimension3				= PostingFinanceDimension3
					if (TrueCostConfiguration.Dimension4Entry)
						invoked.FromOverride.FinanceDimension4				= PostingFinanceDimension4
					if (TrueCostConfiguration.Dimension5Entry)
						invoked.FromOverride.FinanceDimension5				= PostingFinanceDimension5
					if (TrueCostConfiguration.Dimension6Entry)
						invoked.FromOverride.FinanceDimension6				= PostingFinanceDimension6
					if (TrueCostConfiguration.Dimension7Entry)
						invoked.FromOverride.FinanceDimension7				= PostingFinanceDimension7
					if (TrueCostConfiguration.Dimension8Entry)
						invoked.FromOverride.FinanceDimension8				= PostingFinanceDimension8
					if (TrueCostConfiguration.Dimension9Entry)
						invoked.FromOverride.FinanceDimension9				= PostingFinanceDimension9
					if (TrueCostConfiguration.Dimension10Entry)
						invoked.FromOverride.FinanceDimension10				= PostingFinanceDimension10
					invoked.ToOverride.AccountingEntity						= AccountingEntity
					if (TrueCostConfiguration.AccountingUnitEntry)
						invoked.ToOverride.AccountingUnit					= PostingAccountingUnitRel.AccountingUnit
					invoked.ToOverride.Project								= TrueCostAllocationControl.PostingProject
					if (TrueCostConfiguration.Dimension1Entry)
						invoked.ToOverride.FinanceDimension1				= PostingFinanceDimension1
					if (TrueCostConfiguration.Dimension2Entry)
						invoked.ToOverride.FinanceDimension2				= PostingFinanceDimension2
					if (TrueCostConfiguration.Dimension3Entry)
						invoked.ToOverride.FinanceDimension3				= PostingFinanceDimension3
					if (TrueCostConfiguration.Dimension4Entry)
						invoked.ToOverride.FinanceDimension4				= PostingFinanceDimension4
					if (TrueCostConfiguration.Dimension5Entry)
						invoked.ToOverride.FinanceDimension5				= PostingFinanceDimension5
					if (TrueCostConfiguration.Dimension6Entry)
						invoked.ToOverride.FinanceDimension6				= PostingFinanceDimension6
					if (TrueCostConfiguration.Dimension7Entry)
						invoked.ToOverride.FinanceDimension7				= PostingFinanceDimension7
					if (TrueCostConfiguration.Dimension8Entry)
						invoked.ToOverride.FinanceDimension8				= PostingFinanceDimension8
					if (TrueCostConfiguration.Dimension9Entry)
						invoked.ToOverride.FinanceDimension9				= PostingFinanceDimension9
					if (TrueCostConfiguration.Dimension10Entry)
						invoked.ToOverride.FinanceDimension10				= PostingFinanceDimension10


    	GetActualWeight is an Instance Action
    		restricted
    		Parameters
    			PrmSource						is a FinanceAddress	 
    				holds pii
				PrmTarget						is Alpha 30
				PrmDate							is Date
				PrmPeriod						is a GeneralLedgerCalendarPeriod
				PrmFinanceEnterpriseGroup		is a FinanceEnterpriseGroup
				PrmAllocationSourceSystem		is a AllocationSourceSystem
				PrmAllocationControl			is a AllocationControl
				PrmAllocation					is a Allocation						
				PrmAllocationLine				is a AllocationLine
				PrmAllocationRun				is a AllocationRun			
				PrmAllocationCallBackResult		is a AllocationCallBackResult
				PrmStructureRow					is a StructureRow
			Action Rules
				initialize LocalActualWeight
				initialize LocalAmount
				LocalDate								= PrmDate			
				LocalPeriod								= PrmPeriod
				LocalTarget								= PrmTarget
				LocalForDriverForWeight					= LocalForDriverForWeight.ForDriver
				LocalFinanceAddress						= PrmSource
				LocalStructureRow						= PrmStructureRow
				LocalDimensionCode						= DimensionCode			

				if (TrueCostResourceUtilizationDriver.DriverType.ByEventDate)
					LocalAmount	= TrueCostResourceUtilizationDriverEventTotalRel.Value
				else
					LocalJulianDateFormat.InputDate = LocalDate
					LocalJulianDate					= LocalJulianDateFormat.JulianDate
					LocalAmount 					= last TrueCostResourceUtilizationDriverEventRel.Value



				
				if (LocalAmount entered)
					LocalForDriverForWeight				= LocalForDriverForWeight.ForWeight
					TrueCostResourceIntensityFactorData = LocalDimensionCode
					if (TrueCostResourceIntensityFactor entered
					and TrueCostResourceIntensityFactorData.Value entered)
						LocalActualWeight = LocalAmount*TrueCostResourceIntensityFactorData.Value
					else
						LocalActualWeight = LocalAmount


    	GetCapacityWeight is an Instance Action
    		restricted
    		Parameters
    			PrmSource						is a FinanceAddress	 
    				holds pii
				PrmDate							is Date
				PrmFinanceEnterpriseGroup		is a FinanceEnterpriseGroup
				PrmAllocationSourceSystem		is a AllocationSourceSystem
				PrmAllocationControl			is a AllocationControl
				PrmAllocation					is a Allocation						
				PrmAllocationLine				is a AllocationLine
				PrmAllocationRun				is a AllocationRun			
				PrmAllocationCallBackResult		is a AllocationCallBackResult

				PrmPeriod						is a GeneralLedgerCalendarPeriod
				PrmTarget						is Alpha 30
				PrmStructureRow					is a StructureRow
				
			Local Fields
				LocalCapacityVolume				is Decimal 19.4
			Action Rules
				initialize LocalCapacityWeight
				initialize IsUsingCapacityVolume
				LocalDate									= PrmDate				
				LocalPeriod									= PrmPeriod				
				LocalFinanceAddress							= PrmSource
				LocalStructureRow							= PrmStructureRow
				

				if (TargetIsSummary)	
					initialize LocalAmount
					if (TrueCostCapacity.VolumeDimension.Type.Dimension1)
						for each AllocationLine.Dimension1OverrideShadowRel				
							LocalTarget						= each.FinanceDimension1
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight

					if (TrueCostCapacity.VolumeDimension.Type.Dimension2)
						for each AllocationLine.Dimension2OverrideShadowRel
							LocalTarget						= each.FinanceDimension2
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight
							
					if (TrueCostCapacity.VolumeDimension.Type.Dimension3)
						for each AllocationLine.Dimension3OverrideShadowRel
							LocalTarget						= each.FinanceDimension3
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight

					if (TrueCostCapacity.VolumeDimension.Type.Dimension4)
						for each AllocationLine.Dimension4OverrideShadowRel
							LocalTarget						= each.FinanceDimension4
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight

					if (TrueCostCapacity.VolumeDimension.Type.Dimension5)
						for each AllocationLine.Dimension5OverrideShadowRel
							LocalTarget						= each.FinanceDimension5
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight

					if (TrueCostCapacity.VolumeDimension.Type.Dimension6)
						for each AllocationLine.Dimension6OverrideShadowRel
							LocalTarget						= each.FinanceDimension6
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight

					if (TrueCostCapacity.VolumeDimension.Type.Dimension7)
						for each AllocationLine.Dimension7OverrideShadowRel
							LocalTarget						= each.FinanceDimension7
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight
							
					if (TrueCostCapacity.VolumeDimension.Type.Dimension8)
						for each AllocationLine.Dimension8OverrideShadowRel
							LocalTarget						= each.FinanceDimension8
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight
							
					if (TrueCostCapacity.VolumeDimension.Type.Dimension9)
						for each AllocationLine.Dimension9OverrideShadowRel
							LocalTarget						= each.FinanceDimension9
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight
							
					if (TrueCostCapacity.VolumeDimension.Type.Dimension10)
						for each AllocationLine.Dimension10OverrideShadowRel
							LocalTarget						= each.FinanceDimension10
							LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
							LocalDimensionCode				= DimensionCode		
							LocalDriverEventSum				= TrueCostResourceUtilizationDriverEventTotalRel.Value 

							include ComputeWeight
				else

					LocalForDriverForWeight			= LocalForDriverForWeight.ForDriver
					LocalDimensionCode				= DimensionCode		
					LocalAmount 					= TrueCostResourceUtilizationDriverEventTotalRel.Value 
									
					if (LocalAmount entered)
						LocalForDriverForWeight					= LocalForDriverForWeight.ForWeight
						TrueCostResourceIntensityFactorData 	= LocalDimensionCode
						if (TrueCostResourceIntensityFactor entered
						and TrueCostResourceIntensityFactorData.Value entered)					
							LocalAmount				= LocalAmount*TrueCostResourceIntensityFactorData.Value


				IsUsingCapacityVolume = true

				if (TrueCostCapacity entered)
					LocalCapacityAddress = PrmSource
					if (TrueCostCapacity.VolumeDimension.Type.Account)
						LocalCapacityAddress.GeneralLedgerChartAccount = TargetFinanceAddress.GeneralLedgerChartAccount
					else
					if (not TrueCostCapacity.HasAccount)
						initialize LocalCapacityAddress.GeneralLedgerChartAccount
					
					if (TrueCostCapacity.VolumeDimension.Type.Project)
						LocalCapacityAddress.Project = TargetFinanceAddress.Project
					else
					if (not TrueCostCapacity.HasProject)
						initialize LocalCapacityAddress.Project

					if (TrueCostCapacity.VolumeDimension.Type.AccountingUnit)
						LocalCapacityAddress.AccountingUnit = TargetFinanceAddress.AccountingUnit
					else
					if (not TrueCostCapacity.HasAccountingUnit)
						initialize LocalCapacityAddress.AccountingUnit

					if (TrueCostCapacity.VolumeDimension.Type.Dimension1)
						LocalCapacityAddress.FinanceDimension1 = TargetFinanceAddress.FinanceDimension1
					else
					if (not TrueCostCapacity.HasDimension1)
						initialize LocalCapacityAddress.FinanceDimension1

					if (TrueCostCapacity.VolumeDimension.Type.Dimension2)
						LocalCapacityAddress.FinanceDimension2 = TargetFinanceAddress.FinanceDimension2
					else
					if (not TrueCostCapacity.HasDimension2)
						initialize LocalCapacityAddress.FinanceDimension2
					
					if (TrueCostCapacity.VolumeDimension.Type.Dimension3)
						LocalCapacityAddress.FinanceDimension3 = TargetFinanceAddress.FinanceDimension3
					else
					if (not TrueCostCapacity.HasDimension3)
						initialize LocalCapacityAddress.FinanceDimension3

					if (TrueCostCapacity.VolumeDimension.Type.Dimension4)
						LocalCapacityAddress.FinanceDimension4 = TargetFinanceAddress.FinanceDimension4
					else
					if (not TrueCostCapacity.HasDimension4)
						initialize LocalCapacityAddress.FinanceDimension4

					if (TrueCostCapacity.VolumeDimension.Type.Dimension5)
						LocalCapacityAddress.FinanceDimension5 = TargetFinanceAddress.FinanceDimension5
					else
					if (not TrueCostCapacity.HasDimension5)
						initialize LocalCapacityAddress.FinanceDimension5
					
					if (TrueCostCapacity.VolumeDimension.Type.Dimension6)
						LocalCapacityAddress.FinanceDimension6 = TargetFinanceAddress.FinanceDimension6
					else
					if (not TrueCostCapacity.HasDimension6)
						initialize LocalCapacityAddress.FinanceDimension6

					if (TrueCostCapacity.VolumeDimension.Type.Dimension7)
						LocalCapacityAddress.FinanceDimension7 = TargetFinanceAddress.FinanceDimension7
					else
					if (not TrueCostCapacity.HasDimension7)
						initialize LocalCapacityAddress.FinanceDimension7

					if (TrueCostCapacity.VolumeDimension.Type.Dimension8)
						LocalCapacityAddress.FinanceDimension8 = TargetFinanceAddress.FinanceDimension8
					else
					if (not TrueCostCapacity.HasDimension8)
						initialize LocalCapacityAddress.FinanceDimension8

					if (TrueCostCapacity.VolumeDimension.Type.Dimension9)
						LocalCapacityAddress.FinanceDimension9 = TargetFinanceAddress.FinanceDimension9
					else
					if (not TrueCostCapacity.HasDimension9)
						initialize LocalCapacityAddress.FinanceDimension9
					
					if (TrueCostCapacity.VolumeDimension.Type.Dimension10)
						LocalCapacityAddress.FinanceDimension10 = TargetFinanceAddress.FinanceDimension10
					else
					if (not TrueCostCapacity.HasDimension10)
						initialize LocalCapacityAddress.FinanceDimension10

					initialize 	LocalForDriverForWeight
					LocalTarget				= 	DerivedTargetAddressIsCostObject	
					LocalDimensionCode		=	LocalCapacityAddress.DimensionCode


					if (TrueCostCapacityDetailByDateRel not exist)
						LocalCapacityVolume 	= LocalAmount
						IsUsingCapacityVolume 	= false
					else

						TrueCostCapacityDetail.TrueCostResourceUtilizationDriver	= TrueCostResourceUtilizationDriver
						TrueCostCapacityDetail.TrueCostResourceIntensityFactor		= TrueCostResourceIntensityFactor
						TrueCostCapacityDetail.DimensionCode						= LocalDimensionCode
						LocalCapacityVolume 										= TrueCostCapacityDetail.CapacityVolume
						LocalAllocationRun											= PrmAllocationRun


						if (LocalAmount > LocalCapacityVolume)
							IsUsingCapacityVolume = false
							if (TrueCostCapacityVolumeRel not exist)
								LocalEffectiveDate 									= DerivedNextPeriodStartDate
								while (TrueCostCapacityDetailEffectiveDateRel exist)
									LocalEffectiveDate += 1 day
									
								invoke Create TrueCostCapacityVolume
									invoked.TrueCostAllocationControl				=	TrueCostAllocationControl
									invoked.TrueCostAllocationRun 					=	PrmAllocationRun
									invoked.TrueCostConfiguration					=	TrueCostConfiguration
									invoked.TrueCostCapacity						=	TrueCostCapacity
									invoked.TrueCostCapacityVolume					=	LocalDimensionCode
									invoked.TrueCostResourceUtilizationDriver		=	TrueCostResourceUtilizationDriver
									invoked.TrueCostResourceIntensityFactor			=	TrueCostResourceIntensityFactor
									invoked.CapacityVolume							=	LocalCapacityVolume
									invoked.ActualVolume							=	LocalAmount
									invoked.EffectiveDate							=	LocalEffectiveDate
									invoked.AccountingEntity						=	PrmSource.AccountingEntity
									invoked.AccountingUnit							=	PrmSource.AccountingUnit
									invoked.Project									=	PrmSource.Project
									if (TrueCostConfiguration.CostObjectIsDimension1)
										invoked.FinanceDimension1	  =  TargetFinanceAddress.FinanceDimension1
									else
										invoked.FinanceDimension1     =  PrmSource.FinanceDimension1
										
									if (TrueCostConfiguration.CostObjectIsDimension2)
										invoked.FinanceDimension2     =  TargetFinanceAddress.FinanceDimension2
									else
										invoked.FinanceDimension2	  =  PrmSource.FinanceDimension2
				                    if (TrueCostConfiguration.CostObjectIsDimension3)
										invoked.FinanceDimension3     =  TargetFinanceAddress.FinanceDimension3
									else
										invoked.FinanceDimension3	  =  PrmSource.FinanceDimension3
									if (TrueCostConfiguration.CostObjectIsDimension4)
										invoked.FinanceDimension4     =  TargetFinanceAddress.FinanceDimension4
									else
										invoked.FinanceDimension4	  =  PrmSource.FinanceDimension4
				                    if (TrueCostConfiguration.CostObjectIsDimension5)
										invoked.FinanceDimension5     =  TargetFinanceAddress.FinanceDimension5
									else
										invoked.FinanceDimension5	  =  PrmSource.FinanceDimension5
				                    if (TrueCostConfiguration.CostObjectIsDimension6)
										invoked.FinanceDimension6     =  TargetFinanceAddress.FinanceDimension6
									else
										invoked.FinanceDimension6	  =  PrmSource.FinanceDimension6
				                    if (TrueCostConfiguration.CostObjectIsDimension7)
										invoked.FinanceDimension7     =  TargetFinanceAddress.FinanceDimension7
									else
										invoked.FinanceDimension7	  =  PrmSource.FinanceDimension7
				                    if (TrueCostConfiguration.CostObjectIsDimension8)
										invoked.FinanceDimension8     =  TargetFinanceAddress.FinanceDimension8
									else
										invoked.FinanceDimension8	  =  PrmSource.FinanceDimension8
									if (TrueCostConfiguration.CostObjectIsDimension9)
										invoked.FinanceDimension9     =  TargetFinanceAddress.FinanceDimension9
									else
										invoked.FinanceDimension9  	  =  PrmSource.FinanceDimension9
				                    if (TrueCostConfiguration.CostObjectIsDimension10)
										invoked.FinanceDimension10	  =  TargetFinanceAddress.FinanceDimension10
									else
										invoked.FinanceDimension10    = PrmSource.FinanceDimension10

								LocalCapacityVolume = LocalAmount
				else

					LocalCapacityVolume 	= LocalAmount
					IsUsingCapacityVolume 	= false	
				LocalCapacityWeight = LocalCapacityVolume

		CreatePracticalCapacityVolume 	is an Instance Action
			default label is "CreateCapacityVolume"
			Parameters
				PrmTrueCostCapacity	is a TrueCostCapacity
					default label is "PracticalCapacity"
				PrmAccountingEntity is an AccountingEntity
					default label is "<TrueCostConfiguration.AccountingEntityLabel>"
				PrmAccountingUnit	is an AccountingUnit
					default label is "<TrueCostConfiguration.AccountingUnitLabel>"
				PrmProject			is a Project
					default label is "<TrueCostConfiguration.ProjectLabel>"
				PrmFinanceDimension1	is a FinanceDimension1
					default label is "<TrueCostConfiguration.FinanceDimension1Label>"
				PrmFinanceDimension2	is a FinanceDimension2
					default label is "<TrueCostConfiguration.FinanceDimension2Label>"
				PrmFinanceDimension3	is a FinanceDimension3
					default label is "<TrueCostConfiguration.FinanceDimension3Label>"
				PrmFinanceDimension4	is a FinanceDimension4
					default label is "<TrueCostConfiguration.FinanceDimension4Label>"
				PrmFinanceDimension5	is a FinanceDimension5
					default label is "<TrueCostConfiguration.FinanceDimension5Label>"
				PrmFinanceDimension6	is a FinanceDimension6
					default label is "<TrueCostConfiguration.FinanceDimension6Label>"
				PrmFinanceDimension7	is a FinanceDimension7
					default label is "<TrueCostConfiguration.FinanceDimension7Label>"
				PrmFinanceDimension8	is a FinanceDimension8
					default label is "<TrueCostConfiguration.FinanceDimension8Label>"
				PrmFinanceDimension9	is a FinanceDimension9
					default label is "<TrueCostConfiguration.FinanceDimension9Label>"
				PrmFinanceDimension10	is a FinanceDimension10
					default label is "<TrueCostConfiguration.FinanceDimension10Label>"
				PrmSummaryFinanceDimension1	is a FinanceDimension1
					default label is "Summary<TrueCostConfiguration.FinanceDimension1Label>"
				PrmSummaryFinanceDimension2	is a FinanceDimension2
					default label is "Summary<TrueCostConfiguration.FinanceDimension2Label>"
				PrmSummaryFinanceDimension3	is a FinanceDimension3
					default label is "Summary<TrueCostConfiguration.FinanceDimension3Label>"
				PrmSummaryFinanceDimension4	is a FinanceDimension4
					default label is "Summary<TrueCostConfiguration.FinanceDimension4Label>"
				PrmSummaryFinanceDimension5	is a FinanceDimension5
					default label is "Summary<TrueCostConfiguration.FinanceDimension5Label>"
				PrmSummaryFinanceDimension6	is a FinanceDimension6
					default label is "Summary<TrueCostConfiguration.FinanceDimension6Label>"
				PrmSummaryFinanceDimension7	is a FinanceDimension7
					default label is "Summary<TrueCostConfiguration.FinanceDimension7Label>"
				PrmSummaryFinanceDimension8	is a FinanceDimension8
					default label is "Summary<TrueCostConfiguration.FinanceDimension8Label>"
				PrmSummaryFinanceDimension9	is a FinanceDimension9
					default label is "Summary<TrueCostConfiguration.FinanceDimension9Label>"
				PrmSummaryFinanceDimension10	is a FinanceDimension10
					default label is "Summary<TrueCostConfiguration.FinanceDimension10Label>"
				PrmDriver					is a TrueCostResourceUtilizationDriver
					default label is "Driver"
				PrmDriverWeight				is a TrueCostResourceIntensityFactor
					default label is "DriverWeight"
				PrmCapacityVolume			is Decimal 19.3 
					default label is "CapacityVolume"
				PrmEffectiveDate						is Date
					default label is "EffectiveDate"				
			Parameter Rules
				PrmTrueCostCapacity
					initial value is TrueCostCapacity
				PrmSummaryFinanceDimension1
					initial value is TargetFinanceAddress.FinanceDimension1
				PrmSummaryFinanceDimension2
					initial value is TargetFinanceAddress.FinanceDimension2
				PrmSummaryFinanceDimension3
					initial value is TargetFinanceAddress.FinanceDimension3
				PrmSummaryFinanceDimension4
					initial value is TargetFinanceAddress.FinanceDimension4
				PrmSummaryFinanceDimension5
					initial value is TargetFinanceAddress.FinanceDimension5
				PrmSummaryFinanceDimension6
					initial value is TargetFinanceAddress.FinanceDimension6
				PrmSummaryFinanceDimension7
					initial value is TargetFinanceAddress.FinanceDimension7
				PrmSummaryFinanceDimension8
					initial value is TargetFinanceAddress.FinanceDimension8
				PrmSummaryFinanceDimension9
					initial value is TargetFinanceAddress.FinanceDimension9
				PrmSummaryFinanceDimension10
					initial value is TargetFinanceAddress.FinanceDimension10
				PrmDriver
					initial value is TrueCostResourceUtilizationDriver
				PrmDriverWeight
					initial value is TrueCostResourceIntensityFactor
			Action Rules				
				
				invoke Create TrueCostCapacityDetail
					invoked.TrueCostConfiguration     									=  TrueCostConfiguration
					invoked.TrueCostCapacity		  									=  PrmTrueCostCapacity
					invoked.TrueCostCapacityDetail.TrueCostResourceIntensityFactor		=  PrmDriverWeight
					invoked.TrueCostCapacityDetail.TrueCostResourceUtilizationDriver	=  PrmDriver
					invoked.CapacityVolume           									=  PrmCapacityVolume
                    invoked.EffectiveDate            									=  PrmEffectiveDate
                    invoked.AccountingEntity      	 									=  PrmAccountingEntity				
                    invoked.AccountingUnit        	 									=  PrmAccountingUnit
                    invoked.Project               	 									=  PrmProject
					if (TrueCostCapacity.VolumeDimension1)
						invoked.FinanceDimension1     =  PrmFinanceDimension1
					else
						invoked.FinanceDimension1	  =  PrmSummaryFinanceDimension1
					if (TrueCostCapacity.VolumeDimension2)
						invoked.FinanceDimension2     =  PrmFinanceDimension2
					else
						invoked.FinanceDimension2	  =  PrmSummaryFinanceDimension2
                    if (TrueCostCapacity.VolumeDimension3)
						invoked.FinanceDimension3     =  PrmFinanceDimension3
					else
						invoked.FinanceDimension3	  =  PrmSummaryFinanceDimension3
					if (TrueCostCapacity.VolumeDimension4)
						invoked.FinanceDimension4     =  PrmFinanceDimension4
					else
						invoked.FinanceDimension4	  =  PrmSummaryFinanceDimension4
                    if (TrueCostCapacity.VolumeDimension5)
						invoked.FinanceDimension5     =  PrmFinanceDimension5
					else
						invoked.FinanceDimension5	  =  PrmSummaryFinanceDimension5
                    if (TrueCostCapacity.VolumeDimension6)
						invoked.FinanceDimension6     =  PrmFinanceDimension6
					else
						invoked.FinanceDimension6	  =  PrmSummaryFinanceDimension6
                    if (TrueCostCapacity.VolumeDimension7)
						invoked.FinanceDimension7     =  PrmFinanceDimension7
					else
						invoked.FinanceDimension7	  =  PrmSummaryFinanceDimension7
                    if (TrueCostCapacity.VolumeDimension8)
						invoked.FinanceDimension8     =  PrmFinanceDimension8
					else
						invoked.FinanceDimension8	  =  PrmSummaryFinanceDimension8
					if (TrueCostCapacity.VolumeDimension9)
						invoked.FinanceDimension9     =  PrmFinanceDimension9
					else
						invoked.FinanceDimension9  	  =  PrmSummaryFinanceDimension9
                    if (TrueCostCapacity.VolumeDimension10)
						invoked.FinanceDimension10	  =  PrmFinanceDimension10
					else
						invoked.FinanceDimension10    = PrmSummaryFinanceDimension10

		CreateUnutilizedCapacity is an Instance Action
			default label is "CreateUnutilizedCapacity"
			valid when (NoUnutilizedCapacity)
			Parameters
				PrmTrueCostCapacity			is a TrueCostCapacity
					default label is "PracticalCapacity"
				PrmSummaryFinanceDimension1	is a FinanceDimension1
					default label is "Summary<TrueCostConfiguration.FinanceDimension1Label>"
				PrmSummaryFinanceDimension2	is a FinanceDimension2
					default label is "Summary<TrueCostConfiguration.FinanceDimension2Label>"
				PrmSummaryFinanceDimension3	is a FinanceDimension3
					default label is "Summary<TrueCostConfiguration.FinanceDimension3Label>"
				PrmSummaryFinanceDimension4	is a FinanceDimension4
					default label is "Summary<TrueCostConfiguration.FinanceDimension4Label>"
				PrmSummaryFinanceDimension5	is a FinanceDimension5
					default label is "Summary<TrueCostConfiguration.FinanceDimension5Label>"
				PrmSummaryFinanceDimension6	is a FinanceDimension6
					default label is "Summary<TrueCostConfiguration.FinanceDimension6Label>"
				PrmSummaryFinanceDimension7	is a FinanceDimension7
					default label is "Summary<TrueCostConfiguration.FinanceDimension7Label>"
				PrmSummaryFinanceDimension8	is a FinanceDimension8
					default label is "Summary<TrueCostConfiguration.FinanceDimension8Label>"
				PrmSummaryFinanceDimension9	is a FinanceDimension9
					default label is "Summary<TrueCostConfiguration.FinanceDimension9Label>"
				PrmSummaryFinanceDimension10	is a FinanceDimension10
					default label is "Summary<TrueCostConfiguration.FinanceDimension10Label>"
				PrmFinanceDimension1	is a FinanceDimension1
					default label is "<TrueCostConfiguration.FinanceDimension1Label>"
				PrmFinanceDimension2	is a FinanceDimension2
					default label is "<TrueCostConfiguration.FinanceDimension2Label>"
				PrmFinanceDimension3	is a FinanceDimension3
					default label is "<TrueCostConfiguration.FinanceDimension3Label>"
				PrmFinanceDimension4	is a FinanceDimension4
					default label is "<TrueCostConfiguration.FinanceDimension4Label>"
				PrmFinanceDimension5	is a FinanceDimension5
					default label is "<TrueCostConfiguration.FinanceDimension5Label>"
				PrmFinanceDimension6	is a FinanceDimension6
					default label is "<TrueCostConfiguration.FinanceDimension6Label>"
				PrmFinanceDimension7	is a FinanceDimension7
					default label is "<TrueCostConfiguration.FinanceDimension7Label>"
				PrmFinanceDimension8	is a FinanceDimension8
					default label is "<TrueCostConfiguration.FinanceDimension8Label>"
				PrmFinanceDimension9	is a FinanceDimension9
					default label is "<TrueCostConfiguration.FinanceDimension9Label>"
				PrmFinanceDimension10	is a FinanceDimension10
					default label is "<TrueCostConfiguration.FinanceDimension10Label>"
			Parameter Rules
				PrmTrueCostCapacity
					initial value is TrueCostCapacity
				PrmSummaryFinanceDimension1
					initial value is TargetFinanceAddress.FinanceDimension1
				PrmSummaryFinanceDimension2
					initial value is TargetFinanceAddress.FinanceDimension2
				PrmSummaryFinanceDimension3
					initial value is TargetFinanceAddress.FinanceDimension3
				PrmSummaryFinanceDimension4
					initial value is TargetFinanceAddress.FinanceDimension4
				PrmSummaryFinanceDimension5
					initial value is TargetFinanceAddress.FinanceDimension5
				PrmSummaryFinanceDimension6
					initial value is TargetFinanceAddress.FinanceDimension6
				PrmSummaryFinanceDimension7
					initial value is TargetFinanceAddress.FinanceDimension7
				PrmSummaryFinanceDimension8
					initial value is TargetFinanceAddress.FinanceDimension8
				PrmSummaryFinanceDimension9
					initial value is TargetFinanceAddress.FinanceDimension9
				PrmSummaryFinanceDimension10
					initial value is TargetFinanceAddress.FinanceDimension10				
			Action Rules
				constraint (NoUnutilizedCapacity)
					"RecordHasBeenCreatedRefreshScreenNeeded"
				invoke Create TrueCostCapacityUnutilized
					invoked.TrueCostConfiguration     		=	TrueCostConfiguration
					invoked.TrueCostCapacity		  		=	PrmTrueCostCapacity
					if (TrueCostCapacity.VolumeDimension1)
						invoked.TransientSummaryVolumeDimension1	=	PrmSummaryFinanceDimension1	
						invoked.TransientPostingVolumeDimension1	=	PrmFinanceDimension1	
					else
					if (TrueCostCapacity.VolumeDimension2)
						invoked.TransientSummaryVolumeDimension2	=	PrmSummaryFinanceDimension2	
						invoked.TransientPostingVolumeDimension2	=	PrmFinanceDimension2	
					else
					if (TrueCostCapacity.VolumeDimension3)
						invoked.TransientSummaryVolumeDimension3	=	PrmSummaryFinanceDimension3
						invoked.TransientPostingVolumeDimension3	=	PrmFinanceDimension3
					else
					if (TrueCostCapacity.VolumeDimension4)
						invoked.TransientSummaryVolumeDimension4	=	PrmSummaryFinanceDimension4
						invoked.TransientPostingVolumeDimension4	=	PrmFinanceDimension4
					else
					if (TrueCostCapacity.VolumeDimension5)
						invoked.TransientSummaryVolumeDimension5	=	PrmSummaryFinanceDimension5
						invoked.TransientPostingVolumeDimension5	=	PrmFinanceDimension5
					else
					if (TrueCostCapacity.VolumeDimension6)
						invoked.TransientSummaryVolumeDimension6	=	PrmSummaryFinanceDimension6
						invoked.TransientPostingVolumeDimension6	=	PrmFinanceDimension6
					else
					if (TrueCostCapacity.VolumeDimension7)
						invoked.TransientSummaryVolumeDimension7	=	PrmSummaryFinanceDimension7
						invoked.TransientPostingVolumeDimension7	=	PrmFinanceDimension7
					else
					if (TrueCostCapacity.VolumeDimension8)
						invoked.TransientSummaryVolumeDimension8	=	PrmSummaryFinanceDimension8
						invoked.TransientPostingVolumeDimension8	=	PrmFinanceDimension8
					else
					if (TrueCostCapacity.VolumeDimension9)
						invoked.TransientSummaryVolumeDimension9	=	PrmSummaryFinanceDimension9
						invoked.TransientPostingVolumeDimension9	=	PrmFinanceDimension9
					else
					if (TrueCostCapacity.VolumeDimension10)
						invoked.TransientSummaryVolumeDimension10	=	PrmSummaryFinanceDimension10
						invoked.TransientPostingVolumeDimension10	=	PrmFinanceDimension10

		GenerateCostBehaviorTotals is a Set Action
			restricted
			default label is untranslatable
			Parameters

				PrmFinanceEnterpriseGroup			is a TrueCostConfiguration
					default label is "TrueCostConfiguration"
				PrmTrueCostAllocationControl		is a TrueCostAllocationControl
					default label is "TrueCostAllocationControl"
				PrmTrueCostAllocationRun			is a TrueCostAllocationRun
					default label is "AllocationRun"

			Instance Selection
				where (TrueCostConfiguration 		= PrmFinanceEnterpriseGroup
				and    TrueCostAllocationControl 	= PrmTrueCostAllocationControl
				and   (PrmTrueCostAllocationRun.AllocationRun.Allocation not entered or TrueCostAllocation = PrmTrueCostAllocationRun.AllocationRun.Allocation)
				and    Active
				and    TrueCostCostBehavior entered)


			Local Fields
				CostBehaviorTotal				is a TotalAmount

			Action Rules
				Empty Set Rules
					include CreateDirectVariableCore
				Set Rules
					Exit Rules
						include CreateDirectVariableCore

				Instance Rules
					LocalAllocationRun = PrmTrueCostAllocationRun.AllocationRun










					if (LocalAllocationRun.Status.Journalized)
						CostBehaviorTotal = -1 * (sum JournalizedDetailsPostFromRel.Amount)
					else
						CostBehaviorTotal = -1 * (sum AllocationTransactionDetailPostFromRel.Amount)

					if (CostBehaviorSummaryRel exists)
						invoke Update CostBehaviorSummaryRel
							invoked.TotalCost	+=	CostBehaviorTotal
					else
						invoke Create TrueCostCostBehaviorSummary
							invoked.FinanceEnterpriseGroup		=	TrueCostConfiguration
							invoked.AllocationRun				=	LocalAllocationRun
							invoked.CostBehavior				=	TrueCostCostBehavior.CostBehavior
							invoked.TotalCost					=	CostBehaviorTotal
							
 
