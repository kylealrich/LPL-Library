ElectronicPaymentCreation is a BusinessTask
    owned by ap

    Patterns
        implements ManualTransaction
        implements StaticJava
            Reports
                ElectronicPaymentCreationReport
                ElectronicPaymentEtebacRemit
				ElectronicPaymentErrorReport
    Parameters
    	VendorGroup
        PayGroup                
        PaymentCode             is a BankTransactionCode
        ProcGrp                 is a PayablesProcessGroup
        CashCode
        CashCodeGrp             is a CashCodeGroup

        CheckDate               is Date
			default label is "PaymentDate"
        EffectiveDate           is Date
        StartTransNbr           is AlphaUpper size 18 
        DocCurrency             is AlphaUpper size 1
            States
                AccountCurrency value is "A"
                InvoiceCurrency value is "I"
        InclComments            is AlphaUpper size 1
            States
                Yes value is "Y"
                No  value is "N"
        UseAp150SortOpt         is AlphaUpper size 1
            States
                Yes value is "Y"
                No  value is "N"
        InclFaxEmail            is AlphaUpper size 1
            States
                None            value is "N"			
                EmailOnly       value is "E"
                FaxNumberOnly   value is "F"
                BothEmailAndFax value is "B"
                    default label is "Both Email and Fax"
        RecreateOption          is AlphaUpper size 1
            States
                Yes value is "Y"
                No  value is "N"
        SerialNum               is Numeric size 8
        SwiftName               is AlphaUpper size 15
        RemitName               is AlphaUpper size 15
        FileName				is AlphaUpper size 50
        CashPaymentFormat
		CombineOutputByAccount	is Boolean
			default label is "CombineOutputByBankAccount"
		SuppressNoPaymentError  is Boolean
			default label is "SuppressNoPaymentError"		
		PayablesElectronicTransferID											
		PaymentCreationDefaults													
		SkipMonitor				is Boolean	
	Parameter Rules
		VendorGroup
			required
		PayGroup
			required
		PaymentCode
			required
		CheckDate																
			initial value is PaymentCreationDefaults.DerivedPaymentDate
			default to PaymentCreationDefaults.DerivedPaymentDate
			if (RecreateOption.Yes)
				initialize CheckDate
		EffectiveDate														
			initial value is PaymentCreationDefaults.DerivedEffectiveDate		
			default to PaymentCreationDefaults.DerivedEffectiveDate
			required
		DocCurrency
			initial value is PaymentCreationDefaults.DocCurrency				

			default to PaymentCreationDefaults.DocCurrency
			default to "A"
		InclComments
			initial value is PaymentCreationDefaults.InclComments				

			default to PaymentCreationDefaults.InclComments
			if (VendorGroup.VendorOffset)		
				InclComments = "Y"
		UseAp150SortOpt
			initial value is PaymentCreationDefaults.UseAp150SortOpt			

			default to PaymentCreationDefaults.UseAp150SortOpt
			default to "N"
		InclFaxEmail		
			initial value is PaymentCreationDefaults.InclFaxEmail				

			default to PaymentCreationDefaults.InclFaxEmail
			default to "B"
			if (InclFaxEmail.None)		
				initialize InclFaxEmail											
		RecreateOption
			initial value is "N"
			default to "N"
			required
		FileName
			initial value is PayablesElectronicTransferID.PaymentOutputFileName		
			constraint (!PaymentCode.PaymentOutputOption.NoOutput)
				"PaymentCode<PaymentCode>IsSetToNoOutput:NoFileWillBeCreatedInOutputDirectorySoFileNameIsNotUsed"
		CashPaymentFormat.BankTransactionCode
			initial value is PaymentCode
			default to PaymentCode
		CashPaymentFormat.PayablesProcessGroup
			initial value is ProcGrp
			default to ProcGrp
		StartTransNbr
			if (StartTransNbr entered)
				constraint (CashCodeGrp not entered)
					"CannotEnterStartingNumberOnFormIfCashCodeGroupIsEntered;SetBankIssuedPaymentNumbersOrProvideStartingNumberOnCashPaymentFormat"
				constraint (!CashPaymentFormat.BankIssuedPaymentNumbers)
					"CashPaymentFormatHasBankIssuedPaymentNumbersCannotEnterStartingNumber"
		CombineOutputByAccount
			initial value is PaymentCreationDefaults.CombineOutputByAccount		
			default to PaymentCreationDefaults.CombineOutputByAccount
			if (CashCodeGrp not entered)
				CombineOutputByAccount = false
		SuppressNoPaymentError
			initial value is PaymentCreationDefaults.SuppressNoPaymentError		
			default to PaymentCreationDefaults.SuppressNoPaymentError	
			if (CashCodeGrp not entered)
				SuppressNoPaymentError = false
	Actions
		ElectronicPaymentCreation is a Set Action
			allow unlimited concurrency
