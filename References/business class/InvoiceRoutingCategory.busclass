InvoiceRoutingCategory is a BusinessClass
    owned by apautomation
    prefix is APRCT

    Ontology
    	symbolic key is InvoiceRoutingCategory

    Persistent Fields
		Description		is Alpha 250
		Active
		DistributionAccountDefault   		is a FinanceCodeBlock 			
		
	Derived Fields
		CreateMessage is a LabelField
			restricted
			"CreateInvoiceRoutingCategory"
		
		FormLabel is a LabelField
			restricted
			"InvoiceRoutingCategory:_"

		RepresentativeText is a StringField
			type is Text
			default label is "InvoiceRoutingCategory"
			InvoiceRoutingCategory " - " Description
		
		DerivedInvoiceRoutingCategoryTitle	is a DerivedField
			type is Alpha size up to 132
			default label is "InvoiceRoutingCategory"
			return RepresentativeText

		DerivedFormTitle is a DerivedField
			type is MessageField
			restricted
			if (RecordExists)
				return FormLabel + DerivedInvoiceRoutingCategoryTitle
			else
				return CreateMessage
				
	Context Fields

	Conditions
		FinanceResourceAssignmentsExist
			restricted
			when (FinanceResourceInvApprovalRel exists)

		RecordExists
			restricted
			when (InvoiceRoutingCategory exists)

	Relations
		FinanceResourceInvApprovalRel
			one-to-many relation to FinanceResourceInvApproval
			Field Mapping uses ByRoutingCategory
				related.InvoiceRoutingCategory	= InvoiceRoutingCategory
				related.VendorGroup				= VendorGroup

	Field Rules
		Description
			required

	Attach Rules
		constraint (Active)
			"InvoiceRoutingCategoryIsInactive"
			
	Actions
		Create is a Create Action
		
		Update is an Update Action
		
		Delete is a Delete Action
