PfiWorkunitVariable is a BusinessClass
    owned by pfi
    prefix is PfiWV
    default label is "WorkUnitVariable"
	disable data area copy

    Ontology
        symbolic key is PfiWorkunitVariable

    Patterns
        implements CRUD
        disable AsOfDateProcessing
        disable Auditing
        disable EffectiveDated
        implements IncrementalReplication
            indicator field is IsReplicated
                replicate when false
                    then set to true

    Persistent Fields

        VariableType  is a PfiVariableType
            default label is "Type"
        VariableValue is a PfiVariableValue
            default label is "Value"
        SeqNbr        is a PfiSeqNbr
        IsReplicated is Boolean
            default label is untranslatable

    Field Rules

        SeqNbr
            autosequence using PfiWorkunit.LastVariableSeqNbr

    Sets

        ByWorkunitSeqNbrName
            sql name is PfiWV01
            indexed
            Sort Order
                PfiWorkunit
                SeqNbr
                PfiWorkunitVariable

        ByIsReplicatedUniqueID
            sql name is PfiWV02
            indexed
            Sort Order
                IsReplicated
                UniqueID

    Actions

        Create is a Create Action

            Exit Rules
                if (PfiWorkunitVariable = PfiWorkunit.KeyField1Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField1Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField2Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField2Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField3Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField3Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField4Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField4Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField5Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField5Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField6Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField6Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField7Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField7Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField8Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField8Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField9Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField9Value = VariableValue
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField10Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField10Value = VariableValue

        Update is an Update Action

            Exit Rules
                if (VariableValue changed)
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField1Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField1Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField2Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField2Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField3Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField3Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField4Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField4Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField5Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField5Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField6Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField6Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField7Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField7Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField8Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField8Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField9Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField9Value = VariableValue
                    else
                    if (PfiWorkunitVariable = PfiWorkunit.KeyField10Name)
                        invoke Update PfiWorkunit
                            invoked.KeyField10Value = VariableValue

                IsReplicated = false

        Delete is a Delete Action

            Exit Rules
                if (PfiWorkunitVariable = PfiWorkunit.KeyField1Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField1Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField2Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField2Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField3Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField3Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField4Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField4Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField5Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField5Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField6Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField6Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField7Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField7Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField8Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField8Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField9Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField9Value = ""
                else
                if (PfiWorkunitVariable = PfiWorkunit.KeyField10Name)
                    invoke Update PfiWorkunit
                        invoked.KeyField10Value = ""

        CopyVariables is a Set Action
            restricted
            run in foreground

            Parameters
                SourceWorkUnit      is a PfiWorkunit
                DestinationWorkUnit is a PfiWorkunit

            Instance Selection
                where (PfiWorkunit = SourceWorkUnit)

            Action Rules

                Instance Rules
                    invoke Create
                        invoked.PfiWorkunit         = DestinationWorkUnit
                        invoked.PfiWorkunitVariable = PfiWorkunitVariable
                        invoked.VariableType        = VariableType
                        invoked.VariableValue       = VariableValue
