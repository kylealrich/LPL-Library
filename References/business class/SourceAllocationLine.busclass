SourceAllocationLine is a BusinessClass
	owned by truecost
	
	prefix is TCSAL
	
	Ontology
		symbolic key is SourceAllocationLine
	
	Patterns
		disable Auditing
	
	Persistent Fields
		TrueCostAllocation			is like TrueCostAllocation
			default label is "Allocation"
		TrueCostAllocationLine		is like TrueCostAllocationLine		
			default label is "AllocationLine"
		Step						is a AllocationStep
		IsWithinDepartment			is Boolean
		TargetDepartments			is a TrueCostDepartment
			default label is "TargetDepartment"
        TargetCostObjects			is like FinanceDimension8
        	default label is "TargetCostObject"
        SourcePercentage			is a Percent
        
	Field Rules
	
	Sets
		ByAllocationStep
			Sort Order
				TrueCostAllocation
				Step
				SourceAllocationLine
				
	Actions
		Create is an Action
			restricted
		Update is an Update Action
			restricted
		Delete is a Delete Action
			restricted
		Purge is a Purge Action
			restricted
					
		PurgeAllSourceAllocationLine is a Set Action
			restricted			
			run in foreground
			Parameters
				PrmTrueCostConfiguration					is a TrueCostConfiguration
				PrmTrueCostAllocationControl 				is a TrueCostAllocationControl

			Parameter Rules
				PrmTrueCostAllocationControl
					required

			Instance Selection
				where(SourceAllocationLine.TrueCostConfiguration 	= PrmTrueCostConfiguration
				and SourceAllocationLine.TrueCostAllocationControl 	= PrmTrueCostAllocationControl)
			
			Action Rules
				Instance Rules
					invoke Purge
		
