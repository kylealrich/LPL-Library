Employee is a BusinessClass
	owned by hcmfn
	prefix is EMPL
	representative text is "<FirstLastNameID>"
	representative image is ResourcePicture.File
		missing image is random background
			foreground text is "<Name.Initials>"

	Ontology
		symbolic key is Employee

	Patterns




		implements StaticJava
		disable AuditIndex

	Persistent Fields
		Name								is a PersonName 
			holds pii
			translatable

		PresentationNameSnapshot			is Alpha size 230
			translatable
			default label is "Name"
		FormerName							is an HRSimpleName 
			holds pii
			translatable
		HomeCountry							is a Country
			default label is "HomeCountry/\Jurisdiction"



		StartDate 							is Date
		AdjustedStartDate					is Date
		ContinuousEmploymentDate			is Date
		Source								is AlphaUpper size 20

		ReferringSource						is Alpha size 30
		EligibleForRehire					is Boolean
		AnniversaryDate						is Date
		TerminationNoticeDate				is Date
		TerminationDate						is Date
		RetirementDate						is Date
		SeniorityDate						is Date
		FirstDateWorked						is Date
		LastDateWorked						is Date
		LastDatePaid						is Date
		RelationshipToOrganization			is AlphaUpper size 20


		IsAMentor							is Boolean
		WorkingRemotely						is Boolean


		LearningCorrespondenceCount 		is Numeric size 9




		Gender

		DischargeDate						is Date
		Birthdate							is a NonFutureDate 
			holds pii
		Deceased							is Boolean
		DeathDate							is Date
		Language							is an IsoLanguage		
		Locale								is an IsoLocale			


		BirthCity							is Alpha size 60		
		BirthCountry						is a Country			
			default label is "BirthCountry/\Jurisdiction"



		DataPrivacyConsent					is Numeric size 1		
			States
				NotApplicable	value is 0
				No				value is 1
				Yes				value is 2
		Aboriginal							is Numeric size 1		
			States
				NotApplicable	value is 0
				No				value is 1
				Yes				value is 2							
		VisibleMinorities					is Numeric size 1		
			States
				NotApplicable	value is 0
				No				value is 1
				Yes				value is 2							

	   	HispanicOrLatinoOrigin 				is Boolean




		ResourcePicture						is an ImageAttachment
		ResourceComments					is Text
		OtherAmount1						is a PayRate

		OtherAmount2						is a PayRate

		OtherAmount3						is a PayRate

		OtherAmount4						is a PayRate

		OtherAmount5						is a PayRate

		OtherAmount1Currency				is a Currency
		OtherAmount2Currency				is a Currency
		OtherAmount3Currency				is a Currency
		OtherAmount4Currency				is a Currency
		OtherAmount5Currency				is a Currency
		OtherDate1							is Date
		OtherDate2							is Date
		OtherDate3							is Date
		OtherDate4							is Date
		OtherDate5							is Date

		LegacyEmploymentNumber				is Alpha size 20




		UseForMailing							is an EmployeeAddress
			delete ignored
		UseForPayroll							is an EmployeeAddress
			delete ignored
		UseForWorkEmail							is an EmployeeContact
			delete ignored
		UseForWorkPhone							is an EmployeeContact
			delete ignored



		PositionShortDescriptionForSort			is Alpha size 20
			disable Auditing
		OrganizationUnitShortDescriptionForSort	is Alpha size 20
			disable Auditing
		DirectSupervisorShortDescriptionForSort	is Alpha size 20
			disable Auditing
		LocationDescriptionForSort				is Alpha size 60
			disable Auditing
		OptOutOfWorkingTime						is Numeric size 1
			States
				NotApplicable	value is 0
				No				value is 1
				Yes				value is 2							

		NationalityCountry						is a Country
			default label is "NationalityCountry/\Jurisdiction"
		WorksCouncilRole						is Alpha 60
		WorksCouncilDateRange					is a DateRange






		AlienNumber								is AlphaUpper size 11
		AlienExpiration							is Date
		AdmissionNumber							is AlphaUpper size 13
		Authorization							is Alpha size 30
		OnBoardStatus							is Numeric size 1
			States
				Started		value is 1
				Completed	value is 2
		OnBoardUpdated							is TimeStamp
			disable Auditing


		StandardHours       				is Decimal size 7.2

		HealthInsuranceClaimNumber			is Alpha size 11

		EstablishedPatient					is Numeric size 1
			States
				No			value is 1
				Yes			value is 2
				Unknown 	value is 3
		PriorMonthsCoverage					is Numeric size 2
		Smoker								is Boolean
		Owner								is Boolean
		KeyEmployee							is Boolean
		Officer								is Boolean
		RelatedToEmployer					is Boolean
		HighlyCompensatedEmployee			is Boolean
		Medicare               				is Numeric size 1
			States
				NotApplicable           value is 0
				MedicarePartA           value is 1 //"A"
				MedicarePartB         	value is 2 //"B"
				MedicarePartAAndB     	value is 3 //"C"
					default label is "MedicarePart_AAnd_B"
				MedicarePartUnknown   	value is 4 //"D"
				NoMedicare            	value is 5 //"E"
				MedicarePartAAndBAndD 	value is 6 //"F"
					default label is "MedicarePartAAnd_B_And_D"
				MedicarePartAAndD     	value is 7 //"G"
					default label is "MedicarePart_AAnd_D"
				MedicarePartBAndD     	value is 8 //"H"
					default label is "MedicarePart_BAnd_D"
				MedicarePartD         	value is 9 //"I"
		HLCoverageProof						is Boolean
		HLDateVerified						is Date
		DNCoverageProof						is Boolean
		DNDateVerified						is Date

		WorkPostalCode						is Alpha size 10
		LifestyleCredits					is Numeric size 2
		MaxLimitOverride					is Numeric size 1
			States
				NotApplicable	value is 0
				No				value is 1
				Yes				value is 2



		PAPersonID				is Alpha size 25



		SalaryPaidThroughPayroll	is Boolean
		ExpensesPaidThroughPayroll	is Boolean



	Transient Fields
		ProjectEmployee
			derive value from Employee

	Context Fields
		FinanceEnterpriseGroup
		Project
		ProjectTeam

	Local Fields
		LocalProjectReportingSettings is like ProjectReportingSettings
		LocalActor                    is like Actor

	Derived Fields
		ContextMessageEntityType is a StringField
			type is Alpha 30
			restricted
			"InforUser"

		DerivedNameID is a DerivedField
			type is Alpha size 245
			default label is "Employee"
			return PresentationNameSnapshot + " (" + Employee + ")"

		FirstLastNameID is a MessageField
			default label is "Employee"
			"<Name.PreferredFirstAndLastName>_(<Employee>)"

		DerivedEmployeeIDName is a MessageField
			default label is "Employee"
			"<Employee>_-_<Name.PreferredFirstAndLastName>"

		DerivedStatusDisplay is a DerivedField
			type is Alpha size 8
			default label is "Status"
			if (IsActive)
				return ActiveMessage
			else
				return InactiveMessage

		ActiveMessage is a MessageField
			"Active"

		InactiveMessage is a MessageField
			"Inactive"

		EmployeeWorkEmailAddress is a DerivedField
			type is Alpha up to 100
			default label is "WorkEmail"
			return UseForWorkEmail.ContactDetail.EmailAddress

		EmployeeWorkTelephone is a DerivedField
			type is Alpha up to 100
			default label is "WorkPhone"
			return UseForWorkPhone.TelephoneDisplay

		FirstLastName is a StringField
			type is Alpha up to 101
			default label is "Name"
			Name.PreferredFirstAndLastName

		EmployeeWorkFax is a DerivedField
			type is Alpha up to 100
			default label is "Fax"
			if (UseForWorkPhone.ContactMethod.Fax)
				return UseForWorkPhone.TelephoneDisplay

		MailingCountry is a DerivedField
			type is AlphaUpper size 3
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.Country

		MailingAddressLine1 is a DerivedField
			type is like AddressLine
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.DeliveryAddress.AddressLine1

		MailingAddressLine2 is a DerivedField
			type is like AddressLine
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.DeliveryAddress.AddressLine2

		MailingAddressLine3 is a DerivedField
			type is like AddressLine
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.DeliveryAddress.AddressLine3

		MailingAddressLine4 is a DerivedField
			type is like AddressLine
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.DeliveryAddress.AddressLine4

		MailingMunicipality is a DerivedField
			type is like Municipality
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.Municipality

		MailingStateProvince is a DerivedField
			type is like StateProvince
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.StateProvince

		MailingPostalCode is a DerivedField
			type is like PostalCode
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.PostalCode

		MailingCounty is a DerivedField
			type is like County
			restricted
			if (UseForMailing.Active)
				return UseForMailing.PostalAddress.County

		CurrentPeriodEndDate is a DerivedField
			type is Date
			restricted
			for each Employee.ProjectEmployee.ProjectLaborSchedule.ProjectSchedulePeriod set
				if (current corporate date within each.DateRange)
					return each.DateRange.End

		CurrentPeriodBeginDate is a DerivedField
			type is Date
			restricted
			for each Employee.ProjectEmployee.ProjectLaborSchedule.ProjectSchedulePeriod set
				if (current corporate date within each.DateRange)
					return each.DateRange.Begin

		EmployeeInitials is a StringField
			type is AlphaUpper 2
			restricted
			GivenNameInitial
			FamilyNameInitial

		GivenNameInitial is a StringField
			type is AlphaUpper 1
			restricted
			Name.GivenName

		FamilyNameInitial is a StringField
			type is AlphaUpper 1
			restricted
			Name.FamilyName

		DisplayApprovalActorCurrent is a DerivedField
			type is Alpha size up to 100
			return first CurrentProjectAssignmentLaborRel.ApprovalActor

		DisplayApprovalActorPrior is a DerivedField
			type is Alpha size up to 100
			return first PreviousPeriodProjectAssignmentLaborRel.ApprovalActor

#ifdef module po
		ContractClassificationGroup is a DerivedField
			type is Alpha 255
			return first AgentActorContextContractClassificationGroupRel.Value
#endif

		EnteredMF is a MessageField
			restricted
			"ENTERED"

		ApprovedMF is a MessageField
			restricted
			"APPROVED"

		ProcessedMF is a MessageField
			restricted
			"PROCESSED"

		CertifiedMF is a MessageField
			restricted
			"CERTIFIED"

		SubmittedForApprovalMF is a MessageField
			restricted
			"SUBMITTED_FOR_APPROVAL"

		StatusMessageCurrentPeriod is a ConditionalField
			type is Alpha size 25
			if (first CurrentProjectEmployeeLaborPeriodRel.Status.Entered)
				EnteredMF
			else
			if (first CurrentProjectEmployeeLaborPeriodRel.Status.Approved)
				ApprovedMF
			else
			if (first CurrentProjectEmployeeLaborPeriodRel.Status.Processed)
				ProcessedMF
			else
			if (first CurrentProjectEmployeeLaborPeriodRel.Status.Certified)
				CertifiedMF
			else
			if (first CurrentProjectEmployeeLaborPeriodRel.Status.PendingApproval)
				SubmittedForApprovalMF
			else
				blank

		StatusMessagePriorPeriod is a ConditionalField
			type is Alpha size 25
			if (PreviousProjectEmployeeLaborPeriodRel.Status.Entered)
				EnteredMF
			else
			if (PreviousProjectEmployeeLaborPeriodRel.Status.Approved)
				ApprovedMF
			else
			if (PreviousProjectEmployeeLaborPeriodRel.Status.Processed)
				ProcessedMF
			else
			if (PreviousProjectEmployeeLaborPeriodRel.Status.Certified)
				CertifiedMF
			else
			if (PreviousProjectEmployeeLaborPeriodRel.Status.PendingApproval)
				SubmittedForApprovalMF
			else
				blank

	Conditions
		EmployeeWorkEmailAddressExists
			restricted
			when (EmployeeWorkEmailAddress entered)

		EmployeeWorkPhoneExists
			restricted
			when (EmployeeWorkTelephone entered)

		EmailAddressExists
			restricted
			when (EmailContactRel.ContactDetail.EmailAddress entered)

		RecordExists
			restricted
			when (Employee exists)

		HasPicture
			restricted
			when (ResourcePicture.File entered)

		IsActive
			when ((TerminationDate not entered
			or    TerminationDate > current corporate date)
			and   RetirementDate not entered
			or    RetirementDate > current corporate date)

		ProjectAssignmentsExist
			restricted
			when (ProjectAssignmentRel exists)

		ProjectEmployeeNotExists
			restricted
			when (Employee.ProjectEmployee not exists
			and   IsActive)

		ProjectEmployeeExists
			restricted
			when (Employee.ProjectEmployee exists)

#ifdef module rq
		RequesterExists
			restricted
			when (RequesterRel exists)
#endif
#ifdef module recall
		RecallUserExists
			restricted
			when (RecallUserRel exists)
#endif
#ifdef module procurement
		SupplierPortalContactExists
			restricted
			when (SupplierPortalContactRel exists)
#endif
#ifdef module po
		BuyerExists
			restricted
			when (BuyerRel exists)
		ProcurementCardUserExists
			restricted
			when (ProcurementCardUserRel exists)
		IsAContractContact
			restricted
			when (IsAContractContactRel exists)
		HasContractAdditionalSecurity 
			restricted
			when (ContractContactAdditionalSecurityAccessRel exists)
#endif
#ifdef module ap
		FinanceResourceExists
			restricted
			when (FinanceResourceRel exists)
#endif
#ifdef module InventoryIntelligence
		InventoryIntelligenceProcessorExists
			restricted
			when (InventoryIntelligenceProcessorRel exists)

		InventoryIntelligenceProcessorAcessExists
			restricted
			when ((InventoryIntelligenceProcessorRel exists
			and InventoryIntelligenceProcessorAccessRightsRel exists)
			or (InventoryIntelligenceProcessorRel not exists
			and (IIHGlobalConfigurationRel.DefaultGlobalAccess.View
			or IIHGlobalConfigurationRel.DefaultGlobalAccess.Edit)))
#endif
#ifdef module wh
		DistributionClerkExists
			restricted
			when (DistributionClerkRel exists)

		AdvancedWarehouseEnabled
			restricted
			when (actor.context.FinanceEnterpriseGroup.FSMAdvancedWarehouseEnabled)
#endif

	Relations
		EmailContactRel
			one-to-many relation to EmployeeContact
			Field Mapping uses ByContactMethod
				related.HROrganization		= HROrganization
				related.Employee			= Employee
				related.ContactMethod		= 6
			Instance Selection
				where (!related.IsWorkEmailDer)
#ifdef module procurement
		SupplierPortalContactRel
			one-to-many relation to SupplierGroupPortalContacts
			Field Mapping uses ByEmployee
				related.Contact = Employee
#endif
#ifdef module rq
		RequesterRel
			one-to-one relation to Requester
			Field Mapping uses symbolic key
				related.HROrganization	= HROrganization
				related.Requester		= Employee
#endif
#ifdef module ap
		FinanceResourceRel
			one-to-one relation to FinanceResource
			Field Mapping uses symbolic key
				related.HROrganization		= HROrganization
				related.FinanceResource		= Employee
#endif
#ifdef module po
		BuyerRel
			one-to-one relation to Buyer
			Field Mapping uses symbolic key
				related.HROrganization		= HROrganization
				related.Buyer				= Employee
		IsAContractContactRel
			one-to-many relation to ContractAttachedContact
			Field Mapping uses ByContactFirst
				related.Contact                 = Employee						
		ContractContactAdditionalSecurityAccessRel
			one-to-many relation to ContractAttachedContact
			Field Mapping uses ByContactFirst
				related.Contact                           = Employee
			Instance Selection
				where (related.AdditionalSecurityAccess)
		AgentActorContextContractClassificationGroupRel
			one-to-many relation to ActorContext
			Field Mapping uses symbolic key
				related.Actor                             = agent(Actor).Actor
			Instance Selection
				where (related.ContextProperty.KeyField   = "ContractClassificationGroup")
		ContractClassificationGroupMemberRel
			one-to-many relation to ContractClassificationGroupMember
			Field Mapping uses ByClassificationGroup
				related.ContractClassificationGroup       = ContractClassificationGroup
		EmployeeHasAccessRel
			one-to-many relation to Contract
			Field Mapping uses symbolic key
			Instance Selection
				where (related.EmployeeHasSecurityAccess)
		EmployeeContractNoAdditionalSecurityAccessRel
			one-to-many relation to Contract
			Field Mapping uses symbolic key
			Instance Selection
				where (!related.EmployeeHasSecurityAccess)
#endif
#ifdef module recall
		RecallUserRel
			one-to-one relation to RecallUser
			Field Mapping uses symbolic key
				related.HROrganization		= HROrganization
				related.RecallUser  		= Employee
#endif
#ifdef module po
		ProcurementCardUserRel
			one-to-one relation to ProcurementCardUser
			Field Mapping uses symbolic key
				related.HROrganization		= HROrganization
				related.ProcurementCardUser	= Employee
#endif
#ifdef module InventoryIntelligence
		InventoryIntelligenceProcessorRel
			one-to-one relation to InventoryIntelligenceProcessor
			Field Mapping uses symbolic key
				related.HROrganization					= HROrganization
				related.InventoryIntelligenceProcessor	= Employee

		InventoryIntelligenceProcessorAccessRightsRel
			one-to-many relation to InventoryIntelligenceProcessorAccessRights
			Field Mapping uses symbolic key
				related.HROrganization                 = HROrganization
				related.InventoryIntelligenceProcessor = Employee

		IIHGlobalConfigurationRel
			one-to-one relation to IIHGlobalConfiguration
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= HROrganization.FinanceEnterpriseGroup
#endif
#ifdef module wh
		DistributionClerkRel
			one-to-one relation to DistributionClerk
			Field Mapping uses symbolic key
				related.HROrganization			= HROrganization
				related.DistributionClerk  		= Employee
#endif
		ProjectAssignmentRel
			one-to-many relation to ProjectAssignment
			Field Mapping uses ByEmployee
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.Employee				= Employee

		CurrentProjectEmployeeLaborPeriodRel
			one-to-many relation to ProjectEmployeeLaborPeriod
			Field Mapping uses symbolic key
				related.HROrganization			= HROrganization
				related.Employee				= Employee
				related.ProjectLaborSchedule	= Employee.ProjectEmployee.ProjectLaborSchedule
			Instance Selection
				where (related.IsCurrentPeriod)

		PreviousProjectEmployeeLaborPeriodRel
			one-to-one relation to ProjectEmployeeLaborPeriod
			Field Mapping uses symbolic key
				related.HROrganization			= HROrganization
				related.Employee				= Employee
				related.ProjectLaborSchedule	= Employee.ProjectEmployee.ProjectLaborSchedule
				related.ProjectSchedulePeriod	= Employee.ProjectEmployee.PreviousPeriod

		ProjectAssignmentLaborRel  
			one-to-many relation to ProjectAssignmentLabor
			Field Mapping uses ByEmployeeAndSchedulePeriod
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.Employee				= Employee

		CurrentProjectAssignmentLaborRel
			one-to-many relation to ProjectAssignmentLabor
			Field Mapping uses ByEmployeeAndSchedulePeriod
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.Employee				= Employee
			Instance Selection
				where (related.IsCurrentPeriod)

		PreviousPeriodProjectAssignmentLaborRel
			one-to-many relation to ProjectAssignmentLabor
			Field Mapping uses ByEmployeeAndSchedulePeriod
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.Employee				= Employee
				related.ProjectLaborSchedule	= Employee.ProjectEmployee.ProjectLaborSchedule
				related.LaborPeriod.Period		= Employee.ProjectEmployee.PreviousPeriod
			Instance Selection
				where (related.IsNotProcessedOrCertified)

		PreviousPeriodEffortCertificationRel
			one-to-many relation to ProjectAssignmentEffort
			Field Mapping uses ByEmployeeAndPeriod
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.Employee				= Employee
				related.ProjectEffortSchedule	= Employee.ProjectEmployee.ProjectLaborSchedule.ProjectEffortSchedule
				related.ProjectEffortPeriod		= Employee.ProjectEmployee.PreviousEffortPeriod

		PeriodsWithProjectsRel  
			one-to-many relation to ProjectSchedulePeriod
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup

			Instance Selection
				where (related.Status.Open
				and    related.OpenAssignmentLaborExists)

		CertifiablePeriodsWithProjectsRel
			one-to-many relation to ProjectEffortPeriod
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectEffortSchedule	= Employee.ProjectEmployee.ProjectLaborSchedule.ProjectEffortSchedule
			Instance Selection
				where (related.Status.Open
				and    related.DateRange.End <= current corporate date
				and    related.ProjectAssignmentEffortExists)

		ProjectEmployeeEffortPeriodRel is a ProjectEmployeeEffortPeriod set
			Instance Selection
				where (related.OpenPeriod
				and    related.DateRange.End <= current corporate date)

		MyProjectEmployeeRel is a ProjectEmployee(Certifier) set

		MyProjectEmployeeEffortRel
			one-to-many relation using MyProjectEmployeeRel
			Instance Selection
				where (related.ProjectAssignmentEffortExists)

		AllMyProjectEmployeeEffortRel
			one-to-many relation to ProjectAssignmentEffort
			Field Mapping uses ByEmployeeAndPeriod
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.Employee				= MyProjectEmployeeRel.Employee

		MyActiveProjectContractRel
			one-to-many relation to ProjectContract
			Field Mapping uses ByPersonResponsibleActive
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.PersonResponsible		= Employee

		MyActiveProjectContractInvoicesRel
			one-to-many relation to ProjectContractInvoice
			Field Mapping uses ByRunGroup
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractInvoiceLinesRel
			one-to-many relation to ProjectContractInvoiceLine
			Field Mapping uses ByProject
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractInvoiceLinesBilledRel
			one-to-many relation to ProjectContractInvoiceLine
			Field Mapping uses ByProject
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract
			Instance Selection
				where (related.ProjectContractInvoice.InvoiceType.Bill
				and    related.GLTransactionDetail.Resource entered
				and    related.LineType.Standard)


		MyActiveProjectContractPartialTransactionBillRel
			one-to-many relation to ProjectContractPartialTransaction
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract
			Instance Selection
				where (related.RecordType.Bill)

		MyActiveProjectContractPartialTransactionBillTeamRel
			one-to-many relation to ProjectContractPartialTransaction
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract
			Instance Selection
				where (related.RecordType.Bill)

		MyActiveProjectContractPartialTransactionRevenueRel
			one-to-many relation to ProjectContractPartialTransaction
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract
			Instance Selection
				where (related.RecordType.Revenue)

		MyActiveProjectContractPartialTransactionRevenueTeamRel
			one-to-many relation to ProjectContractPartialTransaction
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract
			Instance Selection
				where (related.RecordType.Revenue)

		MyActiveProjectContractInvoiceErrorsRel
			one-to-many relation to ProjectContractInvoiceError
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractMilestonesRel
			one-to-many relation to ProjectContractMilestone
			Field Mapping uses ByMilestoneType
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractRetainersRel
			one-to-many relation to ProjectContractRetainer
			Field Mapping uses ByRetainerDate
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractChangeRequestRel
			one-to-many relation to ProjectContractChangeRequest
			Field Mapping uses ByProjectContract
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractModificationRel
			one-to-many relation to ProjectContractModification
			Field Mapping uses ByProjectContract
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectFundingSourceChangeRequestRel
			one-to-many relation to ProjectFundingSourceChangeRequest
			Field Mapping uses ByProjectContract
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectFundingSourceRel
			one-to-many relation to ProjectFundingSource
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractPostingProjectsRel
			one-to-many relation to Project
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.Project                 = ShadowDescendantsRel.Project
			Instance Selection
				where (related.IsBillablePostingProjectContract)

		MyActiveProjectContractPostingProjectsTeamRel
			one-to-many relation to Project
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.Project                 = ShadowDescendantsTeamRel.Project
			Instance Selection
				where (related.IsBillablePostingProjectContract)

		MyActiveProjectContractFESResultRel
			one-to-many relation to ProjectContractFESResult
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractReallocationSelectionRel
			one-to-many relation to ProjectContractReallocationSelection
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractReallocationResultRel
			one-to-many relation to ProjectContractReallocationResult
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractRel.ProjectContract

		ShadowDescendantsRel
			one-to-many relation to ProjectShadow
			delete cascades
			Field Mapping uses BySummaryProject
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
			Instance Selection
				where (related.SummaryProject  	= any MyActiveProjectContractRel.ProjectContract.Project)

		ShadowDescendantsTeamRel
			one-to-many relation to ProjectShadow
			delete cascades
			Field Mapping uses BySummaryProject
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
			Instance Selection
				where (related.SummaryProject  	= any MyActiveProjectContractTeamRel.ProjectContract.Project)

		MyActiveProjectFundingSourceTeamRel
			one-to-many relation to ProjectFundingSource
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		ProjectTeamMemberRel
			one-to-many relation to ProjectTeamMember
			Field Mapping uses ByTeamMember
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.TeamMember				= actor.agent(Employee).Employee

		MyActiveProjectContractTeamRel
			one-to-many relation to ProjectContract
			Field Mapping uses ByProjectTeamActive
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectTeam				= ProjectTeamMemberRel.ProjectTeam

		MyActiveProjectContractInvoicesTeamRel
			one-to-many relation to ProjectContractInvoice
			Field Mapping uses ByRunGroup
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractInvoiceTeamLinesRel
			one-to-many relation to ProjectContractInvoiceLine
			Field Mapping uses ByProject
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractInvoiceTeamErrorsRel
			one-to-many relation to ProjectContractInvoiceError
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractMilestonesTeamRel
			one-to-many relation to ProjectContractMilestone
			Field Mapping uses ByMilestoneType
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractRetainersTeamRel
			one-to-many relation to ProjectContractRetainer
			Field Mapping uses ByRetainerDate
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractChangeRequestTeamRel
			one-to-many relation to ProjectContractChangeRequest
			Field Mapping uses ByProjectContract
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractModificationTeamRel
			one-to-many relation to ProjectContractModification
			Field Mapping uses ByProjectContract
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectFundingSourceChangeRequestTeamRel
			one-to-many relation to ProjectFundingSourceChangeRequest
			Field Mapping uses ByProjectContract
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractPercentCompleteRel
			one-to-many relation to ProjectContractPercentComplete
			Field Mapping uses ByDateDescending
				related.FinanceEnterpriseGroup = HROrganization.FinanceEnterpriseGroup
				related.Project                = MyActiveProjectContractRel.ProjectContract

		MyActiveProjectContractPercentCompleteTeamRel
			one-to-many relation to ProjectContractPercentComplete
			Field Mapping uses ByDateDescending
				related.FinanceEnterpriseGroup = HROrganization.FinanceEnterpriseGroup
				related.Project				   = MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractFESResultTeamRel
			one-to-many relation to ProjectContractFESResult
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractReallocationSelectionTeamRel
			one-to-many relation to ProjectContractReallocationSelection
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		MyActiveProjectContractReallocationResultTeamRel
			one-to-many relation to ProjectContractReallocationResult
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= HROrganization.FinanceEnterpriseGroup
				related.ProjectContract			= MyActiveProjectContractTeamRel.ProjectContract

		ProcessedProjectSchedulePeriodRel  
		    one-to-many relation to ProjectSchedulePeriod
		    Field Mapping uses symbolic key
		        related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
		        related.ProjectLaborSchedule   = Employee.ProjectEmployee.ProjectLaborSchedule
		    Instance Selection
		        where (related.Status.Open
		        and    related.ProcessedProjectAssignmentLaborExists)

		NewProjectReportingSettingsRel
			one-to-one relation to ProjectReportingSettings
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	 = HROrganization.FinanceEnterpriseGroup
				related.Actor                    = LocalActor
				related.ProjectReportingSettings = LocalProjectReportingSettings

	Sets
		ByName
			Sort Order
				HROrganization
				Name.FamilyName
				Name.GivenName
				Name.MiddleName
				Employee

	Field Rules
		PresentationNameSnapshot
			PresentationNameSnapshot = Name.PreferredSimplePresentationName translations

	Actions
#ifdef property sandbox
		Create is a Create Action
#endif
#ifndef property sandbox
		Create is a Create Action
			restricted
#endif
#ifdef property sandbox
		Update is an Update Action
			Exit Rules
				if (ResourcePicture changed)
					invoke Update agent(Actor).Actor
						invoked.ActorPicture = ResourcePicture
#endif
#ifndef property sandbox
		Update is an Update Action
			restricted
			Exit Rules
				if (ResourcePicture changed)
					invoke Update agent(Actor).Actor
						invoked.ActorPicture = ResourcePicture
#endif

		UpdateLogin is an Instance Action
			Parameters
				Login						is an Actor
			Parameter Rules
				Login
					required
			Action Rules
				link Login to this agent

#ifdef property sandbox
		Delete is a Delete Action
#endif
#ifndef property sandbox
		Delete is a Delete Action
			restricted
#endif

		AddToProject is an Instance Action
			Parameters
				PrmProjectDateRange			is a ProjectDateRange
			Parameter Rules
				PrmProjectDateRange
					required
					initial value is Project.ProjectDateRange
			Action Rules
				invoke Create ProjectAssignment
					invoked.FinanceEnterpriseGroup  = FinanceEnterpriseGroup
					invoked.Project					= Project
					invoked.Employee				= Employee
					invoked.ProjectDateRange		= PrmProjectDateRange

		AddToProjectTeam is an Instance Action
			Action Rules
				invoke Create ProjectTeamMember
					invoked.FinanceEnterpriseGroup  = FinanceEnterpriseGroup
					invoked.ProjectTeam				= ProjectTeam
					invoked.TeamMember				= Employee

		CreateProjectEmployee is an Instance Action
			valid when (ProjectEmployeeNotExists)
			Parameters
				PrmProjectLaborSchedule			is a ProjectLaborSchedule
				PrmCertifier					is an Employee
				PrmApprover				    	is an Employee
				PrmRedistributionApprover		is an Employee
				PrmBurdenCode					is a ProjectBurdenCode
				PrmBurdenCodeBlock				is a FinanceCodeBlockFullNoProject
				PrmSalaryEncumbrance			is Boolean
				PrmFringeEncumbrance			is Boolean
				PrmEncumbranceSalaryAmount		is a CurrencyAmount
					precision is PrmCurrency.NumberOfDecimals
				PrmCurrency						is a FromCurrency
					default label is "SalaryEncumbranceCurrency"
				PrmEncumbranceBasis				is Numeric size 1
					States
						PlannedPercent	value is 0
						ActualPercent	value is 1
				PrmSalaryEncumbranceCodeBlock	is a FinanceCodeBlockFullNoProject
					default label is "SalaryEncumbranceFinanceStructure"
				PrmFringeEncumbranceCodeBlock	is a FinanceCodeBlockFullNoProject
					default label is "FringeEncumbranceFinanceStructure"
				PrmExcludeFromLabor				is Boolean
					default label is "ExcludeFromLaborDistribution"
				PrmFinanceCodeBlock				is a FinanceCodeBlockNoProject
					default label is "LaborDistributionFinanceStructure"
				PrmExcludeFromCertification		is Boolean
				PrmLaborFTE						is Decimal size 4.3

			Parameter Rules


			Action Rules
				invoke Create ProjectEmployee
					invoked.HROrganization  			= HROrganization
					invoked.Employee					= Employee
					invoked.ProjectLaborSchedule		= PrmProjectLaborSchedule
					invoked.Certifier		 			= PrmCertifier
					invoked.Approver					= PrmApprover
					invoked.RedistributionApprover		= PrmRedistributionApprover			
					invoked.BurdenCode					= PrmBurdenCode
					invoked.BurdenCodeBlock		    	= PrmBurdenCodeBlock
					invoked.SalaryEncumbrance			= PrmSalaryEncumbrance
					invoked.FringeEncumbrance			= PrmFringeEncumbrance
					invoked.EncumbranceSalaryAmount		= PrmEncumbranceSalaryAmount
					invoked.Currency					= PrmCurrency
					invoked.EncumbranceBasis			= PrmEncumbranceBasis
					invoked.SalaryEncumbranceCodeBlock	= PrmSalaryEncumbranceCodeBlock
					invoked.FringeEncumbranceCodeBlock	= PrmFringeEncumbranceCodeBlock
					invoked.ExcludeFromLabor			= PrmExcludeFromLabor
					invoked.FinanceCodeBlock			= PrmFinanceCodeBlock
					invoked.ExcludeFromCertification	= PrmExcludeFromCertification
					invoked.LaborFTE					= PrmLaborFTE
					invoked.Active						= true

#ifdef module rq
		CreateRequesterForEmployee is an Instance Action
			valid when (!RequesterExists)
			Parameters
				HROrganization
				Requester	is like Employee
				Company		is an InventoryCompany

			Parameter Rules
				HROrganization
					force default to HROrganization
				Requester
					initial value is Employee
					force default to Employee

			Action Rules

				invoke Create Requester
					invoked.HROrganization	= HROrganization
					invoked.Requester		= Requester
					invoked.Company			= Company
#endif
#ifdef module po
		CreateBuyerForEmployee is an Instance Action
			valid when (!BuyerExists)
			Parameters
				HROrganization
				Buyer       					is like Employee

			Parameter Rules
				HROrganization
					force default to HROrganization
				Buyer
					initial value is Employee
					force default to Employee

			Action Rules

				invoke Create Buyer
					invoked.HROrganization          = HROrganization
					invoked.Buyer                   = Buyer
#endif
#ifdef module sharedfinance
		CreateFinanceResourceForEmployee is an Instance Action
			valid when (!FinanceResourceExists)
			Parameters
				HROrganization
				FinanceResource       					is like Employee

			Parameter Rules
				HROrganization
					force default to HROrganization
				FinanceResource
					initial value is Employee
					force default to Employee

			Action Rules

				invoke Create FinanceResource
					invoked.HROrganization          = HROrganization
					invoked.FinanceResource         = FinanceResource
#endif
#ifdef module recall
		CreateRecallUserForEmployee is an Instance Action
			valid when (!RecallUserExists)
			Parameters
				HROrganization
				RecallUser       					is like Employee
				RecallGroup

			Parameter Rules
				HROrganization
					force default to HROrganization
				RecallUser
					initial value is Employee
					force default to Employee

			Action Rules

				invoke Create RecallUser
					invoked.HROrganization          = HROrganization
					invoked.RecallGroup             = RecallGroup
					invoked.RecallUser              = RecallUser
#endif
#ifdef module po
		CreateProcurementCardUserForEmployee is an Instance Action
			valid when (!ProcurementCardUserExists)
			Parameters
				HROrganization
				ProcurementCardUser       					is like Employee
				ProcurementGroup
			Parameter Rules
				HROrganization
					force default to HROrganization
				ProcurementCardUser
					initial value is Employee
					force default to Employee

			Action Rules

				invoke Create ProcurementCardUser
					invoked.HROrganization          = HROrganization
					invoked.ProcurementCardUser     = ProcurementCardUser
					invoked.ProcurementGroup        = ProcurementGroup
#endif
#ifdef module InventoryIntelligence
		CreateInventoryIntelligenceProcessorForEmployee is an Instance Action
			valid when (!InventoryIntelligenceProcessorExists)
			Parameters
				HROrganization
				InventoryIntelligenceProcessor	is like Employee

			Parameter Rules
				HROrganization
					force default to HROrganization
				InventoryIntelligenceProcessor
					initial value is Employee
					force default to Employee

			Action Rules

				invoke Create InventoryIntelligenceProcessor
					invoked.HROrganization          		= HROrganization
					invoked.InventoryIntelligenceProcessor	= InventoryIntelligenceProcessor
#endif

        AssignReportingSettingsToEmployeeGroup is a Set Action
			restricted
            Parameters
                PrmFinanceEnterpriseGroup   is a FinanceEnterpriseGroup        
                PrmActor           		    is an Actor                 
                PrmEmployeeGroup            is an Employee group
                PrmProjectReportingSettings is a ProjectReportingSettings

            Instance Selection
                where (HROrganization = HROrganization   
                and    Employee within PrmEmployeeGroup
                and    IsActive)
            Action Rules
                Instance Rules
					LocalProjectReportingSettings = PrmProjectReportingSettings
					LocalActor                    = agent(Actor).Actor
                    if (agent(Actor).Actor entered)					
						if (NewProjectReportingSettingsRel not exists)
							invoke Create ProjectReportingSettings
								fill in fields from PrmProjectReportingSettings
								invoked.Actor                         = agent(Actor).Actor
								invoked.CreatedFromCopy               = true                

#ifdef module wh
		CreateDistributionClerkForEmployee is an Instance Action
			valid when (not DistributionClerkExists)
			Parameters
				HROrganization
				DistributionClerk	is like Employee
				Company				is an InventoryCompany

			Parameter Rules
				HROrganization
					force default to HROrganization
				DistributionClerk
					initial value is Employee
					force default to Employee

			Action Rules

				invoke Create DistributionClerk
					invoked.HROrganization			= HROrganization
					invoked.DistributionClerk		= DistributionClerk
					invoked.Company					= Company

#endif
