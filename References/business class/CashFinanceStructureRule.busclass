CashFinanceStructureRule is a BusinessClass
    owned by cb
    prefix is CBFSR
	default label is "CashLedgerFundAccountingRule"

    Ontology
        symbolic key is CashFinanceStructureRule

    Persistent Fields
		Priority					is a DisplayOrder
		Name
		Description
        Type						is a CashLedgerFinanceStructureType
		DistributionRule			is a CashLedgerGLDistribution group
		FinanceCodeBlock
			default label is "FinanceStructure"
		FinanceCodeBlockSetBlanks
			default label is "SetDimensionsToBlank"
		Active						is Boolean


	Local Fields
	
	Sets
		ByTypePriorityActive
			duplicates
			Sort Order
				CashManagementGroup
				Type
				Active
				Priority
				CashFinanceStructureRule

		ByPriority
			Sort Order
				CashManagementGroup
				Type
				Priority
				CashFinanceStructureRule

	Relations

		DuplicateCashFinanceStructureRuleRel
			one-to-many relation to CashFinanceStructureRule
			Field Mapping uses ByPriority
				related.CashManagementGroup	= CashManagementGroup 
				related.Type				= Type
				related.Priority			= Priority
            Instance Selection
				where (related.CashFinanceStructureRule	!= CashFinanceStructureRule)

	Field Rules
		Priority
			required
			constraint (DuplicateCashFinanceStructureRuleRel not exists)
				"DuplicatePriority"
		Name
			required
		Description
			required
        Type
			required
		DistributionRule
			required
		FinanceCodeBlock

			constraint (FinanceCodeBlock.GeneralLedgerChartAccount !entered)		
				"CannotOverrideGlobalLedgerAccount"

	Actions
		Create is a Create Action

		Update is an Update Action

		Delete is a Delete Action
		
		
