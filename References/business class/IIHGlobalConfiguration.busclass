IIHGlobalConfiguration is a BusinessClass
	owned by InventoryIntelligence
	default label is "InventoryIntelligenceGlobalConfiguration"
	
	prefix is IIGC
	
	Ontology
		symbolic key is IIHGlobalConfiguration
		
	
	Patterns
	
	Persistent Fields

		DefaultGlobalAccess				is an AccessType

		SimulationStartDateOffset		is Unsigned Decimal size 4
		SimulationEndDateOffset			is Unsigned Decimal size 4
		UseTracking						is Boolean
		UseBinTracking					is Boolean

		OmitTransactions				is Boolean
		IssuesOnhandCutoff				is Unsigned Decimal size 7
		IssuesQuantityCutoff			is Unsigned Decimal size 7
		ReceiptsOnhandCutoff			is Unsigned Decimal size 7
		ReceiptsQuantityCutoff			is Unsigned Decimal size 7

		DecreasingRecBreakPoint			is Unsigned Decimal size 4
		DecreasingRecAbsDifference		is Unsigned Decimal size 4
		DecreasingRecPercentDifference	is Unsigned Percent size 4.2
		DecreasingRecMinimumOnhandLevel	is Unsigned Decimal size 4.2
		IncreasingRecBreakPoint			is Unsigned Decimal size 7
		IncreasingRecAbsDifference		is Unsigned Decimal size 4
		IncreasingRecPercentDifference	is Unsigned Percent size 4.2
		DemandSpikeThreshold			is Unsigned Decimal size 4
		MinimunOnHandPeriodCutoff		is Unsigned Decimal size 3
		DropInadequateRecommendations	is Boolean

		RunRecsForPerpetuals			is Boolean
			restricted
		LeadTimeLengthCutoff			is Unsigned Decimal size 3
		MinimumLeadTimeValues			is Unsigned Decimal size 3
		DefaultLeadTimeVariability		is Unsigned Decimal size 3
			default label is "DefaultLeadTime"
		DefaultLeadTimeSource			is Numeric size 1
			States
				SpecialistParameter		value is 1
					default label is "UseDefaultLeadTime"
				ItemLocation  			value is 2
					default label is "UseItemLocationLeadTime"
		TotalIssuesCutoff				is Unsigned Decimal size 3
		IssuesSimPeriodCutoff			is Unsigned Decimal size 3
		StartDateCutoff					is Unsigned Decimal size 4
		ReorderPointOffset				is Unsigned Decimal size 3
		FloorMultiplier					is Unsigned Decimal size 3.2
		DataExtractCutoff				is Unsigned Decimal size 4
		ParUseTracking					is Boolean
		ParUseBinTracking				is Boolean
		ParReplenishSimPeriodCutoff		is Unsigned Decimal size 3
		ParReplenishEligibleCutoff		is Unsigned Decimal size 3
		ConsignmentInValuation			is Boolean
		ParConservativeLowerBound		is Unsigned Decimal size 3
		UseUSTimeStampDate				is Boolean
	Local Fields
		LocalToValue 				is Numeric size 8
		LCurrentIIHProcessResult	is an InventoryIntelligenceProcessResult

	Transient Fields
		TransShowAll			is Numeric size 1
			States
				ShowChanges		value is 1
				ShowAll  		value is 2
			
	Field Rules

		DefaultGlobalAccess
			initial value is AccessType.None
			default to AccessType.None

		SimulationStartDateOffset
			initial value is 364
			
		SimulationEndDateOffset
			initial value is 3
				


		

		OmitTransactions
			initial value is true
			
		ReceiptsQuantityCutoff
			initial value is 1000000
			LocalToValue = 1000000
			constraint (ReceiptsQuantityCutoff <= LocalToValue)
				"MaximumValueAllowedIs<LocalToValue>"
				
		ReceiptsOnhandCutoff
			initial value is 1000000
			LocalToValue = 1000000 
			constraint (ReceiptsOnhandCutoff <= LocalToValue)
				"MaximumValueAllowedIs<LocalToValue>"
	
		IssuesQuantityCutoff
			initial value is 1000000
			LocalToValue = 1000000 
			constraint (IssuesQuantityCutoff <= LocalToValue)
				"MaximumValueAllowedIs<LocalToValue>"
		
		IssuesOnhandCutoff
			initial value is 1000000
			LocalToValue = 1000000 
			constraint (IssuesOnhandCutoff <= LocalToValue)
				"MaximumValueAllowedIs<LocalToValue>"
		

		DecreasingRecBreakPoint
			initial value is 40
			LocalToValue = 1
			required
				"MinimumValueAllowedIs<LocalToValue>"
		
		DecreasingRecAbsDifference
			initial value is 2

		DecreasingRecPercentDifference
			initial value is 0.05

		DecreasingRecMinimumOnhandLevel
			initial value is 1.5
		
		IncreasingRecBreakPoint
			initial value is 40
			required
				"MinimumValueAllowedIs1"
			LocalToValue = 1000000
			constraint (IncreasingRecBreakPoint <= LocalToValue)
				"MaximumValueAllowedIs<LocalToValue>"
		
		IncreasingRecAbsDifference
			initial value is 2
		
		IncreasingRecPercentDifference
			initial value is 0.05
		
		DemandSpikeThreshold
			initial value is 10
				
		MinimunOnHandPeriodCutoff
			initial value is 8
			LocalToValue = 104
			constraint (MinimunOnHandPeriodCutoff <= LocalToValue)
				"MaximumValueAllowedIs<LocalToValue>"


		
		LeadTimeLengthCutoff
			initial value is 30
			LocalToValue = 720
			constraint (LeadTimeLengthCutoff < LocalToValue)
				"MustBeLessThan<LocalToValue>"
			
		MinimumLeadTimeValues
			initial value is 5
			
		DefaultLeadTimeVariability
			initial value is 1
		
		DefaultLeadTimeSource
			initial value is DefaultLeadTimeSource.SpecialistParameter
		
		TotalIssuesCutoff
			initial value is 2

		IssuesSimPeriodCutoff
			initial value is 12
			
		StartDateCutoff
			initial value is 182
				
		ReorderPointOffset
			initial value is 1
		
		FloorMultiplier
			initial value is 1

		DataExtractCutoff
			initial value is 546
			


		
		ParReplenishSimPeriodCutoff
			LocalToValue = 520
			constraint (ParReplenishSimPeriodCutoff <= LocalToValue)
				"MaximumValueAllowedIs<LocalToValue>"
				
		ParReplenishEligibleCutoff
			initial value is 2
			LocalToValue = 520
			constraint (ParReplenishEligibleCutoff <= LocalToValue)
				"MaximumValueAllowedIs<LocalToValue>"
				
		ConsignmentInValuation
			if (ConsignmentInValuation changed)
				confirmation required
					"Warning;InventoryLocationAndOverviewKPIValuesWillBeRecalculatedBasedOnNewSetting,SelectYesToContinue"
				invoke CalculateLocationSummaryValues IIHItemLocation

					
		ParConservativeLowerBound
			initial value is 2
		
	Rule Blocks
	
		DefaultGlobalConfigurationParameters
			DefaultGlobalAccess = AccessType.None
			SimulationStartDateOffset = 364
			SimulationEndDateOffset = 3
			UseTracking = false
			UseBinTracking = false
			OmitTransactions = true
			ReceiptsQuantityCutoff = 1000000
			ReceiptsOnhandCutoff = 1000000
			IssuesQuantityCutoff = 1000000
			IssuesOnhandCutoff = 1000000
			DecreasingRecBreakPoint = 40
			DecreasingRecAbsDifference = 2
			DecreasingRecPercentDifference = 0.05
			DecreasingRecMinimumOnhandLevel = 1.5
			IncreasingRecBreakPoint = 40
			IncreasingRecAbsDifference = 2
			IncreasingRecPercentDifference = 0.05
			DemandSpikeThreshold = 10
			MinimunOnHandPeriodCutoff = 8
			LeadTimeLengthCutoff = 30
			MinimumLeadTimeValues = 5
			DefaultLeadTimeVariability = 1
			DefaultLeadTimeSource = DefaultLeadTimeSource.SpecialistParameter
			TotalIssuesCutoff = 2
			IssuesSimPeriodCutoff = 12
			StartDateCutoff = 182
			ReorderPointOffset = 1
			FloorMultiplier = 1
			DataExtractCutoff = 546
			ParUseTracking = false
			ParUseBinTracking = false
			ParReplenishEligibleCutoff = 2

	Conditions
		ExecuteEngineProcessAcrossFEG
			when (InProgressEngineProcessAcrossFEGRel not exists)
		
		ExecuteEngineProcess
			when (InProgressEngineProcessRel not exists)
			
		SimulationStartDateOffsetDefaultCheck
			restricted
			when (SimulationStartDateOffset not = DerivedSimulationStartDateOffset)
			
		SimulationEndDateOffsetDefaultCheck
			restricted
			when (SimulationEndDateOffset not = DerivedSimulationEndDateOffset)
			
		UseTrackingDefaultCheck
			restricted
			when (UseTracking not = DerivedUseTracking)
			
		UseBinTrackingDefaultCheck
			restricted
			when (UseBinTracking not = DerivedUseBinTracking)
			
		OmitTransactionsDefaultCheck
			restricted
			when (OmitTransactions not = DerivedOmitTransactions)
			
		IssuesOnhandCutoffDefaultCheck
			restricted
			when(IssuesOnhandCutoff not = DerivedIssuesOnhandCutoff)
			
		IssuesQuantityCutoffDefaultCheck
			restricted
			when (IssuesQuantityCutoff not = DerivedIssuesQuantityCutoff)
			
		ReceiptsOnhandCutoffDefaultCheck
			restricted
			when (ReceiptsOnhandCutoff not = DerivedReceiptsOnhandCutoff)
			
		ReceiptsQuantityCutoffDefaultCheck
			restricted
			when (ReceiptsQuantityCutoff not = DerivedReceiptsQuantityCutoff)
			
		DecreasingRecBreakPointDefaultCheck
			restricted
			when (DecreasingRecBreakPoint not = DerivedDecreasingRecBreakPoint)
			
		DecreasingRecAbsDifferenceDefaultCheck
			restricted
			when (DecreasingRecAbsDifference not = DerivedDecreasingRecAbsDifference)
			
		DecreasingRecPercentDifferenceDefaultCheck
			restricted
			when (DecreasingRecPercentDifference not = DerivedDecreasingRecPercentDifference)
			
		DecreasingRecMinimumOnhandLevelDefaultCheck
			restricted
			when (DecreasingRecMinimumOnhandLevel not = DerivedDecreasingRecMinimumOnhandLevel)
			
		DecreaseInRecommendedReorderPoint
			when (DecreasingRecBreakPointDefaultCheck
			or 	  DecreasingRecAbsDifferenceDefaultCheck
			or    DecreasingRecPercentDifferenceDefaultCheck
			or    DecreasingRecMinimumOnhandLevelDefaultCheck)
			
		IncreasingRecBreakPointDefaultCheck
			restricted
			when(IncreasingRecBreakPoint not = DerivedIncreasingRecBreakPoint)
			
		IncreasingRecAbsDifferenceDefaultCheck
			restricted
			when (IncreasingRecAbsDifference not = DerivedIncreasingRecAbsDifference)
			
		IncreasingRecPercentDifferenceDefaultCheck
			restricted
			when (IncreasingRecPercentDifference not = DerivedIncreasingRecPercentDifference)
			
		DemandSpikeThresholdDefaultCheck
			restricted
			when (DemandSpikeThreshold not = DerivedDemandSpikeThreshold)
			
		IncreaseInRecommendedReorderPoint
			restricted
			when (IncreasingRecBreakPointDefaultCheck
			or    IncreasingRecAbsDifferenceDefaultCheck
			or    IncreasingRecPercentDifferenceDefaultCheck
			or    DemandSpikeThresholdDefaultCheck)
		MinimunOnHandPeriodCutoffDefaultCheck
			restricted
			when (MinimunOnHandPeriodCutoff not = DerivedMinimunOnHandPeriodCutoff)
			
		LeadTimeLengthCutoffDefaultCheck
			restricted
			when (LeadTimeLengthCutoff not = DerivedLeadTimeLengthCutoff)
			
		MinimumLeadTimeValuesDefaultCheck
			restricted
			when (MinimumLeadTimeValues not = DerivedMinimumLeadTimeValues)
			
		DefaultLeadTimeVariabilityDefaultCheck
			restricted
			when (DefaultLeadTimeVariability not = DerivedDefaultLeadTimeVariability)
			
		DefaultLeadTimeSourceDefaultCheck
			restricted
			when (DefaultLeadTimeSource not = DerivedDefaultLeadTimeSource)
			
		TotalIssuesCutoffDefaultCheck
			restricted
			when (TotalIssuesCutoff not = DerivedTotalIssuesCutoff)
			
		IssuesSimPeriodCutoffDefaultCheck
			restricted
			when (IssuesSimPeriodCutoff not = DerivedIssuesSimPeriodCutoff)
			
		StartDateCutoffDefaultCheck
			restricted
			when (StartDateCutoff not = DerivedStartDateCutoff)
			
		ReorderPointOffsetDefaultCheck
			restricted
			when (ReorderPointOffset not = DerivedReorderPointOffset)
			
		FloorMultiplierDefaultCheck
			restricted
			when (FloorMultiplier not = DerivedFloorMultiplier)
			
		DataExtractCutoffDefaultCheck
			restricted
			when (DataExtractCutoff not = DerivedDataExtractCutoff)
			
		ParUseBinTrackingDefaultCheck
			restricted
			when (ParUseBinTracking not = DerivedParUseBinTracking)
									
		ParReplenishEligibleCutoffDefaultCheck
			restricted
			when (ParReplenishEligibleCutoff not = DerivedParReplenishEligibleCutoff)
		
		ParConservativeLowerBoundDefaultCheck
			restricted
			when (ParConservativeLowerBound not = DerivedParConservativeLowerBound)
		
		DaysBackFromTheEndDateFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or SimulationStartDateOffsetDefaultCheck)
		
		EndFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or SimulationEndDateOffsetDefaultCheck)
		
		OmitTransactionCheck
			restricted
			when (OmitTransactionsMessage not = DerivedOmitTransactionsMessage)
		
		OmitTransactionFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or OmitTransactionCheck)
		
		IssueOnHandCutOffCheck
			restricted
			when (IssuesOnhandCutoff not = DerivedIssuesOnhandCutoff)
		
		IssueOnHAndCutOffFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or IssueOnHandCutOffCheck)
		
		IssueFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or IssuesQuantityCutoffDefaultCheck)
		
		ReceiptsOnHandFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or ReceiptsOnhandCutoffDefaultCheck)
			
		ReceiptFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or ReceiptsQuantityCutoffDefaultCheck)
		
		LeadTimeLengthCutOffFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or LeadTimeLengthCutoffDefaultCheck)
		
		MinimumLeadTimeValuesFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or MinimumLeadTimeValuesDefaultCheck)
		
		DefaultLeadTimeFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or DefaultLeadTimeVariabilityDefaultCheck)
		
		DefaultLeadTimeSourceDefaultFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or DefaultLeadTimeSourceDefaultCheck)
			
		DecreasingRecBreakPointFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or DecreasingRecBreakPointDefaultCheck)
		
  		DecreasingRecAbsDifferenceFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or DecreasingRecAbsDifferenceDefaultCheck)
		
		DecreasingRecPercentDifferenceFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or DecreasingRecPercentDifferenceDefaultCheck)
		
		DerivedDecreasingRecMinimumOnhandLevelFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or DecreasingRecMinimumOnhandLevelDefaultCheck)
		
		IncreasingRecBreakPointCheck
			restricted
			when (IncreasingRecBreakPoint not = DerivedIncreasingRecBreakPoint)
		
		IncreasingRecBreakPointFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or IncreasingRecBreakPointCheck)
		
		IncreasingRecAbsDifferenceCheck
			restricted
			when (IncreasingRecAbsDifference not = DerivedIncreasingRecAbsDifference)
		
		IncreasingRecAbsDifferenceFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or IncreasingRecAbsDifferenceCheck)
		
		IncreasingRecPercentDifferenceFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or IncreasingRecPercentDifferenceDefaultCheck)
		
		DemandSpikeThresholdFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or DemandSpikeThresholdDefaultCheck)
		
		DropInadequateRecommendationsMessageCheck
			restricted
			when (DropInadequateRecommendationsMessage not = DropInadequateRecommendationsMessage)
		
		DropInadequateRecommendationsMessageFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or DropInadequateRecommendationsMessageCheck)
			
		MinimunOnHandPeriodCutoffFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or MinimunOnHandPeriodCutoffDefaultCheck)
			
		TotalIssuesCutoffFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or TotalIssuesCutoffDefaultCheck)
		
		IssuesSimPeriodCutoffFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or IssuesSimPeriodCutoffDefaultCheck)
		
		StartDateCutoffFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or StartDateCutoffDefaultCheck)
		
		ReorderPointOffsetFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or ReorderPointOffsetDefaultCheck)
		
		FloorMultiplierFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or FloorMultiplierDefaultCheck)
		
		ParReplenishEligibleCutoffFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or ParReplenishEligibleCutoffDefaultCheck)
			
		ParConservativeLowerBoundFinalCheck
			restricted
			when (TransShowAll.ShowAll
			or ParConservativeLowerBoundDefaultCheck)
		
		DataCleansingChangesCheck
			restricted
			when (!SimulationStartDateOffsetDefaultCheck
			and !SimulationEndDateOffsetDefaultCheck
			and !OmitTransactionCheck
			and !IssueOnHandCutOffCheck
			and !IssuesQuantityCutoffDefaultCheck
			and !ReceiptsOnhandCutoffDefaultCheck
			and !ReceiptsQuantityCutoffDefaultCheck
			and !LeadTimeLengthCutoffDefaultCheck
			and !MinimumLeadTimeValuesDefaultCheck
			and !DefaultLeadTimeVariabilityDefaultCheck
			and !TransShowAll.ShowAll)
			
		PostProcessingDecreasingChangesCheck
			restricted
			when (!DecreasingRecBreakPointDefaultCheck
			and !DecreasingRecAbsDifferenceDefaultCheck
			and !DecreasingRecPercentDifferenceDefaultCheck
			and !DecreasingRecMinimumOnhandLevelDefaultCheck
			and !TransShowAll.ShowAll)
			
		PostProcessingIncreasingChangesCheck
			restricted
			when ( !IncreasingRecBreakPointCheck
			and !IncreasingRecAbsDifferenceCheck
			and !IncreasingRecPercentDifferenceDefaultCheck
			and !DemandSpikeThresholdDefaultCheck
			and !DropInadequateRecommendationsMessageCheck
			and !TransShowAll.ShowAll)
		
		PerpetualGlobalChangesCheck
			restricted
			when (!MinimunOnHandPeriodCutoffDefaultCheck
			and !TotalIssuesCutoffDefaultCheck
			and !IssuesSimPeriodCutoffDefaultCheck
			and !StartDateCutoffDefaultCheck
			and !ReorderPointOffsetDefaultCheck
			and !FloorMultiplierDefaultCheck
			and !TransShowAll.ShowAll )
		
		ParGlobalCheck
			restricted
			when (!ParReplenishEligibleCutoffDefaultCheck
			and !ParConservativeLowerBoundDefaultCheck
			and !TransShowAll.ShowAll )
			
		FEGMatchesContext
 			restricted
 			when (FinanceEnterpriseGroup = actor.context.FinanceEnterpriseGroup)

		HasReplicationSetup
			restricted
			when (ReplicationSetRel.ReplicationDataDestination.Local
			and ReplicationSetRel.LocalDestination entered)

		HasSetupPermission
			restricted
			when (!HasReplicationSetup
			and IIHGlobalConfigurationRel exists)
		
		HasReplicationPermission
			restricted
			when (HasReplicationSetup
			and IIHGlobalConfigurationRel exists
			and not ReplicationSetRel.SchemaRegistrationRequired)

		CanRegisterSchemas
			restricted
			when (HasReplicationSetup
			and ReplicationSetRel.CanRegisterSchemas
			and IIHGlobalConfigurationRel exists
			and ReplicationSetRel.SchemaRegistrationRequired)
			
		CanRegisterOutOfDateSchemas
			restricted
			when (HasReplicationSetup
			and ReplicationSetRel.CanRegisterOutOfDateSchemas
			and IIHGlobalConfigurationRel exists
			and ReplicationSetRel.SchemaRegistrationRequired)
	
	Derived Fields
		ContextMessageEntityType is a StringField
			type is Alpha 30
			restricted
			"InforIIHGlobalConfiguration"
			
		ContextMessageText is a MessageField
			restricted
			"IIHGlobalConfiguration<FinanceEnterpriseGroup>"
			
		DerivedSimulationStartDateOffset is a DerivedField
			type is Unsigned Decimal size 4
			return 364
			
		DerivedSimulationEndDateOffset is a DerivedField
			type is Unsigned Decimal size 4
			return 3
			
		DerivedUseTracking is a DerivedField
			type is Boolean
			return false
			
		DerivedUseBinTracking is a DerivedField
			type is Boolean
			return false
			
		DerivedOmitTransactions is a DerivedField
			type is Boolean
			return true
			
		DerivedIssuesOnhandCutoff is a DerivedField
			type is Unsigned Decimal size 7
			return 1000000
			
		DerivedIssuesQuantityCutoff is a DerivedField
			type is Unsigned Decimal size 7
			return 1000000
			
		DerivedReceiptsOnhandCutoff is a DerivedField
			type is Unsigned Decimal size 7
			return 1000000
			
		DerivedReceiptsQuantityCutoff is a DerivedField
			type is Unsigned Decimal size 7
			return 1000000
			
		DerivedDecreasingRecBreakPoint is a DerivedField
			type is Unsigned Decimal size 4
			return 40
			
		DerivedDecreasingRecAbsDifference is a DerivedField
			type is Unsigned Decimal size 4
			return 2
			
		DerivedDecreasingRecPercentDifference is a DerivedField
			type is Unsigned Percent size 4.2
			return 0.05
			
		DerivedDecreasingRecMinimumOnhandLevel is a DerivedField
			type is Unsigned Decimal size 4.2
			return 1.5
			
		DerivedIncreasingRecBreakPoint is a DerivedField
			type is Unsigned Decimal size 7
			return 40
			
		DerivedIncreasingRecAbsDifference is a DerivedField
			type is Unsigned Decimal size 4
			return 2
			
		DerivedIncreasingRecPercentDifference is a DerivedField
			type is Unsigned Percent size 4.2
			return 0.05
			
		DerivedDemandSpikeThreshold is a DerivedField
			type is Unsigned Decimal size 4
			return 10
			
			
		DerivedMinimunOnHandPeriodCutoff is a DerivedField
			type is Unsigned Decimal size 3
			return 8
			
		DerivedLeadTimeLengthCutoff is a DerivedField
			type is Unsigned Decimal size 3
			return 30
			
		DerivedMinimumLeadTimeValues is a DerivedField
			type is Unsigned Decimal size 3
			return 5
			
		DerivedDefaultLeadTimeVariability is a DerivedField
			type is Unsigned Decimal size 3
			return 1
			
		DerivedDefaultLeadTimeSource is a DerivedField
			type is Numeric size 1
			return 1
			
		DerivedTotalIssuesCutoff is a DerivedField
			type is Unsigned Decimal size 3
			return 2
			
		DerivedIssuesSimPeriodCutoff is a DerivedField
			type is Unsigned Decimal size 3
			return 12
			
		DerivedStartDateCutoff is a DerivedField
			type is Unsigned Decimal size 4
			return 182
			
		DerivedReorderPointOffset is a DerivedField
			type is Unsigned Decimal size 3
			return 1
			
		DerivedFloorMultiplier is a DerivedField
			type is Unsigned Decimal size 3.2
			return 1
			
		DerivedDataExtractCutoff is a DerivedField
			type is Unsigned Decimal size 4
			return 546
			
		DerivedParUseBinTracking is a DerivedField
			type is Boolean
			return false
									
		DerivedParReplenishEligibleCutoff is a DerivedField
			type is Unsigned Decimal size 3
			return 2
			
		DerivedParConservativeLowerBound is a DerivedField 
			type is Unsigned Decimal size 3
			return 2
			
		EngineDBUser is a NativeField
			type is Alpha 150
			
		APIVersion is a NativeField
			type is Alpha 50
		
		PerpetualAnalysisDateStr is a StringField
            type is Alpha size 50
            "Analysis"
            blank
            "Window"
            blank
            first RecsProcessResultInvLocRel.AnalysisDateString
		
		ParAnalysisDateStr is a StringField
            type is Alpha size 50
            "Analysis"
            blank
            "Window"
            blank
            first RecsProcessResultParLocRel.AnalysisDateString
            
        PerpetualAnalysisBeginDate is a DerivedField
        	type is Date
        	if (first RecsProcessResultInvLocRel.AnalysisDate.Begin entered)
        		return first RecsProcessResultInvLocRel.AnalysisDate.Begin
        	else
        		return blank
        		
        PerpetualAnalysisEndDate is a DerivedField
        	type is Date
        	if (first RecsProcessResultInvLocRel.AnalysisDate.End entered)
        		return first RecsProcessResultInvLocRel.AnalysisDate.End
        	else
        		return blank
		
		PerpetualAnalysisDate is a DerivedField
			type is Alpha 50
			if (first RecsProcessResultInvLocRel.AnalysisDate entered)
				return PerpetualAnalysisDateStr
			else
				return blank
			
		ParAnalysisDate is a DerivedField
			type is Alpha 50
			if (first RecsProcessResultParLocRel.AnalysisDate entered)
				return ParAnalysisDateStr
			else
				return blank
				
		PerpetualAnalysisDateDerived is a DerivedField
			type is Alpha 50
			if (first RecsProcessResultInvLocRel.AnalysisDate entered)
				return RecsProcessResultInvLocRel.AnalysisDateString
			else
				return blank
			
		ParAnalysisDateDerived is a DerivedField
			type is Alpha 50
			if (first RecsProcessResultParLocRel.AnalysisDate entered)
				return RecsProcessResultParLocRel.AnalysisDateString
			else
				return blank
				

		OmitTransactionsMessage is a DerivedField
			type is Alpha 10
			if (OmitTransactions = true)
				return "Yes"
			else 
				return "No"
			
		DerivedOmitTransactionsMessage is a DerivedField
			type is Alpha 10
			if (DerivedOmitTransactions = true)
				return "Yes"
			else
				return "No"
		
		DropInadequateRecommendationsMessage is a DerivedField
			type is Alpha 10
			if (DropInadequateRecommendationsMessage = true)
				return "Yes"
			else
				return "No"
				
		
		DaysBackFromTheEndDate is a MessageField
			"AnalysisWindowStart"
		
		End is a MessageField
			"AnalysisWindowEnd"
		
		OmitTransactionsPriorToLastStockUOMChange is a MessageField
			"Omit_transactions_prior_to_last_stockUOM_change"
			
		IssuesOnHand is a MessageField
			"IssuesOn-hand"
			
		Issues is a MessageField
			"Issues"
		
		ReceiptsOnHand is a MessageField
			"ReceiptsOn-hand"
			
		Receipts is a MessageField
			"Receipts"
		
		MinimumNumberOfLeadTimeValues is a MessageField
			"MinimumNumberOfLeadTimeValues"
		
		DefaultLeadTime is a MessageField
			"DefaultLeadTime"
		
		InCaseOfInsufficientLeadTimeHistory is a MessageField
			"InCaseOfInsufficientLeadTimeHistory"
		
		IfCurrentROPIsLessThan is a MessageField
			"BreakPoint"
		
		UnitsThenDoNotRecommendIfChangeInROPIsLessThan is a MessageField
			"AbsoluteDifference"
			
		ElseDoNotRecommendIfChangeInROPIsLessThan is a MessageField
			"PercentDifference"
		
		MinimumOnHandLevelThreshold is a MessageField
			"MinimumOnHandLevelThreshold"
		
		DoNotRecommendIfDemandSpikeExceeds is a MessageField
			"DemandSpikeThreshold"
		
		DropRecommendationsWithChangeSmallerThanTransactionUOM is a MessageField
			"Drop_recommendations_with_change_smaller_than_transactionUOM"
			
		MinimumOnHandTimePeriodCutoff is a MessageField
			"MinimumOnHandTimePeriodCutoff"
		
		MinimumIssueDaysToQualifyForAnalysis is a MessageField
			"MinimumIssueDaysToQualifyForAnalysis"
		
		MinimumIssueDaysToQualifyForSimulation is a MessageField
			"MinimumIssueDaysToQualifyForSimulation"
		
		MinimumDaysOfHistory is a MessageField
			"MinimumDaysOfHistory"
		
		CutoffBeforeSimulationWindow is a MessageField
			"CutoffBeforeSimulationWindow"
		
		ParReplenishmentCutoffForEligibility is a MessageField
			"Par_ReplenishmentCutoffForEligibility"
			
		ParConservativeLowerBoundMessage is a MessageField
			"ParConservativeLowerBound"
			
		ReorderPointOffsetMessage is a MessageField
			"ReorderPointOffset"
		
		FloorMultiplierMessage is a MessageField
			"FloorMultiplier"
		
		LeadTimeLengthCutoffMessage is a MessageField
			"LeadTimeLengthCutoff"
		
		DecreaseLessSummaryMessage is a MessageField
			"IfCurrent_Reorder_PointIsLessThan<DecreasingRecBreakPoint>Units,_DoNotRecommendIfChangeIn_Reorder_PointIsLessThan<DecreasingRecAbsDifference>Units"
			
		DecreaseGreaterSummaryMessage is a MessageField
			"IfCurrent_Reorder_PointIsGreaterThanOrEqualTo<DecreasingRecBreakPoint>Units,_DoNotRecommendIfChangeIn_Reorder_PointIsLessThan<DecreasingRecPercentDifference>"
			
		IncreaseLessSummaryMessage is a MessageField
			"IfCurrent_Reorder_PointIsLessThan<IncreasingRecBreakPoint>Units,_DoNotRecommendIfChangeIn_Reorder_PointIsLessThan<IncreasingRecAbsDifference>Units"
			
		IncreaseGreaterSummaryMessage is a MessageField
			"IfCurrent_Reorder_PointIsGreaterThanOrEqualTo<IncreasingRecBreakPoint>Units,_DoNotRecommendIfChangeIn_Reorder_PointIsLessThan<IncreasingRecPercentDifference>"
			
		IIHSchema is a NativeField
			type is Alpha 150 	
			restricted
					
		SchemaCheck is a DerivedField
			type is Boolean
			restricted
			if (IIHSchema entered)
				return true
			else
				return false
	
		AnalysisTimeWindowSummaryMessage is a MessageField
			"AnalysisTimeWindowStarts<SimulationStartDateOffset>daysBeforeTheEndDateAndEnds<SimulationEndDateOffset>daysBeforeTheLatestTransaction."
			
		ParConservativeMessage is a MessageField
			"MinimumParLevelOf<ParConservativeLowerBound>ForAllItemsThatAreSourcedFromVendorsAndHaveThe_ParUOMEqualTo_StockUOM"

		ActiveDBImportRequests is a DerivedField
			type is Numeric size 10
			restricted
			return (instance count of DBImportRequestRel)

		DBImportInProcess is a DerivedField
			type is Boolean
			if (ActiveDBImportRequests > 0)
				return true
			else
				return false
			
	Relations
	
		ServiceLevelRulesOrderedRel
			one-to-many relation to IIHRule
			Field Mapping uses ByRuleOrder
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.ServiceLevel
				
		LeadTimeRulesOrderedRel
			one-to-many relation to IIHRule
			Field Mapping uses ByRuleOrder
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.LeadTime

		OrderDaysRulesOrderedRel
			one-to-many relation to IIHRule
			Field Mapping uses ByRuleOrder
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.OrderDays
				
		ReceivingDaysRulesOrderedRel
			one-to-many relation to IIHRule
			Field Mapping uses ByRuleOrder
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.ReceivingDays
		
		CutoffRulesOrderedRel
			one-to-many relation to IIHRule
			Field Mapping uses ByRuleOrder
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.Cutoff
		
		ExclusionRulesOrderedRel
			one-to-many relation to IIHRule
			Field Mapping uses ByRuleOrder
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.Exclusion
		
		OptimizationMethodRulesOrderedRel
			one-to-many relation to IIHRule
			Field Mapping uses ByRuleOrder
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.OptimizationMethod
		
		ParTargetDaysRulesOrderedRel
			one-to-many relation to IIHRule
			Field Mapping uses ByRuleOrder
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.ParTargetDays
		
		OrderDaysRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.OrderDays
				
		ReceivingDaysRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.ReceivingDays
				
		OptimizationMethodRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.OptimizationMethod
				
		CutoffRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.Cutoff
				
		ServiceLevelRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.ServiceLevel
				
		LeadTimeRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.LeadTime
				
		ExclusionRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.Exclusion

		RemovalExclusionRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.RemovalExclusion
		
		EngineProcessResultsRel
			one-to-many relation to InventoryIntelligenceProcessResult
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
		
		InProgressEngineProcessAcrossFEGRel
			one-to-many relation to InventoryIntelligenceProcessResult
			Field Mapping uses ByStatusAcrossFEG
			Instance Selection
				where (related.InventoryIntelligenceProcessResult != LCurrentIIHProcessResult)
		
		InProgressEngineProcessRel
			one-to-many relation to InventoryIntelligenceProcessResult
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
			Instance Selection
				where (related.Status.Processing
				and    related.InventoryIntelligenceProcessResult != LCurrentIIHProcessResult)
				
		ParTargetDaysRulesRel
			one-to-many relation to IIHRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.IIHRuleType				= IIHRuleType.ParTargetDays
		
		RecsProcessResultInvLocRel
		    one-to-many relation to InventoryIntelligenceProcessResult
		    Field Mapping uses ByProcessStatusStartTime
		        related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
		        related.Process                = 2
		        related.Status                 = 2
		    Instance Selection
		        where (related.LocationTypes.AllLocations
		        or    related.LocationTypes.PerpetualLocations)
		
		RecsProcessResultParLocRel
		    one-to-many relation to InventoryIntelligenceProcessResult
		    Field Mapping uses ByProcessStatusStartTime
		        related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
		        related.Process                = 2
		        related.Status                 = 2
		    Instance Selection
		        where (related.LocationTypes.AllLocations)


		ReplicationSetRel
		    one-to-one relation to ReplicationSet
		    Field Mapping uses symbolic key
		        related.ReplicationSet = "II_FSM_INTERNAL"

		IIHGlobalConfigurationRel
			one-to-one relation to IIHGlobalConfiguration
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup = actor.context.FinanceEnterpriseGroup

		DBImportRequestRel
			one-to-many relation to DBImportRequest
			Field Mapping uses ByStatus
			Instance Selection
				where (related.Status != 8)
				
		IIHLocationGroupRel
			one-to-many relation to IIHLocationGroup
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
		        
	Actions
		Create is a Create Action
			Field Rules
				DefaultGlobalAccess
					default to AccessType.None
				SimulationStartDateOffset
					default to 364
				SimulationEndDateOffset
					default to 3


				OmitTransactions
					default to true
				ReceiptsQuantityCutoff
					default to 1000000
				ReceiptsOnhandCutoff
					default to 1000000
				IssuesQuantityCutoff
					default to 1000000
				IssuesOnhandCutoff
					default to 1000000
				DecreasingRecBreakPoint
					default to 40
				DecreasingRecAbsDifference
					default to 2
				DecreasingRecPercentDifference
					default to 0.05
				DecreasingRecMinimumOnhandLevel
					default to 1.5
				IncreasingRecBreakPoint
					default to 40
				IncreasingRecAbsDifference
					default to 2
				IncreasingRecPercentDifference
					default to 0.05
				DemandSpikeThreshold
					default to 10
				MinimunOnHandPeriodCutoff
					default to 8
				LeadTimeLengthCutoff
					default to 30
				MinimumLeadTimeValues
					default to 5
				DefaultLeadTimeVariability
					default to 1
				DefaultLeadTimeSource
					default to DefaultLeadTimeSource.SpecialistParameter
				TotalIssuesCutoff
					default to 2
				IssuesSimPeriodCutoff
					default to 12
				StartDateCutoff
					default to 182
				ReorderPointOffset
					default to 1
				FloorMultiplier
					default to 1
				DataExtractCutoff
					default to 546


				ParReplenishEligibleCutoff
					default to 2
				
		Update is an Action			
		Delete is an Action
			restricted
		
		ApplySystemDefault is an Instance Action
			Action Rules
				include DefaultGlobalConfigurationParameters
		
		DailyDataEngine is an Instance Action
			run in background
			Parameters
				TimeOutInMinutes				is Numeric size 4
			Parameter Rules
				TimeOutInMinutes
					default to 600
					constraint (TimeOutInMinutes > 0)
						"TimeOutValueShouldBePositive"
			Local Fields
				LastBackgroundGroup			is AlphaUpper up to 200
				LocalFEG					is a FinanceEnterpriseGroup
				NewIIHProcessResult			is an InventoryIntelligenceProcessResult view
				IIHProcessResult			is an InventoryIntelligenceProcessResult
				ParentAsyncActionRequest	is an AsyncActionRequest
			Action Rules
				ParentAsyncActionRequest = current action background group id
				LocalFEG = FinanceEnterpriseGroup
				invoke CreateDailyDataResult InventoryIntelligenceProcessResult
					assign result to NewIIHProcessResult
					invoked.FinanceEnterpriseGroup = LocalFEG
				IIHProcessResult = NewIIHProcessResult.InventoryIntelligenceProcessResult
				LCurrentIIHProcessResult = IIHProcessResult
			Exit Rules
				if (SchemaCheck = true)
					if (ExecuteEngineProcessAcrossFEG)
						LastBackgroundGroup = ParentAsyncActionRequest.Name + "-DD-" + NewIIHProcessResult.InventoryIntelligenceProcessResult
						invoke InvokeDailyDataProcess IIHProcessResult in background group(LastBackgroundGroup)
							run outside of action background group
							invoked.PrmBackgroundGroup = LastBackgroundGroup
							invoked.TimeOutInMinutes   = TimeOutInMinutes
					else
						invoke FailImmediate IIHProcessResult
							invoked.PrmFailedStep = IIHProcessStep.ConcurrentProcessValidation
				else
					invoke FailImmediate IIHProcessResult
						invoked.PrmFailedStep = IIHProcessStep.MissingSchema
					
		RecommendationsEngine is an Instance Action
			run in background
			Parameters
				RunForLocationTypes			is an EngineLocationType
				TimeOutInMinutes			is Numeric size 4
				KeepIntermediateTables		is Boolean
				PrmFinanceEnterpriseGroup	is an FinanceEnterpriseGroup
					default label is "FEG"
				PrmLocationGroup			is an IIHLocationGroup
					context of PrmFinanceEnterpriseGroup
					default label is "LocationGroup"
				PrmInventoryCompany       	is an InventoryCompany
					default label is "Company"
				PrmLocation					is an InventoryLocation
	                default label is "Location"
			Parameter Rules
				PrmInventoryCompany
					if(RunForLocationTypes.Location)
						required
							"CompanyIsRequired"
				PrmLocation
					if(RunForLocationTypes.Location)
						required
							"LocationIsRequired"
				PrmLocationGroup
					if(RunForLocationTypes.LocationGroup)
						required
							"Location_GroupIsRequired"
				PrmFinanceEnterpriseGroup
					PrmFinanceEnterpriseGroup = FinanceEnterpriseGroup
				RunForLocationTypes
					initial value is EngineLocationType.AllLocations
					default to EngineLocationType.AllLocations
				TimeOutInMinutes
					default to 600
					constraint (TimeOutInMinutes > 0)
						"TimeOutValueShouldBePositive"
			Local Fields
				LastBackgroundGroup			is AlphaUpper up to 200
				LocalFEG					is a FinanceEnterpriseGroup
				NewIIHProcessResult			is an InventoryIntelligenceProcessResult view
				IIHProcessResult			is an InventoryIntelligenceProcessResult
					context of LocalFEG
				ParentAsyncActionRequest	is an AsyncActionRequest
			Action Rules
				ParentAsyncActionRequest = current action background group id
				LocalFEG = FinanceEnterpriseGroup
				invoke CreateRecommendationResult InventoryIntelligenceProcessResult
					assign result to NewIIHProcessResult
					invoked.FinanceEnterpriseGroup 	= LocalFEG
					invoked.LocationTypes		 	= RunForLocationTypes
					if(RunForLocationTypes.LocationGroup)
						invoked.RunLocationGroup = PrmLocationGroup
					if(RunForLocationTypes.Location)
						invoked.RunLocationCompany = PrmInventoryCompany
						invoked.RunLocation = PrmLocation
					
				IIHProcessResult = NewIIHProcessResult.InventoryIntelligenceProcessResult
				LCurrentIIHProcessResult = IIHProcessResult
			Exit Rules
				if (SchemaCheck = true)
					if (ExecuteEngineProcessAcrossFEG)
						LastBackgroundGroup = ParentAsyncActionRequest.Name + "-RE-" + NewIIHProcessResult.InventoryIntelligenceProcessResult
						invoke InvokeRecommendationProcess IIHProcessResult in background group(LastBackgroundGroup)
							run outside of action background group
							invoked.PrmBackgroundGroup = LastBackgroundGroup
							invoked.RunForLocationTypes= RunForLocationTypes
							invoked.TimeOutInMinutes   = TimeOutInMinutes
							invoked.KeepIntermediateTables = KeepIntermediateTables
					else
						invoke FailImmediate IIHProcessResult
							invoked.PrmFailedStep = IIHProcessStep.ConcurrentProcessValidation
				else
					invoke FailImmediate IIHProcessResult
						invoked.PrmFailedStep = IIHProcessStep.MissingSchema
						
		PurgeReplicatedRecords is an Instance Action
			run in background
			Parameters
				PurgeIIHBusinessClass		is an IIHBusinessClass
			Parameter Rules
				PurgeIIHBusinessClass
					initial value is IIHBusinessClass.All
					default to IIHBusinessClass.All
			Action Rules
				if (PurgeIIHBusinessClass.All)
					invoke PurgeIIHItemLocation IIHItemLocation
					invoke PurgeIIHItemUOM IIHItemUOM
					invoke PurgeIIHGeneralLedgerCompany IIHGeneralLedgerCompany
					invoke PurgeIIHInventoryTransactionLine IIHInventoryTransactionLine
					invoke PurgeIIHItem IIHItem
					invoke PurgeIIHItemReplenishmentSource IIHItemReplenishmentSource
					invoke PurgeIIHPurchaseOrderLineSource IIHPurchaseOrderLineSource
					invoke PurgeIIHPurchaseOrderReceiptLine IIHPurchaseOrderReceiptLine
					invoke PurgeIIHVendor IIHVendor
					invoke PurgeIIHVendorReturn IIHVendorReturn
					invoke PurgeIIHVendorReturnLine IIHVendorReturnLine
					invoke PurgeIIHDailyData IIHDailyData
					invoke PurgeIIHAssociatedItem IIHAssociatedItem
					invoke PurgeIIHInventoryLocation IIHInventoryLocation
					invoke PurgeIIHPurchasingVendor IIHPurchasingVendor
					invoke PurgeIIHVendorItem IIHVendorItem
				else	
				if (PurgeIIHBusinessClass.IIHItemLocation)

					invoke PurgeIIHItemLocation IIHItemLocation
				else
				if (PurgeIIHBusinessClass.IIHItemUOM)
					invoke PurgeIIHItemUOM IIHItemUOM
				else
				if (PurgeIIHBusinessClass.IIHGeneralLedgerCompany)
					invoke PurgeIIHGeneralLedgerCompany IIHGeneralLedgerCompany
				else
				if (PurgeIIHBusinessClass.IIHInventoryTransactionLine)
					invoke PurgeIIHInventoryTransactionLine IIHInventoryTransactionLine
				else
				if (PurgeIIHBusinessClass.IIHItem)
					invoke PurgeIIHItem IIHItem
				else
				if (PurgeIIHBusinessClass.IIHItemReplenishmentSource)
					invoke PurgeIIHItemReplenishmentSource IIHItemReplenishmentSource
				else
				if (PurgeIIHBusinessClass.IIHPurchaseOrderLineSource)
					invoke PurgeIIHPurchaseOrderLineSource IIHPurchaseOrderLineSource
				else
				if (PurgeIIHBusinessClass.IIHPurchaseOrderReceiptLine)
					invoke PurgeIIHPurchaseOrderReceiptLine IIHPurchaseOrderReceiptLine
				else
				if (PurgeIIHBusinessClass.IIHVendor)
					invoke PurgeIIHVendor IIHVendor
				else
				if (PurgeIIHBusinessClass.IIHVendorReturn)
					invoke PurgeIIHVendorReturn IIHVendorReturn
				else
				if (PurgeIIHBusinessClass.IIHVendorReturnLine)
					invoke PurgeIIHVendorReturnLine IIHVendorReturnLine
				else
				if (PurgeIIHBusinessClass.IIHDailyData)
					invoke PurgeIIHDailyData IIHDailyData
				else
				if (PurgeIIHBusinessClass.IIHAssociatedItem)
					invoke PurgeIIHAssociatedItem IIHAssociatedItem
				else
				if (PurgeIIHBusinessClass.IIHInventoryLocation)
					invoke PurgeIIHInventoryLocation IIHInventoryLocation
				if (PurgeIIHBusinessClass.IIHPurchasingVendor)
					invoke PurgeIIHPurchasingVendor IIHPurchasingVendor
				if (PurgeIIHBusinessClass.IIHVendorItem)
					invoke PurgeIIHVendorItem IIHVendorItem

		RunReplication is an Instance Action
			run in background
			valid when (HasReplicationPermission)
			Action Rules
				invoke Replicate ReplicationSetRel

		ResetReplication is an Instance Action
			run in background
			Action Rules
				invoke Reset ReplicationSetRel
				
		SetupReplication is an Instance Action
			valid when (HasSetupPermission)
			Parameters
				PrmDataArea	is a DataArea
			Parameter Rules
				PrmDataArea
					initial value is parentcontext.dataarea
					required
						"DataAreaIsRequired"
			Action Rules
				invoke Update ReplicationSetRel
					invoked.ReplicationDataDestination.Local = true
					invoked.LocalDestination				 = PrmDataArea
					invoked.ReplicationSchemaDestination.IMS = false
					invoked.ReplicationSchemaDestination.FTP = false
					invoked.ReplicationSchemaDestination.Directory = false
					invoked.ReplicationDataDestination.IMS = false
					invoked.ReplicationDataDestination.FTP = false
					invoked.ReplicationDataDestination.Directory = false
					
		RegisterSchema is an Instance Action
			valid when (CanRegisterSchemas)
			Action Rules
				invoke RegisterSchema ReplicationSetRel

		RegisterOutOfDateSchemas is an Instance Action
			valid when (CanRegisterOutOfDateSchemas)
			Action Rules
				invoke RegisterOutOfDateSchemas ReplicationSetRel
