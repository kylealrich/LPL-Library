EFTPaymentCreation is a BusinessTask
    owned by ar

    Patterns
        implements ManualTransaction
        implements StaticJava
            Reports
                EFTPaymentCreationReport

    Parameters
        EftCompany              is a ReceivableCompany 
        PostingDate             is Date
        DepositDate             is Date
        DebitCashCode           is a CashCode
        CreditCashCode          is a CashCode
        ProcessLevel            is a ReceivableProcessLevel
        SelectProcessLevel      is a ReceivableProcessLevel
        BankTransactionCode
        TermsCode
        NotAppldCd              is a ReceivableGeneralLedgerCode
        DiscReasCd              is a ApplicationAdjustmentReason	
        OprCode                 is like Operator
        Reference               is AlphaUpper size 10

        CompanyIdOption         is AlphaUpper size 1
            States
            	CompanyAssigned	value is "0"
				IRSID			value is "1"
                    default label is "IRS ID"
                DUNS			value is "3"
                UserAssigned	value is "9"
        FillLastBlock           is AlphaUpper size 1
            States
                No  value is "N"
                Yes value is "Y"
        BalancedTape            is AlphaUpper size 1
            States
                Yes value is "Y"
                No  value is "N"
        IncludeAddenda			is AlphaUpper size 1
        	States
        		Yes value is "Y"
        		No  value is "N"        
        BankCharges             is Decimal size 16.2
        GLAccount				is a FinanceCodeBlock




        CbUserField1            is AlphaUpper size 30
        CbUserField2            is AlphaUpper size 30
        CbUserField3            is AlphaUpper size 30
        CbUserField4            is AlphaUpper size 30

        ACHFileName				is AlphaUpper size 50
        BACSFileName			is AlphaUpper size 50
        NonTapeFileName			is AlphaUpper size 50
        SEPAFileName			is AlphaUpper size 50

    Parameter Rules
        EftCompany
            required
        DebitCashCode
        	if (EftCompany.ReceivableCompany.RequirePaymentCashCodes)
        		required
        CreditCashCode
        	if (EftCompany.ReceivableCompany.RequirePaymentCashCodes)
        		required
        ProcessLevel
            required
    	BankTransactionCode
			constraint (BankTransactionCode.IsCashPaymentAndOriginReceivable)
				"Payment_\Code_(\Bank_\Transaction_\Code)MustHaveA_\Transaction_\CategoryOf_\Cash_\PaymentAndA_\Transaction_\OriginOf_\Receivable.YouCanUseTheIconInThe_\Payment_\CodeFieldToOpenTheSelectListForValidCodes."
        DiscReasCd
        	constraint (DiscReasCd != "CURR")
				"CURRIsAReservedReasonCode"
            required
            	"DiscountReasonCodeRequired"
        CompanyIdOption
        	initial value is "1"
            default to "1"
        FillLastBlock
        	initial value is "N"
            default to "N"
        BalancedTape
        	initial value is "N"
            default to "N"
            required
        IncludeAddenda
    	    initial value is "N"
            default to "N"
            required

    Actions
        EFTPaymentCreation is a Set Action
            allow unlimited concurrency
