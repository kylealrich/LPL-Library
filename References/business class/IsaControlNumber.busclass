IsaControlNumber is a BusinessClass
    owned by edi
    
    prefix is IsaC
    
    Ontology
        symbolic key is IsaControlNumber
    
    Patterns
        implements StaticJava
        disable AuditIndex
        disable Auditing
    
    Persistent Fields
        ControlNumber
    
    Field Rules
        ControlNumber    
            initial value is "0"
            default to "0"
            
    Relations
        TradingPartnerRel
            one-to-many relation to EDITradingPartner
            Field Mapping uses FromIsaRel
                related.IsaSenderId = IsaControlNumber.SenderId
                related.IsaReceiverId = IsaControlNumber.ReceiverId
    
    Actions
        Create is a Create Action
        
        Update is an Update Action
        
        Delete is a Delete Action
            Entrance Rules
                constraint(!TradingPartnerRel exists)
                    "CannotDeleteIsaControlNumberTradingPartnerRecordsExist"        

        IncrementControlNumber is an Instance Action
            restricted
        
            Action Rules
                if (ControlNumber = 999999999)
                    ControlNumber = 1
                else
                    ControlNumber += 1
                

