WebApp is a BusinessClass
    owned by repository
    store using com.lawson.rdtech.framework.repository.WebAppStorage

    Ontology
		symbolic key is WebApp

	Patterns
		implements ReadOnly
		disable UniqueID

	Persistent Fields
		AllowAnonymousAccess 	is Boolean
		DisallowNavigations		is Boolean
		DisallowDataExport		is Boolean
		IsConfigured			is Boolean
			default label is "Configured"
		BaseLPL                	is LPL
		HasReports				is Boolean
			default label is "Reports"
			
	Local Fields
		LocRecordsProcessed is Numeric size 8
			
	Actions
		ProcessWebAppReports is an Instance Action
			restricted

			Parameters
				ForceUpdate is Boolean

			
		BuildReportDefinitions is a Set Action
			disable checkpoint 
			
			Parameters
				ForceUpdate is Boolean
			
			Local Fields
				LocalRecordsCtr	is Numeric size 6
			
			Instance Selection
				where (HasReports)
			
			Sort Order is primary
			
			Action Rules
				Instance Rules
				
					LocalRecordsCtr += 1 
					LocRecordsProcessed = 0
					
					invoke ProcessWebAppReports
						invoked.ForceUpdate = ForceUpdate
						
					LocalRecordsCtr += LocRecordsProcessed
					
					if (LocalRecordsCtr >= 100) 
						commit transaction	
						LocalRecordsCtr = 0
