PurchaseOrderDispatchVendor is a BusinessClass
    owned by edi
    prefix is DisPO
    
    Ontology
        symbolic key is PurchaseOrderDispatchVendor
    
    Patterns
        disable AuditIndex
    
    Persistent Fields
        ServiceName                     is a Description        
        PostToServer                    is a URL
        PostToService                   is a URL
        NotificationEmailAddress        is an EmailAddress 
        	holds pii
        FromDunsNumber                  is a DunsNumberAlpha
        FromNetworkID                   is a NetworkID
        ToNetworkID                     is a NetworkID
        ToDunsNumber                    is a DunsNumberAlpha
        SenderDunsNumber                is a DunsNumberAlpha
        SenderNetworkID                 is a NetworkID
        SharedSecret
        DeploymentMode
        PurchaseFromLocation            is a VendorLocation
        PurchaseOrderDispatchVendorName is a Name	 
        	holds pii
            classic name is TLNAME
        CxmlVersion                     is Alpha size 11
        SystemID						is a NetworkID                
    
    Field Rules
    
        CxmlVersion  
        	default to "1.2.019"
        	initial value is "1.2.019" 
    
    Relations

        BuyingOrganizationRel
            one-to-one relation to BuyingOrganization
            Field Mapping uses symbolic key
                related.BuyingOrganization  = VendorGroup
                
        PurchaseOrderDispatchVendorRel
            one-to-many relation to PurchaseOrderDispatchVendor
            Field Mapping uses Set1
                related.Vendor                          = Vendor
                related.PurchaseFromLocation            = PurchaseFromLocation
            Instance Selection    
                where (related.Vendor 					= Vendor
                and    related.PurchaseFromLocation    	= PurchaseFromLocation)
                                
        PurchaseOrderEDIOutputRel is a PurchaseOrderEDIOutput(Vendor) set          
                        
    Sets

        Set1
            indexed
            Sort Order
                Vendor
                PurchaseFromLocation
                
	Create Rules 
		constraint (not PurchaseOrderDispatchVendorRel exists)  
		        "PurchaseOrderDispatchVendorRecordAlreadyExists"
	                                
            
    Actions
        Create is a Create Action
            Entrance Rules
                constraint(BuyingOrganizationRel exists)
                    "BuyingOrganization<VendorGroup>DoesNotExist"
                    
                    

        Update is an Update Action

        Delete is a Delete Action
            Entrance Rules
                constraint(!PurchaseOrderEDIOutputRel exists)
                    "CannotDeleteDispatchVendorAsUndispatchedRecordsExist"
        
        
                    
                
    
