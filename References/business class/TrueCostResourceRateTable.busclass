TrueCostResourceRateTable is a BusinessClass
	owned by truecost
	
	prefix is TCRRT
	default label is "True\CostResourceCapacityRate"
	Ontology
		symbolic key is TrueCostResourceRateTable
		
	
	Patterns
		disable Auditing
		disable EffectiveDated
		disable AsOfDateProcessing
		
	Persistent Fields
		WageAmount						is Decimal 19.3
		Hours							is Decimal 19.3
		AverageResourceRate				is Decimal 19.3
	
	Relations
		DepartmentAccountingUnitRel
			one-to-one relation to AccountingUnit		
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	    = TrueCostConfiguration
				related.AccountingEntity			= TrueCostResourceRateTable.AccountingEntity
				related.AccountingUnit	   			= TrueCostResourceRateTable.Department
    	
		Department1Rel
			one-to-many relation to FinanceDimension1
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration
				related.FinanceDimension1 			= TrueCostResourceRateTable.Department
			
    	Department2Rel
			one-to-many relation to FinanceDimension2
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration
				related.FinanceDimension2 			= TrueCostResourceRateTable.Department
				
		Department3Rel
			one-to-many relation to FinanceDimension3
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration
				related.FinanceDimension3 			= TrueCostResourceRateTable.Department	
			
				
		Department4Rel
			one-to-many relation to FinanceDimension4
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup		= TrueCostConfiguration
				related.FinanceDimension4			= TrueCostResourceRateTable.Department
				
		Department5Rel
			one-to-many relation to FinanceDimension5
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup		= TrueCostConfiguration
				related.FinanceDimension5			= TrueCostResourceRateTable.Department
				
		Department6Rel
			one-to-many relation to FinanceDimension6
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration
				related.FinanceDimension6			= TrueCostResourceRateTable.Department
				
		Department7Rel
			one-to-many relation to FinanceDimension7
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	
				related.FinanceDimension7			= TrueCostResourceRateTable.Department	
				
		Department8Rel
			one-to-many relation to FinanceDimension8
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration				
				related.FinanceDimension8			= TrueCostResourceRateTable.Department
				
		Department9Rel
			one-to-many relation to FinanceDimension9
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup		= TrueCostConfiguration
				related.FinanceDimension9			= TrueCostResourceRateTable.Department
				
		Department10Rel
			one-to-many relation to FinanceDimension10
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup		= TrueCostConfiguration
				related.FinanceDimension10			= TrueCostResourceRateTable.Department
		
		
	Derived Fields
		ComputeAverage			is a ComputeField
			type is Decimal 19.3
			(WageAmount/Hours)
			
		DepartmentDescription is a DerivedField
			type is like Description
			if(TrueCostConfiguration.DepartmentIsAccountingUnit)
				return DepartmentAccountingUnitRel.Description
			if (TrueCostConfiguration.DepartmentIsDimension1)
				return Department1Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension2)
				return Department2Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension3)
				return Department3Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension4)
				return Department4Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension5)
				return Department5Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension6)
				return Department6Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension7)
				return Department7Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension8)
				return Department8Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension9)
				return Department9Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension10)
				return Department10Rel.Description
		
	Field Rules
	
	Actions
		Create is a Create Action
			Action Rules
				if(!TrueCostResourceRateTable.EffectivePeriod is last day in month)
					while(!TrueCostResourceRateTable.EffectivePeriod is last day in month)
						TrueCostResourceRateTable.EffectivePeriod += 1 day
				if (AverageResourceRate not entered)
					AverageResourceRate = ComputeAverage
						
		Update is an Update Action
			Exit Rules			
				if (AverageResourceRate not entered and WageAmount entered and Hours entered)
					AverageResourceRate = ComputeAverage
		
		Delete is a Delete Action
