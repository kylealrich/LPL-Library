BusinessObjectTagItem is a BusinessClass
	owned by repository
 	prefix is btit
 	default label is "TagItem"
 	disable data area copy
 		preserve target data
 	
    Ontology
        symbolic key is BusinessObjectTagItem

	Patterns
		disable AsOfDateProcessing
        disable EffectiveDated
        disable Auditing
        implements CreateStamp
        
    Derived Fields
    	DeletedRecord is a NativeField
    		type is Boolean 

    	
    	OrphanedRecord is a NativeField 
			type is Boolean 


		RepresentativeText is a NativeField
			type is Text

			
		IsAllowedSpecialBusClass is a NativeField
			type is Boolean
			restricted
			default label is untranslatable

			
	Conditions
		AccessAllowed
			when (actor has role "BOTagUserAccess_ST")
    		
    Local Fields
    	OtherReference is BusinessObjectReference
			
    Create Rules
    	constraint (AccessAllowed) 
    		"AccessIsNotAllowed"
    		
    	constraint (not BusinessObjectTag.Locked)
    		"<BusinessObjectTag>IsLocked"
    		
    	constraint (ASBusinessClassRel exists or IsAllowedSpecialBusClass)
    	 	"<BusinessObjectTagItem.Reference.BusinessClassName>IsNotTaggable" 
    
    Delete Rules
    	constraint (not BusinessObjectTag.Locked)
    		"CannotDelete:<BusinessObjectTag>IsLocked"
    	
	Actions
		Create is a Create Action
            completion message is "TaggingCompletedSuccessfully"
			valid when (AccessAllowed)
			
		Delete is a Delete Action
			valid when (AccessAllowed)
						
	Relations
		OtherTagItem
			one-to-one relation to BusinessObjectTagItem
			Field Mapping uses symbolic key
				related.BusinessObjectTag = BusinessObjectTag
				related.BusinessObjectTagItem.Reference = OtherReference
				
		ASBusinessClassRel
			default label is "BusinessClasses"
			one-to-many relation to ASBusinessClass
			Field Mapping uses ByBusinessClass
				related.BusinessClass = BusinessObjectTagItem.Reference.BusinessClassName 
				
	Sets
		ByReference
			indexed
			Sort Order
				BusinessObjectTagItem.Reference
				BusinessObjectTag
