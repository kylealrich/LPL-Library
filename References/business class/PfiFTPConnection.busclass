PfiFTPConnection is a BusinessClass
    owned by pfi
    prefix is PfiFP
	contains environment data
	disable data area copy
		preserve target data
    default label is "FileTransferConnection"

    Ontology
        symbolic key is PfiFTPConnection

    Patterns
        implements CRUD
        implements LightweightAuditing
        disable AuditIndex
        disable AsOfDateProcessing
        disable EffectiveDated
        implements DynamicCreation

    Persistent Fields
        PfiConnectionProtocol
        FileSystem  is Numeric size 1
            States
                Local    value is 1
                AmazonS3 value is 2
                    default label is "AmazonS\3"
       
        PfiAmazonS3
        
    Field Rules
        FileSystem
            default to FileSystem.Local
            initial value is FileSystem.Local
            
    Derived Fields
    	PrivatekeyText is a NativeField
    		type is Text
    		default label is "PrivateKeyText"
    	ApplyEncryption is a NativeField
    	    type is Boolean
    	HostKeyText is a NativeField
            type is Text  
	Actions
		Create is a Create Action
		    Exit Rules
		        constraint (ApplyEncryption)
                    "EncryptionNotApplied"
                  
		Update is an Update Action
	        Action Rules
                constraint (ApplyEncryption)
                    "EncryptionNotApplied"
		
		Delete is a Delete Action
		
		TestConnection is an Instance Action
		
		TestConnectionWithTraceLog is an Instance Action
