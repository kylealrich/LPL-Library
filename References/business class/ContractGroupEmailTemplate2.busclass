ContractGroupEmailTemplate2 is a BusinessClass
	owned by po
	
	prefix is Ctpl2
	
	Ontology
		symbolic key is ContractGroupEmailTemplate2
		
	Patterns
		implements Proxy for ContractGroup
		
	Persistent Fields
	
		DeliverableAdhocEmailSubject            is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
 				DeliverableName                 value is ContractDeliverable.Name                
		DeliverableAdhocEmailContent   	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				DeliverableName                 value is ContractDeliverable.Name
				DeliverableDate                 value is ContractDeliverable.DueDate
				DeliverableResponsiblePerson    value is ContractDeliverable.PersonResponsible
		DeliverableAlertEmailSubject            is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
 				DeliverableName                 value is ContractDeliverable.Name      
		DeliverableAlertEmailContent   	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				DeliverableName                 value is ContractDeliverable.Name
				DeliverableDate                 value is ContractDeliverable.DueDate
				DeliverableResponsiblePerson    value is ContractDeliverable.PersonResponsible
		ContractClosedEmailSubject      		is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		ContractClosedEmailContent	        	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate    		      						
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		ContractExpiringEmailSubject            is Alpha size 255
			Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
				ExpirationDate                  value is Contract.ExpirationDate                                           
		ContractExpiringEmailContent            is RichText
			Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
				ExpirationDate                  value is Contract.ExpirationDate                                          
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		NotificationPercentExceededSubject      is Alpha size 255
			Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
	   	NotificationPercentExceededContent      is RichText
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
				NotificationPercent             value is Contract.NotificationPercent
	   	PricingGroupContractAmendedSubject      is Alpha size 255
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
	   	PricingGroupContractAmendedContent      is RichText
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
	   	ParticipantGroupContractsAmendedSubject  is Alpha size 255
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
	   	ParticipantGroupContractsAmendedContent  is RichText
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
	   	ParticipantGroupDistributorContractSubject is Alpha size 255
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
	   	ParticipantGroupDistributorContractContent is RichText
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
		ContractCostCompareSubject is Alpha size up to 255
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
	   	ContractCostCompareContent is RichText
	   		Text Variables
				Contract                        value is Contract
				ContractName                    value is Contract.Name
	   	
	Context Fields
	
		Contract
		ContractDeliverable
	
	Derived Fields
		
		FinalDeliverableAdhocEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return DeliverableAdhocEmailSubject text
			
		FinalDeliverableAdhocEmailContent is a DerivedField
			type is RichText
			restricted
			return DeliverableAdhocEmailContent text
			
		FinalDeliverableAlertEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return DeliverableAlertEmailSubject text
			
		FinalDeliverableAlertEmailContent is a DerivedField
			type is RichText
			restricted
			return DeliverableAlertEmailContent text
			
		FinalContractClosedEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return ContractClosedEmailSubject text
			
		FinalContractClosedEmailContent is a DerivedField
			type is RichText
			restricted
			return ContractClosedEmailContent text
			
		FinalContractExpiringEmailSubject is a DerivedField
			type is Alpha size 255
			return ContractExpiringEmailSubject text
			
		FinalContractExpiringEmailContent is a DerivedField
			type is RichText
			return ContractExpiringEmailContent text
			
		FinalNotificationPercentExceededSubject is a DerivedField
			type is Alpha size 255
			return NotificationPercentExceededSubject text
	   	FinalNotificationPercentExceededContent is a DerivedField
	   		type is RichText      
	   		return NotificationPercentExceededContent text
	   	FinalPricingGroupContractAmendedSubject is a DerivedField  
	   		type is Alpha size 255    
	   		return PricingGroupContractAmendedSubject text
	   	FinalPricingGroupContractAmendedContent is a DerivedField 
	   		type is RichText 
	   		return PricingGroupContractAmendedContent text    
	   	FinalParticipantGroupContractAmendedSubject is a DerivedField 
	   		type is Alpha size 255
	   		return ParticipantGroupContractsAmendedSubject text 
	   	FinalParticipantGroupContractAmendedContent is a DerivedField 
	   		type is RichText 
	   		return ParticipantGroupContractsAmendedContent text
	   	FinalParticipantGroupDistributorContractSubject is a DerivedField 
	   		type is Alpha size 255
			return ParticipantGroupDistributorContractSubject text
		FinalParticipantGroupDistributorContractContent is a DerivedField
			type is RichText 
			return ParticipantGroupDistributorContractContent text
		FinalContractCostCompareSubject is a DerivedField
			type is Alpha size 255
			return ContractCostCompareSubject text
		FinalContractCostCompareContent is a DerivedField
			type is RichText
			return ContractCostCompareContent text

	Field Rules

		DeliverableAdhocEmailSubject
			initial value is "Contract {Contract} has deliverable: {DeliverableName}; please review it"
			default to "Contract {Contract} has deliverable: {DeliverableName}; please review it"

		DeliverableAdhocEmailContent
			initial value is "Contract {Contract}- {ContractName} has deliverable: {DeliverableName} which has a due date of {DeliverableDate}."
			default to "Contract {Contract}- {ContractName} has deliverable: {DeliverableName} which has a due date of {DeliverableDate}."

		DeliverableAlertEmailSubject
			initial value is "Contract {Contract} deliverable: {DeliverableName} alert"
			default to "Contract {Contract} deliverable: {DeliverableName} alert"

		DeliverableAlertEmailContent
			initial value is "Alert: contract {Contract}: {ContractName} has deliverable: {DeliverableName} which has a due date of {DeliverableDate}; responsible person is {DeliverableResponsiblePerson}."
			default to "Alert: contract {Contract}: {ContractName} has deliverable: {DeliverableName} which has a due date of {DeliverableDate}; responsible person is {DeliverableResponsiblePerson}."

		ContractClosedEmailSubject
			initial value is "Contract {Contract}: {ContractName} has been closed"
			default to "Contract {Contract}: {ContractName} has been closed"

		ContractClosedEmailContent
			initial value is "Contract {Contract} {ContractName} has been closed."
			default to "Contract {Contract} {ContractName} has been closed."

		ContractExpiringEmailSubject
			initial value is "Contract {Contract} {ContractName} is expiring or has expired ; Expiration date is [ExpirationDate}"
			default to "Contract {Contract} {ContractName} is expiring or has expired ; Expiration date is {ExpirationDate}"

		ContractExpiringEmailContent
			initial value is "Contract {Contract} {ContractName} for {SupplierName} is expiring or has expired ; Expiration date is {ExpirationDate}. The Working Contract ID is {WorkingContractID}."
			default to "Contract {Contract} {ContractName} for {SupplierName} is expiring or has expired ; Expiration date is {ExpirationDate}. The Working Contract ID is {WorkingContractID}."

		NotificationPercentExceededSubject 
			initial value is "Notification Percent Exceeded For Contract #{Contract} -{ContractName}"
			default to "Notification Percent Exceeded For Contract #{Contract} -{ContractName}"

		NotificationPercentExceededContent 
			initial value is "For Contract #{Contract}- {ContractName}, The Ordered Amount Divided By The Lifetime Maximum Amount Has Exceeded The Notification Percent Of {NotificationPercent}."
			default to "For Contract #{Contract}- {ContractName}, The Ordered Amount Divided By The Lifetime Maximum Amount Has Exceeded The Notification Percent Of {NotificationPercent}."

		PricingGroupContractAmendedSubject
			initial value is "Contract {Contract}: {ContractName} Has Been Amended With New Tier Member Containing Pricing Group"
			default to "Contract {Contract}: {ContractName} Has Been Amended With New Tier Member Containing Pricing Group"

		PricingGroupContractAmendedContent
			initial value is "Contract {Contract}: {ContractName} Has Had The Action Add Pricing Group To Contracts Run Against It. Because One Of The New Member(s) Was Missing Some Information, The Contract Has Been Set To An Amendment Status. Please Add The Necessary Information To The New Member(s), Run Release Members, And Rerelease And Activate The Contract."
			default to "Contract {Contract}: {ContractName} Has Had The Action Add Pricing Group To Contracts Run Against It. Because One Of The New Member(s) Was Missing Some Information, The Contract Has Been Set To An Amendment Status. Please Add The Necessary Information To The New Member(s), Run Release Members, And Rerelease And Activate The Contract."

		ParticipantGroupContractsAmendedSubject
			initial value is "A Contract Has Been Amended With New Member(s)"
			default to "A Contract Has Been Amended With New Member(s)" 

		ParticipantGroupContractsAmendedContent
			initial value is "A Contract Has Had The Action Create New Members Or Participants For Participant Group Line Run Against It. Because One Of The New Member(s) Was Missing Some Information, The Contract Has Been Set To An Amendment Status. Please Add The Necessary Information To The New Member(s), Run Release Members, And Rerelease And Activate The Contract."
			default to "A Contract Has Had The Action Create New Members Or Participants For Participant Group Line Run Against It. Because One Of The New Member(s) Was Missing Some Information, The Contract Has Been Set To An Amendment Status. Please Add The Necessary Information To The New Member(s), Run Release Members, And Rerelease And Activate The Contract." 

		ParticipantGroupDistributorContractSubject
			initial value is  "A Contract Has New Member(s)And May Need Distributor Contracts Updated"
			default to "A Contract Has New Member(s)And May Need Distributor Contracts Updated"

		ParticipantGroupDistributorContractContent
			initial value is "A Contract Has Had The Action Create New Members Or Participants For New Participant Group Line Run Against It. Some Of The New Members May Need To Be Added To Associated Distributor Contracts."
			default to "A Contract Has Had The Action Create New Members Or Participants For New Participant Group Line Run Against It. Some Of The New Members May Need To Be Added To Associated Distributor Contracts."

		ContractCostCompareSubject
			initial value is "No Cost Comparison Records Created"
			default to "No Cost Comparison Records Created"

		ContractCostCompareContent
			initial value is "No Cost Comparison Records Were Created From Contract {Contract}."
			default to "No Cost Comparison Records Were Created From Contract {Contract}."
