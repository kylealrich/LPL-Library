PayablesInvoiceDistributionSummary is a BusinessClass
	owned by ap
	prefix is APDS
	sql name is PInvoiceDistributionSummary

	Ontology
		symbolic key is PayablesInvoiceDistributionSummary

	Patterns
		disable Auditing
		implements CreateStamp
		implements UpdateStamp
		implements Archivable		

	Persistent Fields
		Vendor								is a snapshot of PayablesInvoice.Vendor
		Buyer                               is a snapshot of PayablesInvoice.Buyer 
		SummaryAccount                      is a FinanceCodeBlock
			default label is "Account"
		SummaryAmount                       is an InternationalAmount
			default label is "Amount"

	Transient Fields 
		InputAmount                         is an InternationalAmount

	Sets 
		BySummaryAccount 
			Sort Order 
				Company 
				PayablesInvoice 
				SummaryAccount 
				PayablesInvoiceDistributionSummary

		ByBuyer 
			Sort Order 
				Buyer 
				SummaryAccount 
				Company
				PayablesInvoice
				PayablesInvoiceDistributionSummary

		ByVendor 
			Sort Order 
				Vendor 
				SummaryAccount 
				Company
				PayablesInvoice
				PayablesInvoiceDistributionSummary


		



	Field Rules


	Actions 

		Create is a Create Action 
			restricted 
			Action Rules 

		Update is an Update Action 
			restricted 

			Action Rules 
				SummaryAmount += InputAmount 

		Purge is a Purge Action 
			restricted
			bypass relational integrity rules 

		PurgeAll is a Set Action 

			Parameters 
				ParmCompany is a PayablesCompany 

			Instance Selection 
				include deleted records
				where (ParmCompany = Company)

			Action Rules

				Instance Rules 

					invoke Purge  
