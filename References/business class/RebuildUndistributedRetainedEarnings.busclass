RebuildUndistributedRetainedEarnings is a BusinessTask
    owned by GeneralLedger

    Parameters
        FinanceEnterpriseGroup
        AccountingEntity
        AccountingEntityGroup
		EntityOption			is Numeric 1
	    	States
				Single				value is 1
				Group				value is 2
		GeneralLedgerCloseYear is Year
			default label is "FiscalYear"

    Parameter Rules
        FinanceEnterpriseGroup
        	required
        EntityOption
        	required
        		"<FinanceEnterpriseGroup.AccountingEntityLabel>OptionIsRequired"        	
		AccountingEntity
			if (EntityOption.Single)
				required
					"<FinanceEnterpriseGroup.AccountingEntityLabel>IsRequired"
			else
				AccountingEntity = blank
		AccountingEntityGroup
			if (EntityOption.Group)
				required
					"<FinanceEnterpriseGroup.AccountingEntityLabel>GroupIsRequired"
			else
				AccountingEntityGroup = blank
        GeneralLedgerCloseYear
        	required
 
    Actions

        ScheduleRebuildUndistributedRetainedEarnings is an Instance Action

            Action Rules
				if (AccountingEntity entered)
	            	invoke RebuildUndistributedRetainedEarnings AccountingEntity in background
	            		invoked.PrmFinanceEnterpriseGroup	= FinanceEnterpriseGroup
	            		invoked.PrmAccountingEntity			= AccountingEntity
	            		invoked.PrmGeneralLedgerCloseYear	= GeneralLedgerCloseYear
	            else
	            	for each AccountingEntityGroup.AccountingEntityGroupMember set
		            	invoke RebuildUndistributedRetainedEarnings each.AccountingEntity in background
		            		invoked.PrmFinanceEnterpriseGroup	= FinanceEnterpriseGroup
		            		invoked.PrmAccountingEntity			= each.AccountingEntity
		            		invoked.PrmGeneralLedgerCloseYear	= GeneralLedgerCloseYear
            		
