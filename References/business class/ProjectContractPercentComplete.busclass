ProjectContractPercentComplete is a BusinessClass
	owned by Projects
	prefix is Perc
	
	Ontology
		symbolic key is ProjectContractPercentComplete
	
	Patterns
	
	Persistent Fields
		Description	
		ProjectReportingSettings
			delete ignored				
		ProjectReportingSettingsAll
			delete ignored				
		ContractAmount				is a CurrencyAmount
			precision is Project.ProjectContract.Currency.NumberOfDecimals
   		BudgetAmount 				is a CurrencyAmount	
			precision is Project.ProjectContract.Currency.NumberOfDecimals					
   		ActualAmount 				is a CurrencyAmount	
			precision is Project.ProjectContract.Currency.NumberOfDecimals					
		CostsToComplete 			is a CurrencyAmount	
			precision is Project.ProjectContract.Currency.NumberOfDecimals
		OverrideCostsToComplete 	is a CurrencyAmount	
			precision is Project.ProjectContract.Currency.NumberOfDecimals					
		PercentComplete 			is Percent 5.2
		OverridePercentComplete		is Percent 5.2
		EarnedRevenue 				is a CurrencyAmount
			precision is Project.ProjectContract.Currency.NumberOfDecimals					
		RevenueToBeRecognized		is a CurrencyAmount
			precision is Project.ProjectContract.Currency.NumberOfDecimals					
		GrossMarginPercent 			is Percent 20.2
		OverrideGrossMarginPercent	is Percent 20.2		
		
	Transient Fields
			
	Local Fields
	
    Derived Fields
    
	Field Rules
	
		Description
			required

		OverrideCostsToComplete
			if (OverridePercentComplete entered)			
				if (OverrideCostsToComplete not = old OverrideCostsToComplete
				or  OverridePercentComplete not = old OverridePercentComplete)
					cannot be entered
						"CannotEnterOverrideCostsToCompleteAndOverridePercentComplete"
			else
				OverridePercentComplete = ((BudgetAmount - OverrideCostsToComplete) / BudgetAmount) 
				
		OverridePercentComplete	
			if (OverrideCostsToComplete not entered
			and OverridePercentComplete !=0)			
				OverrideCostsToComplete = (BudgetAmount - (BudgetAmount * OverridePercentComplete))			
			
	Conditions
		HasProjectReportingSettings
			when (ProjectReportingSettings entered)

		HasProjectReportingSettingsAll
			when (ProjectReportingSettingsAll entered)
    		
	Sets
		ByDateDescending
			Sort Order		
				FinanceEnterpriseGroup         
				Project				           
				ProjectContractPercentComplete descending					
					
	Actions
		Create is a Create Action
			restricted
		
		Update is an Update Action
					
		Delete is a Delete Action	
			restricted	
	
