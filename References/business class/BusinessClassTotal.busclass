BusinessClassTotal is a BusinessClass
    owned by la
    prefix is Bctl

	Ontology
		symbolic key is BusinessClassTotal

	Patterns
		implements EffectiveDated

	Persistent Fields
		Description          is Alpha up to 100
        	translatable
		Definition    is LPLText
		Used          is Boolean
		Active        is Boolean
		
	Transient Fields
		EnterpriseGroup 
        
	Field Rules
    	Active
        	initial value is true
			default to true
		
		Used
        	default to false        
       	
       	Definition
	    	required
              
	Actions
    	Inactivate is an Instance Action
        	valid when (Active)  
            Action Rules
            	Active = false
                     
		Activate is an Instance Action
        	valid when (!Active) 
            Action Rules
            	Active = true

		                     
        Delete is an Action
        	valid when (!Used)
                                                
		Create is an Action
			Entrance Rules
        		constraint (ParseText = blank)
					"Definition_L\P\LIsInvalid"
		
        Update is an Action
        	Entrance Rules
        		constraint (ParseText = blank)
					"Definition_L\P\LIsInvalid"
	
	Attach Rules
    	constraint (Active)
    		"ThisBusinessClassTotalDefinitionIsInactiveAndCannotBeUsed"   	
    			
    	Used = true       
    	
	Sets
		ByTotalName
			indexed
			Sort Order
				BusinessClassTotal
				BusinessClass
				
	Derived Fields
		DescriptionOrKey is a DerivedField
			type is Alpha 30
			restricted
			
			if (Description entered)
				return Description
				
			return BusinessClassTotal      
			
		ParseText is a NativeField
			type is Text  

