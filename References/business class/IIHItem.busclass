IIHItem is a BusinessClass
	owned by InventoryIntelligence
	default label is "InventoryIntelligenceItem"
	
	prefix is IITM
	
	Ontology
		symbolic key is IIHItem
		
	
	Patterns
		disable Auditing
		implements CreateStamp
		implements UpdateStamp
		disable DataTranslations
	
	Persistent Fields
		Description
        Description2					is a Description
        Description3
        StockUOM						is a UnitOfMeasure
        	delete ignored
        MajorInventoryClass
        	delete ignored
        MajorClassDescription			is a Description		
        MinorInventoryClass
        	delete ignored
        MinorClassDescription			is a Description

        Manufacturer
        	delete ignored
		ManufacturerNumber
        Active						is Boolean

        EffectiveDate				is Date
        ExpirationDate				is Date
        Discontinued 				is Boolean
        ReplacementItem				is like Item
	
	Field Rules
	
	Relations
		ItemRel
			one-to-one relation to Item
			Field Mapping uses symbolic key
				related.ItemGroup 	= ItemGroup
				related.Item   		= IIHItem
				
		ReplacedItemsRel
			one-to-many relation to IIHItem
			Field Mapping uses symbolic key
				related.ItemGroup 	= ItemGroup
			Instance Selection
				where (related.ReplacementItem = IIHItem)
	
	Actions
		Import is an Import Action
			bod type is II_FSM_Item
      		Parameters
            	InputData is CSVText
      		Action Rules
            	dbimport InputData into IIHItem
            	
		Purge is a Purge Action
			restricted
			bypass relational integrity rules
		
		PurgeIIHItem is a Set Action
			run in background
			Instance Selection
				where (IIHItem exists)
			Action Rules
				Instance Rules
					invoke Purge
					
		ClearRecommendations is an Instance Action
			restricted
			Action Rules
				invoke InitializeRecommendationFields IIHItemLocation
					invoked.PrmItemGroup = ItemGroup
					invoked.PrmItem = IIHItem
					
		PopulateReplacementItemField is a Set Action
			Instance Selection
				where (ReplacementItem not entered)
			Action Rules
				Instance Rules
					if (ItemRel.ReplacementItem entered)
						ReplacementItem = ItemRel.ReplacementItem
