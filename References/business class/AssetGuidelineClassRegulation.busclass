AssetGuidelineClassRegulation is a BusinessClass
	owned by am
	
	prefix is AGClR
	
	Ontology
		symbolic key is AssetGuidelineClassRegulation
		
	
	Patterns
		implements StaticJava
	
	Persistent Fields
		Description					is Alpha up to 200
		Active					
		Life			
		Method   
		Convention
		PersonalUseCode				is like PersonalUseCode   
		AssetTaxCreditTable
		FirstYearExpensePercent		is a BusinessPercent
		BusinessPercent
		SalvagePercent				is a BusinessPercent	
		IndianReservation			is Boolean
		PropertyType				is Numeric 2
			States
				Blank				value is blank
				1245				value is 01
					default label is "1245"
				1250				value is 02	
					default label is "1250"
		QualifiedImprovement		is Numeric 2
			States
				NotQualified			value is 00
				LeaseholdImprovement	value is 01
				NotLeaseholdImprovement	value is 02
		ForeignProperty				is Boolean
		CostRecoverySystem			is Numeric 2
			States
				Blank				value is blank
				ACRS				value is 1
				MACRS				value is 2
		ClassificationOfProperty	is AlphaUpper 5
			States
				Blank									value is blank	
				3YearProperty							value is "03"
				5YearProperty							value is "05"
				7YearProperty							value is "07"
				10YearProperty							value is "10"
				12YearProperty							value is "12"
				15YearProperty							value is "15"
				RealProperty18							value is "18"
					default label is "Real Property (3/17/84 To 5/9/85)"
				RealProperty19 							value is "19"
					default label is "Real Property (3/10/85 To 12/31/86)"	
				20YearProperty							value is "20"
				25YearProperty							value is "25"
				ResidentialReal27						value is "27"	
					default label is "Residential Real 27.5"
			 	NonResidentialReal30					value is "31"	
			 		default label is "NonResidential Real 31.5 (1/1/87 To 5/12/93)"
				NonResidentialReal40 					value is "39"		
			 		default label is "NonResidential Real 39/40"
		NonConforming				is Boolean				
		MineralReserves				is Boolean	
		Farming						is Boolean
		LowIncomeHousing			is Boolean
		Section179					is Boolean
		Listed						is Boolean
		Used						is Boolean
		DepreciableIntangible				is Numeric 1
			States
				Blank					value is blank
				DepreciableIntangible	value is 1
				AmortizedIntangible		value is 2	
		TransitionalRuleFlag		is Boolean
     



	Context Fields
		Book
			
	Field Rules
		Description
			initial value is AssetGuidelineClass.Description
			default to AssetGuidelineClass.Description
			required
			
		EffectiveDate
			required

		Active		
			if (Active)		
				constraint (AssetGuidelineClass.Active)	
					"TheAssetGuidelineClassIsInactive"

		
		SalvagePercent
			constraint (SalvagePercent >= 0)
				"SalvagePercentageCannotBeNegative"
			constraint (SalvagePercent <= 100)
				"SalvagePercentageCannotBeGreaterThan100%"

		FirstYearExpensePercent
			constraint (FirstYearExpensePercent >= 0)
				"FirstYearExpensePercentageCannotBeNegative"
			constraint (FirstYearExpensePercent <= 100)
				"FirstYearExpensePercentageCannotBeGreaterThan100%"

		BusinessPercent
			constraint (BusinessPercent >= 0)
				"BusinessPercentageCannotBeNegative"
			constraint (BusinessPercent <= 100)
				"BusinessPercentageCannotBeGreaterThan100%"
			default to 100
		
		PersonalUseCode
			constraint (PersonalUseCodeRel exists)
				"PersonalUseCodeDoesNotExists"
				
	Sets
		ByEffectiveDate
			indexed
            Sort Order
                FinanceEnterpriseGroup
                AssetGuidelineClass
                BookRegulation                
				EffectiveDate	descending

	Relations
		ActiveGuidelineClassesRel is an AssetGuidelineClass set
			Instance Selection
				where (related.IsActive)			

		PersonalUseCodeRel
			one-to-many relation to PersonalUseCode
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
			Instance Selection
				where (related.PersonalUseCode		= PersonalUseCode)		

	Conditions
		IsActive	
			when (Active)

	Actions
		Create is an Action

		CopyGuidelineClassRegulation is an Instance Action
			Parameters
				ToBookRegulation				is a BookRegulation
				ToGuidelineClass				is an AssetGuidelineClass
				ToDescription					is Alpha up to 200
				ToEffectiveDate					is Date
				ToLife 							is a Life
				ToMethod 						is a Method
				ToConvention					is a Convention	
				ToPropertyType					is Numeric 2
					States
						1245				value is 01
							default label is "1245"
						1250				value is 02	
							default label is "1250"
				ToCostRecoverySystem			is Numeric 2
					States
						ACRS				value is 1
						MACRS				value is 2
				ToClassificationOfProperty		is AlphaUpper 5
					States
						Blank				value is " "		
						3YearProperty		value is "03"
						5YearProperty		value is "05"
						7YearProperty		value is "07"
						10YearProperty		value is "10"
						12YearProperty		value is "12"
						15YearProperty		value is "15"
						RealProperty18		value is "18"
							default label is "Real Property (3/17/84 To 5/9/85)"
						RealProperty19 		value is "19"
							default label is "Real Property (3/10/85 To 12/31/86)"	
						20YearProperty		value is "20"
						25YearProperty		value is "25"
						ResidentialReal27	value is "27"	
							default label is "Residential Real 27.5"
						NonResidentialReal30	value is "31"	
							default label is "NonResidential Real 31.5 (1/1/87 To 5/12/93)"
						NonResidentialReal40	value is "39"
							default label is "NonResidential Real 39/40"
				ToPersonalUseCode				is like PersonalUseCode   
				ToAssetTaxCreditTable			is a AssetTaxCreditTable
				ToFirstYearExpensePercent		is a BusinessPercent
				ToSalvagePercent				is a BusinessPercent	
				ToBusinessPercent				is a BusinessPercent
				ToIndianReservation				is Boolean
				ToQualifiedImprovement			is Numeric 2
					States
						NotQualified			value is 00
						LeaseholdImprovement	value is 01
						NotLeaseholdImprovement	value is 02
				ToForeignProperty				is Boolean
				ToNonConforming					is Boolean		
				ToDepreciableIntangible			is Numeric 1
					States
						Blank					value is 0
						DepreciableIntangible	value is 1
						AmortizedIntangible		value is 2		
				ToUsed							is Boolean
				ToMineralReserves				is Boolean	
				ToFarming						is Boolean
				ToLowIncomeHousing				is Boolean
				ToSection179					is Boolean
				ToListed						is Boolean
				ToTransitionalRuleFlag			is Boolean

			Parameter Rules
				ToBookRegulation
					initial value is BookRegulation
					default to BookRegulation
					required
				ToGuidelineClass
					initial value is AssetGuidelineClass
					default to AssetGuidelineClass
					required
				ToDescription
					initial value is AssetGuidelineClass.Description
					default to AssetGuidelineClass.Description
					required
				ToLife 
					initial value is Life
				ToMethod 
					initial value is Method
				ToConvention
					initial value is Convention
				ToEffectiveDate
					required	
				ToPersonalUseCode
					initial value is PersonalUseCode
				ToAssetTaxCreditTable			
					initial value is AssetTaxCreditTable
				ToFirstYearExpensePercent		
					initial value is FirstYearExpensePercent
				ToBusinessPercent				
					initial value is BusinessPercent
				ToSalvagePercent				
					initial value is SalvagePercent	
				ToIndianReservation				
					initial value is IndianReservation
				ToPropertyType
					initial value is PropertyType
				ToQualifiedImprovement
					initial value is QualifiedImprovement
				ToForeignProperty
					initial value is ForeignProperty
				ToCostRecoverySystem
					initial value is CostRecoverySystem
				ToClassificationOfProperty
					initial value is ClassificationOfProperty	
				ToNonConforming	
					initial value is NonConforming	
				ToUsed	
					initial value is Used	
				ToMineralReserves
					initial value is MineralReserves
				ToFarming
					initial value is Farming
				ToLowIncomeHousing
					initial value is LowIncomeHousing
				ToSection179
					initial value is Section179
				ToListed
					initial value is Listed
				ToTransitionalRuleFlag
					initial value is TransitionalRuleFlag	
				ToDepreciableIntangible
					initial value is DepreciableIntangible


			Action Rules	
				invoke Create AssetGuidelineClassRegulation
					invoked.BookRegulation 						= ToBookRegulation
					invoked.AssetGuidelineClass					= ToGuidelineClass
					invoked.Description							= ToDescription
					invoked.Life 								= ToLife
					invoked.Method								= ToMethod 
					invoked.Convention							= ToConvention
					invoked.EffectiveDate						= ToEffectiveDate
					invoked.PersonalUseCode						= ToPersonalUseCode	
					invoked.AssetTaxCreditTable					= ToAssetTaxCreditTable
					invoked.FirstYearExpensePercent				= ToFirstYearExpensePercent
					invoked.BusinessPercent						= ToBusinessPercent
					invoked.SalvagePercent						= ToSalvagePercent
					invoked.IndianReservation					= ToIndianReservation		
					invoked.PropertyType						= ToPropertyType
					invoked.QualifiedImprovement				= ToQualifiedImprovement	
					invoked.ForeignProperty						= ToForeignProperty	
					invoked.CostRecoverySystem					= ToCostRecoverySystem	
					invoked.ClassificationOfProperty			= ToClassificationOfProperty
					invoked.NonConforming						= ToNonConforming					
					invoked.MineralReserves						= ToMineralReserves		
					invoked.Farming								= ToFarming	
					invoked.LowIncomeHousing					= ToLowIncomeHousing	
					invoked.Section179							= ToSection179				
					invoked.Used								= ToUsed
					invoked.Listed								= ToListed					
					invoked.TransitionalRuleFlag				= ToTransitionalRuleFlag				
					invoked.DepreciableIntangible				= ToDepreciableIntangible
					fill in fields from this instance		


		Update is an Action
			Entrance Rules



		
		Delete is an Action
	
