AP131Ap131Work is a BusinessClass
    owned by ap
    prefix is W9127

    Patterns
        disable StaticTranslations
        implements WorkFile

    Persistent Fields
        WorkFile                is UniqueID
        WorkFileSeq             is Numeric size 12
        Company                 is like PayablesCompany
        Vendor                  is like Vendor
        Invoice                 is like Invoice
        Suffix                  is like Suffix
        CancelSeq               is like CancelSequence
        MatchObjId              is like ObjId
        PoNumber                is like PurchaseOrder    
        PoRelease               is like PORelease
        PoCode                  is like POCode
        InvoiceDte              is Date    
        CancelDate              is Date    
        ReasonCode              is like ReasonCode
        ProcLevel               is like PayablesProcessLevel
        VoucherNbr              is like VoucherNumber
        Description             is like Description    
        MatchDtlKey             is like MatchDetailKey

        Item                    is like Item
        SeqNbr                  is like SeqNbr
        AocCode                 is like AddOnCharge 
        InvQuantity             is like Quantity
        RecQuantity             is like Quantity
        DiffQuantity            is like Quantity
        InvUnitCost             is like InternationalCost
        RecUnitCost             is like InternationalCost
        ExtendedAmt             is like InternationalAmount
        TaxAmount               is like InternationalAmount
        InvUsrFld01             is Alpha size 20
        InvUsrFld02             is Alpha size 20
        InvUsrFld03             is Alpha size 20
        InvUsrFld04             is Alpha size 20
        InvUsrFld05             is Alpha size 20
        ArchiveInd              is Alpha size 1
        DiffCst                 is like InternationalCost
        PoAgrmntQty             is like Quantity
        PoAgrmntCost            is like InternationalCost
        PoAgrmntInvoiceInd      is Alpha size 1
        TaxCode                 is like TaxCode 
        TaxRate                 is Percent size 7.5    

    Sets

        InsertionOrderSet
            indexed
            no duplicates
            primary
            Sort Order
                WorkFile
                WorkFileSeq

        AP131Ap131WorkAP131Sort1
            indexed
            duplicates
            Sort Order
                WorkFile
                Company
                Vendor
                Invoice
                Suffix
                CancelSeq
                MatchDtlKey
                SeqNbr
                AocCode

    Actions

        Create is a Create Action

            Field Rules
                WorkFileSeq
                    autosequence

        Delete is a Delete Action

        DeleteAll is a Set Action
            restricted

            Parameters
                WorkFileHeader is UniqueID

            Instance Selection
                where (WorkFile = WorkFileHeader)

            Local Fields
                LWorkFileHeader is a WorkFile

            Parameter Rules
                WorkFileHeader
                    required
                    LWorkFileHeader = WorkFileHeader

            Action Rules
                Instance Rules
                    invoke Delete

                Empty Set Rules
                    invoke Purge LWorkFileHeader

                Set Rules
                    Exit Rules
                        invoke Purge LWorkFileHeader
