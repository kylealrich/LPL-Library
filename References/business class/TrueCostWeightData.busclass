TrueCostWeightData is a BusinessClass
    owned by truecost
    prefix is TCDWT
	default label is "True\CostWeightDataList"
    Ontology
    	symbolic key is TrueCostWeightData
    	
    Patterns

    Persistent Fields

        Weight								is Decimal 13.4	
        	default label is "Value"
        		
    Relations
   		DepartmentAccountingUnitRel
			one-to-one relation to AccountingUnit		
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	    = TrueCostConfiguration
				related.AccountingEntity			= AccountingEntity

				related.AccountingUnit	   			= DerivedAccountingUnit
    	
		Department1Rel
			one-to-many relation to FinanceDimension1
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration

				related.FinanceDimension1 			= DerivedDepartment			
    	Department2Rel
			one-to-many relation to FinanceDimension2
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration

				related.FinanceDimension2 			= DerivedDepartment
		Department3Rel
			one-to-many relation to FinanceDimension3
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration

				related.FinanceDimension3 			= DerivedDepartment
				
		Department4Rel
			one-to-many relation to FinanceDimension4
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup		= TrueCostConfiguration

				related.FinanceDimension4			= DerivedDepartment
		Department5Rel
			one-to-many relation to FinanceDimension5
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup		= TrueCostConfiguration

				related.FinanceDimension5			= DerivedDepartment
		Department6Rel
			one-to-many relation to FinanceDimension6
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration

				related.FinanceDimension6			= DerivedDepartment
		Department7Rel
			one-to-many relation to FinanceDimension7
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension7			= DerivedDepartment
		Department8Rel
			one-to-many relation to FinanceDimension8
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration				

				related.FinanceDimension8			= DerivedDepartment
		Department9Rel
			one-to-many relation to FinanceDimension9
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup		= TrueCostConfiguration

				related.FinanceDimension9			= DerivedDepartment
		Department10Rel
			one-to-many relation to FinanceDimension10
			Field Mapping uses symbolic key	
				related.FinanceEnterpriseGroup		= TrueCostConfiguration

				related.FinanceDimension10			= DerivedDepartment
		CostObject1Rel
			one-to-one relation to FinanceDimension1
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension1 			= DerivedCostObject
		CostObject2Rel
			one-to-one relation to FinanceDimension2
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension2 			= DerivedCostObject
		CostObject3Rel
			one-to-one relation to FinanceDimension3
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension3 			= DerivedCostObject
		CostObject4Rel
			one-to-one relation to FinanceDimension4
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension4 			= DerivedCostObject
		CostObject5Rel
			one-to-one relation to FinanceDimension5
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension5 			= DerivedCostObject
		CostObject6Rel
			one-to-one relation to FinanceDimension6
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension6 			= DerivedCostObject
		CostObject7Rel
			one-to-one relation to FinanceDimension7
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension7 			= DerivedCostObject
		CostObject8Rel
			one-to-one relation to FinanceDimension8
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension8 			= DerivedCostObject
		CostObject9Rel
			one-to-one relation to FinanceDimension9
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension9 			= DerivedCostObject
		CostObject10Rel
			one-to-one relation to FinanceDimension10
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= TrueCostConfiguration	

				related.FinanceDimension10 			= DerivedCostObject
				
	Sets
		ByStartDateDescending			
			Sort Order
				TrueCostConfiguration
				TrueCostWeightData.AccountingEntity
				TrueCostWeightData.Department
				TrueCostWeightData.CostObject
				TrueCostWeight
				StartDate descending

    Local Fields
    	LocalCopyDepartment						is a TrueCostDepartment					
		LocalCopyCostObject						is a FinanceDimension1
		
	Transient Fields
		AccountingEntity
			derive value from TrueCostWeightData.AccountingEntity
		AccountingUnit
			derive value from DerivedAccountingUnit
		FinanceDimension1
		FinanceDimension2
		FinanceDimension3
		FinanceDimension4
		FinanceDimension5
		FinanceDimension6
		FinanceDimension7
		FinanceDimension8
		FinanceDimension9
		FinanceDimension10

		TransientCostObjectFinanceDimension1		is a FinanceDimension1
		TransientCostObjectFinanceDimension2		is a FinanceDimension2
		TransientCostObjectFinanceDimension3		is a FinanceDimension3
		TransientCostObjectFinanceDimension4		is a FinanceDimension4
		TransientCostObjectFinanceDimension5		is a FinanceDimension5
		TransientCostObjectFinanceDimension6		is a FinanceDimension6
		TransientCostObjectFinanceDimension7		is a FinanceDimension7
		TransientCostObjectFinanceDimension8		is a FinanceDimension8
		TransientCostObjectFinanceDimension9		is a FinanceDimension9
		TransientCostObjectFinanceDimension10		is a FinanceDimension10
		
		TransientAccountingUnit is a AccountingUnit

		
	Derived Fields
		DepartmentDescription is a DerivedField
			type is like Description
			if(TrueCostConfiguration.DepartmentIsAccountingUnit)
				return DepartmentAccountingUnitRel.Description
			if (TrueCostConfiguration.DepartmentIsDimension1)
				return Department1Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension2)
				return Department2Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension3)
				return Department3Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension4)
				return Department4Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension5)
				return Department5Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension6)
				return Department6Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension7)
				return Department7Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension8)
				return Department8Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension9)
				return Department9Rel.Description
			if (TrueCostConfiguration.DepartmentIsDimension10)
				return Department10Rel.Description
			
		CostObjectDescription is a DerivedField
			type is like Description
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return CostObject1Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return CostObject2Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return CostObject3Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return CostObject4Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return CostObject5Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return CostObject6Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return CostObject7Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return CostObject8Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return CostObject9Rel.Description
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return CostObject10Rel.Description
			
		DerivedDepartment is a DerivedField
			type is like FinanceDimension1
			restricted
			if(LocalCopyDepartment entered)
				return LocalCopyDepartment
			else
				return TrueCostWeightData.Department
		
		DerivedCostObject is a DerivedField
			type is like FinanceDimension1
			restricted
			if(LocalCopyCostObject entered)
				return LocalCopyCostObject
			else
				return TrueCostWeightData.CostObject
		
		DerivedAccountingUnit is a DerivedField
			type is like AccountingUnit
			restricted
			if(LocalCopyDepartment entered)
				return LocalCopyDepartment
			else
				return TrueCostWeightData.Department
	Field Rules
		Weight
			if (Weight not entered 
			or Weight <0)
				constraint (Weight > 0)
					"WeightMustBePositive"
		AccountingUnit
			constraint (AccountingUnit.PostingAccountingUnit)
				"<TrueCostConfiguration.AccountingUnitLabel>MustBePosting"
		FinanceDimension1
			constraint (FinanceDimension1.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension1Label>MustBePosting"
		FinanceDimension2
			constraint (FinanceDimension2.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension2Label>MustBePosting"
		FinanceDimension3
			constraint (FinanceDimension3.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension3Label>MustBePosting"
		FinanceDimension4
			constraint (FinanceDimension4.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension4Label>MustBePosting"
		FinanceDimension5
			constraint (FinanceDimension5.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension5Label>MustBePosting"
		FinanceDimension6
			constraint (FinanceDimension6.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension6Label>MustBePosting"
		FinanceDimension7
			constraint (FinanceDimension7.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension7Label>MustBePosting"
		FinanceDimension8
			constraint (FinanceDimension8.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension8Label>MustBePosting"
		FinanceDimension9
			constraint (FinanceDimension9.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension9Label>MustBePosting"
		FinanceDimension10
			constraint (FinanceDimension10.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension10Label>MustBePosting"

		TransientCostObjectFinanceDimension1
			constraint (TransientCostObjectFinanceDimension1.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension1Label>MustBePosting"
		TransientCostObjectFinanceDimension2
			constraint (TransientCostObjectFinanceDimension2.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension2Label>MustBePosting"
		TransientCostObjectFinanceDimension3
			constraint (TransientCostObjectFinanceDimension3.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension3Label>MustBePosting"
		TransientCostObjectFinanceDimension4
			constraint (TransientCostObjectFinanceDimension4.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension4Label>MustBePosting"
		TransientCostObjectFinanceDimension5
			constraint (TransientCostObjectFinanceDimension5.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension5Label>MustBePosting"
		TransientCostObjectFinanceDimension6
			constraint (TransientCostObjectFinanceDimension6.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension6Label>MustBePosting"
		TransientCostObjectFinanceDimension7
			constraint (TransientCostObjectFinanceDimension7.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension7Label>MustBePosting"
		TransientCostObjectFinanceDimension8
			constraint (TransientCostObjectFinanceDimension8.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension8Label>MustBePosting"
		TransientCostObjectFinanceDimension9
			constraint (TransientCostObjectFinanceDimension9.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension9Label>MustBePosting"
		TransientCostObjectFinanceDimension10
			constraint (TransientCostObjectFinanceDimension10.DimensionType.Posting)
				"<TrueCostConfiguration.FinanceDimension10Label>MustBePosting"

	Conditions
		

		IsAcrossDepartment
			restricted
			when (TrueCostWeightData.Department not = blank
			and   TrueCostWeightData.CostObject     = blank)

		IsWithinDepartment
			restricted
			when (TrueCostWeightData.Department     = blank
			and   TrueCostWeightData.CostObject not = blank)

	Actions
 		Create is an Action
 			restricted
			Entrance Rules
				if (TrueCostWeightData.CostObject entered)
					constraint (TrueCostWeightData.Department not entered)
						"<TrueCostConfiguration.DepartmentLabel>CannotBeSpecifiedWith<TrueCostConfiguration.CostObjectLabel>"
				else
				if (TrueCostWeightData.Department entered)
					constraint (TrueCostWeightData.CostObject not entered)
						"<TrueCostConfiguration.DepartmentLabel>CannotBeSpecifiedWith<TrueCostConfiguration.CostObjectLabel>"
			 	else
					constraint (TrueCostWeightData.Department entered
					or TrueCostWeightData.CostObject entered)
						"<TrueCostConfiguration.DepartmentLabel>Or<TrueCostConfiguration.CostObjectLabel>MustBeSpecified"

















			Exit Rules
			
		CreateWithinDepartment is a Create Action
			default label is "CreateWithin-\DepartmentWeightData"
			Entrance Rules
				if (TransientCostObjectFinanceDimension1 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension1
				if (TransientCostObjectFinanceDimension2 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension2
				if (TransientCostObjectFinanceDimension3 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension3
				if (TransientCostObjectFinanceDimension4 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension4
				if (TransientCostObjectFinanceDimension5 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension5
				if (TransientCostObjectFinanceDimension6 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension6
				if (TransientCostObjectFinanceDimension7 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension7
				if (TransientCostObjectFinanceDimension8 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension8
				if (TransientCostObjectFinanceDimension9 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension9
				if (TransientCostObjectFinanceDimension10 entered)
					TrueCostWeightData.CostObject			= TransientCostObjectFinanceDimension10
				constraint (TrueCostWeightData.CostObject  entered)
					"<TrueCostConfiguration.CostObjectLabel>Required"
					
				if (AccountingUnit entered)
					TrueCostWeightData.Department			= AccountingUnit
				if (FinanceDimension1 entered)
					TrueCostWeightData.Department			= FinanceDimension1
				if (FinanceDimension2 entered)
					TrueCostWeightData.Department			= FinanceDimension2
				if (FinanceDimension3 entered)
					TrueCostWeightData.Department			= FinanceDimension3
				if (FinanceDimension4 entered)
					TrueCostWeightData.Department			= FinanceDimension4
				if (FinanceDimension5 entered)
					TrueCostWeightData.Department			= FinanceDimension5
				if (FinanceDimension6 entered)
					TrueCostWeightData.Department			= FinanceDimension6
				if (FinanceDimension7 entered)
					TrueCostWeightData.Department			= FinanceDimension7
				if (FinanceDimension8 entered)
					TrueCostWeightData.Department			= FinanceDimension8
				if (FinanceDimension9 entered)
					TrueCostWeightData.Department			= FinanceDimension9
				if (FinanceDimension10 entered)
					TrueCostWeightData.Department			= FinanceDimension10


				if (TrueCostWeight.ResourceRate)
					constraint (TrueCostWeightData.Department entered)
						"<TrueCostConfiguration.DepartmentLabel>RequiredForResourceRate"
				else
					constraint (TrueCostWeightData.Department not entered)
						"<TrueCostConfiguration.DepartmentLabel>CannotSpecifyADepartmentFor_Within_Department_Resource_Intensity_Factors"
					
		CreateAcrossDepartments is a Create Action
			default label is "CreateCross-\DepartmentWeightData"
			Entrance Rules 


				if (AccountingUnit entered)
					TrueCostWeightData.Department			= AccountingUnit
				if (FinanceDimension1 entered)
					TrueCostWeightData.Department			= FinanceDimension1
				if (FinanceDimension2 entered)
					TrueCostWeightData.Department			= FinanceDimension2
				if (FinanceDimension3 entered)
					TrueCostWeightData.Department			= FinanceDimension3
				if (FinanceDimension4 entered)
					TrueCostWeightData.Department			= FinanceDimension4
				if (FinanceDimension5 entered)
					TrueCostWeightData.Department			= FinanceDimension5
				if (FinanceDimension6 entered)
					TrueCostWeightData.Department			= FinanceDimension6
				if (FinanceDimension7 entered)
					TrueCostWeightData.Department			= FinanceDimension7
				if (FinanceDimension8 entered)
					TrueCostWeightData.Department			= FinanceDimension8
				if (FinanceDimension9 entered)
					TrueCostWeightData.Department			= FinanceDimension9
				if (FinanceDimension10 entered)
					TrueCostWeightData.Department			= FinanceDimension10
				constraint (TrueCostWeightData.Department  entered)
					"<TrueCostConfiguration.DepartmentLabel>Required"
					
    	Update is an Update Action
			Action Rules

    		Exit Rules

    	Delete is a Delete Action
    		Action Rules
    	

    	CopyRecord is an Instance Action
    		completion message is "CopySubmitted"
				
			Parameters
				PrmAccountingEntity	is a AccountingEntity
				PrmAccountingUnit	is a AccountingUnit
					default label is "<TrueCostConfiguration.DepartmentLabel>"
	    		PrmDepartmentDimension1			is a FinanceDimension1
					default label is "<TrueCostConfiguration.DepartmentLabel>"
				PrmDepartmentDimension2			is a FinanceDimension2
					default label is "<TrueCostConfiguration.DepartmentLabel>"
				PrmDepartmentDimension3			is a FinanceDimension3
					default label is "<TrueCostConfiguration.DepartmentLabel>"
	    		PrmDepartmentDimension4			is a FinanceDimension4
					default label is "<TrueCostConfiguration.DepartmentLabel>"
	    		PrmDepartmentDimension5			is a FinanceDimension5
					default label is "<TrueCostConfiguration.DepartmentLabel>"
	    		PrmDepartmentDimension6			is a FinanceDimension6
					default label is "<TrueCostConfiguration.DepartmentLabel>"
	    		PrmDepartmentDimension7			is a FinanceDimension7
					default label is "<TrueCostConfiguration.DepartmentLabel>"
	    		PrmDepartmentDimension8			is a FinanceDimension8
					default label is "<TrueCostConfiguration.DepartmentLabel>"
	    		PrmDepartmentDimension9			is a FinanceDimension9
					default label is "<TrueCostConfiguration.DepartmentLabel>"
	    		PrmDepartmentDimension10			is a FinanceDimension10
					default label is "<TrueCostConfiguration.DepartmentLabel>"

				PrmCostObjectDimension1		 			is a FinanceDimension1    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension2		 			is a FinanceDimension2    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension3		 			is a FinanceDimension3    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension4		 			is a FinanceDimension4    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension5		 			is a FinanceDimension5    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension6		 			is a FinanceDimension6    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension7		 			is a FinanceDimension7    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension8		 			is a FinanceDimension8    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension9		 			is a FinanceDimension9    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
				PrmCostObjectDimension10	 			is a FinanceDimension10    			
	    			default label is "<TrueCostConfiguration.CostObjectLabel>"
	    		
				PrmAmount						is Decimal 13.4	
					default label is "Value"	
        		PrmEventDate					is Date
					default label is "EffectiveDate"

			Parameter Rules
				PrmAccountingEntity
					force default to TrueCostWeightData.AccountingEntity
					initial value is TrueCostWeightData.AccountingEntity
				PrmAccountingUnit
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsAccountingUnit) 
						required						
				PrmDepartmentDimension1
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension1)
						required
				PrmDepartmentDimension2
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension2)
						required
				PrmDepartmentDimension3
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension3)
						required
				PrmDepartmentDimension4
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension4)
						required
				PrmDepartmentDimension5
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension5)
						required
				PrmDepartmentDimension6
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension6)
						required
				PrmDepartmentDimension7
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension7)
						required
				PrmDepartmentDimension8
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension8)
						required
				PrmDepartmentDimension9
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension9)
						required
				PrmDepartmentDimension10
					if (IsAcrossDepartment
					and TrueCostConfiguration.DepartmentIsDimension10)
						required

				PrmCostObjectDimension1
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension1)
	    				required
				PrmCostObjectDimension2
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension2)
	    				required
				PrmCostObjectDimension3
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension3)
	    				required
				PrmCostObjectDimension4
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension4)
	    				required
				PrmCostObjectDimension5
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension5)
	    				required
				PrmCostObjectDimension6
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension6)
	    				required
				PrmCostObjectDimension7
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension7)
	    				required
				PrmCostObjectDimension8
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension8)
	    				required
				PrmCostObjectDimension9
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension9)
	    				required
				PrmCostObjectDimension10
	    			if (IsWithinDepartment
	    			and TrueCostConfiguration.CostObjectIsDimension10)
	    				required
				PrmAmount
					initial value is Weight
        		PrmEventDate
        			required
			
			Entrance Rules				
				constraint (StartDate entered)
					"EventDateRequired"
	
	        Action Rules
        		initialize LocalCopyDepartment
        		initialize LocalCopyCostObject

				if (IsWithinDepartment)
					if (PrmCostObjectDimension1 entered)
						LocalCopyCostObject = PrmCostObjectDimension1
					if (PrmCostObjectDimension2 entered)
						LocalCopyCostObject = PrmCostObjectDimension2
					if (PrmCostObjectDimension3 entered)
						LocalCopyCostObject = PrmCostObjectDimension3
					if (PrmCostObjectDimension4 entered)
						LocalCopyCostObject = PrmCostObjectDimension4
					if (PrmCostObjectDimension5 entered)
						LocalCopyCostObject = PrmCostObjectDimension5
					if (PrmCostObjectDimension6 entered)
						LocalCopyCostObject = PrmCostObjectDimension6
					if (PrmCostObjectDimension7 entered)
						LocalCopyCostObject = PrmCostObjectDimension7
					if (PrmCostObjectDimension8 entered)
						LocalCopyCostObject = PrmCostObjectDimension8
					if (PrmCostObjectDimension9 entered)
						LocalCopyCostObject = PrmCostObjectDimension9
					if (PrmCostObjectDimension10 entered)
						LocalCopyCostObject = PrmCostObjectDimension10
		     
				if (IsAcrossDepartment)		
					if (PrmAccountingUnit entered)
		        		LocalCopyDepartment = PrmAccountingUnit
						constraint (DepartmentAccountingUnitRel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
		        	if (PrmDepartmentDimension1 entered)
		        		LocalCopyDepartment = PrmDepartmentDimension1
						constraint (Department1Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension2 entered)
						LocalCopyDepartment = PrmDepartmentDimension2
						constraint (Department2Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension3 entered)
						LocalCopyDepartment = PrmDepartmentDimension3
						constraint (Department3Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension4 entered)
						LocalCopyDepartment = PrmDepartmentDimension4
						constraint (Department4Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension5 entered)
						LocalCopyDepartment = PrmDepartmentDimension5
						constraint (Department5Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension6 entered)
						LocalCopyDepartment = PrmDepartmentDimension6
						constraint (Department6Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension7 entered)
						LocalCopyDepartment = PrmDepartmentDimension7
						constraint (Department7Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension8 entered)
						LocalCopyDepartment = PrmDepartmentDimension8
						constraint (Department8Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension9 entered)
						LocalCopyDepartment = PrmDepartmentDimension9
						constraint (Department9Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
					if (PrmDepartmentDimension10 entered)
						LocalCopyDepartment = PrmDepartmentDimension10
						constraint (Department10Rel exists)
							"<TrueCostConfiguration.DepartmentLabel>DoesNotExist"
						
	        	invoke Create TrueCostWeightData
	        		invoked.TrueCostConfiguration 	= TrueCostConfiguration
	        		invoked.TrueCostWeight 			= TrueCostWeight
					invoked.AccountingEntity 		= AccountingEntity
					invoked.Department 				= LocalCopyDepartment
					invoked.CostObject 				= LocalCopyCostObject
	        		invoked.Weight 					= PrmAmount
	        		invoked.StartDate 				= PrmEventDate		
	     
