FileCreationRowDetail is a BusinessClass
    owned by filecreation
    prefix is FCRWD

	Ontology
		symbolic key is FileCreationRowDetail

    Patterns
	    implements LightweightAuditing
        disable EffectiveDated
        disable AsOfDateProcessing
        implements Resequence on RowOrder
			new sequence field is SeqRowOrder
			set is ByRowOrder

    Persistent Fields
		Description							is Alpha size 60
    	RowOrder							is Numeric 4
    	Header								is Boolean
    	Trailer								is Boolean
    	Subtotal							is Boolean
    	OneToMany							is Boolean
    	OneToManyBusinessClassPayablesInvoice
    		default label is "OneToManyBusinessClassPayablesInvoice"
    	OneToManyBusinessClassGeneralLedgerChartAccount
    		default label is "OneToManyBusinessClassGeneralLedgerChartAccount"
		OneToManyBusinessClassAsset
			default label is "OneToManyBusinessClassAsset"
		OneToManyBusinessClassBinGroup
			default label is "OneToManyBusinessClassBinGroup"
		OneToManyBusinessClassContract
			default label is "OneToManyBusinessClassContract"
		OneToManyBusinessClassPurchaseOrder
			default label is "OneToManyBusinessClassPurchaseOrder"
		OneToManyBusinessClassVendor
			default label is "OneToManyBusinessClassVendor"
		OneToManySequenceNumberStartingValue	is Numeric 1
			States
				Zero		value is 0
				One			value is 1
		DoNotResetOneToManySequenceNumber	is Boolean
		ExtendsOneToManyRow					is a FileCreationRowDetail
			context of FileCreationSetup
    	IncludeInRecordCount1				is Boolean
    	IncludeInRecordCount2				is Boolean
    	IncludeInRecordCount3				is Boolean
    	IncludeInRecordCount4				is Boolean
    	IncludeInRecordCount5				is Boolean
    	IncludeInRecordCount6				is Boolean
		RecordHasBeenChanged				is Boolean
		EmptyRow

		RowCondition1						is a RowCondition
		CompareField1				is Alpha 100
			is related value for RelatedValueBusinessClass1
			default label is "Field"
		ComparedToField1			is Alpha 100
			is related value for RelatedValueBusinessClass1
		RowCondition2						is a RowCondition
		CompareField2				is Alpha 100
			is related value for RelatedValueBusinessClass2
			default label is "Field"
		ComparedToField2			is Alpha 100
			is related value for RelatedValueBusinessClass2
		RowConditionOperator 		is Numeric 1
			States
				And						value is 0
				Or						value is 1

		OneToManyCondition1			is a RowCondition
		OneToManyCompareField1		is Alpha 100
			is related value for OTMRelatedValueBusinessClass
			default label is "Field"
		OneToManyComparedToField1	is Alpha 100
			is related value for OTMRelatedValueBusinessClass
		OneToManyCondition2			is a RowCondition
		OneToManyCompareField2		is Alpha 100
			is related value for OTMRelatedValueBusinessClass
			default label is "Field"
		OneToManyComparedToField2		is Alpha 100
			is related value for OTMRelatedValueBusinessClass
		OneToManyRowConditionOperator 		is Numeric 1
			States
				And						value is 0
				Or						value is 1

		ExtendedCondition1			is a RowCondition
		ExtendedCompareField1		is Alpha 100
			is related value for ExtendedRelatedValueBusinessClass1
			default label is "Field"
		ExtendedComparedToField1	is Alpha 100
			is related value for ExtendedRelatedValueBusinessClass1
		ExtendedCondition2			is a RowCondition
		ExtendedCompareField2		is Alpha 100
			is related value for ExtendedRelatedValueBusinessClass2
			default label is "Field"
		ExtendedComparedToField2	is Alpha 100
			is related value for ExtendedRelatedValueBusinessClass2
		ExtendedRowConditionOperator 		is Numeric 1
			States
				And						value is 0
				Or						value is 1
		DCKey								is Alpha 60
		LinkedSetup							is a FileCreationSetup
		LinkedRow							is a FileCreationRowDetail
			context of LinkedSetup
		Disable							is Boolean
		SubtotalPlacement					is Numeric 1
    		States
    			SectionHeader			value is 0
    			SectionTrailer			value is 1
    	SubtotalField						is Alpha 100
    	SubtotalLevel						is Numeric 2
		OnlyWriteRowIfMappedFieldChanged	is Boolean
		DerivedFieldText					is Text
			disable Auditing
	Field Groups

		FieldsNeededForRegenerateMappings
			RowOrder
			Header
			Trailer
			Subtotal
			OneToMany
			OneToManyBusinessClassPayablesInvoice
    		OneToManyBusinessClassGeneralLedgerChartAccount
			OneToManyBusinessClassAsset
			OneToManyBusinessClassBinGroup
			OneToManyBusinessClassContract
			OneToManyBusinessClassPurchaseOrder
			OneToManyBusinessClassVendor
			OneToManySequenceNumberStartingValue
			DoNotResetOneToManySequenceNumber
			ExtendsOneToManyRow
			IncludeInRecordCount1				
			IncludeInRecordCount2				
			IncludeInRecordCount3				
			IncludeInRecordCount4			
			IncludeInRecordCount5				
			IncludeInRecordCount6		
			OnlyWriteRowIfMappedFieldChanged		
			RowCondition1
			CompareField1
			ComparedToField1
			RowCondition2
			CompareField2
			ComparedToField2
			RowConditionOperator
			OneToManyCondition1
			OneToManyCompareField1
			OneToManyComparedToField1
			OneToManyCondition2
			OneToManyCompareField2
			OneToManyComparedToField2
			OneToManyRowConditionOperator
			ExtendedCondition1
			ExtendedCompareField1
			ExtendedComparedToField1
			ExtendedCondition2
			ExtendedCompareField2
			ExtendedComparedToField2
			ExtendedRowConditionOperator
			LinkedSetup
			LinkedRow
	Local Fields
		LocalEndPosition					is Numeric 5
		NewFileCreationRowDetail	is a FileCreationRowDetail	view
		NewFileCreationColumnDetail	is a FileCreationColumnDetail view
		NewExtendedRow				is a FileCreationRowDetail	view
		ExtendedFileCreationRowDetail is like FileCreationRowDetail
		LocalColumn 				is like FileCreationColumnDetail
		LocalCommitCounter			is Numeric 2
		LocalAlpha					is Alpha 200
		ValidateRelatedField		is Alpha 200
			is related value for "FileCreationColumnDetail"
		ErrorMessage				is Text
		LocalCompareField			is Alpha 100
		OTMCompareField				is Boolean
		CheckIfCompareField1		is Boolean
		CheckCompareField			is Alpha 50
		LocalRowCondition1			is a RowCondition
		LocalRowCondition2			is a RowCondition
		
	Transient Fields
		RowType								is Numeric 1
			States
				SourceFile			value is 1
				OneToMany			value is 2
				Header				value is 3
				Trailer				value is 4
			derive value from RowTypeCalculation
		RowTypeNoOTM						is Numeric 1
			default label is "RowType"
			States
				SourceFile			value is 1
				Header				value is 3
				Trailer				value is 4
			derive value from RowTypeNoOTMCalculation
		RowTypeDisplay						is Numeric 1
			default label is "RowType"
			States
				SourceFile			value is 1
				OneToMany			value is 2
				Header				value is 3
				Trailer				value is 4
				Subtotal			value is 5
			derive value from RowTypeDisplayCalculation
		SeqRowOrder							is Numeric 4
			default label is "NewRowOrder"
		UpdateStamp							is Boolean





	Derived Fields
		NextRowOrder is a DerivedField
			type is Numeric 4
			NextRowOrder = last FileCreationRowDetailLastRowOrderRel.RowOrder + 1
			if (NextRowOrder > 9998)
				NextRowOrder = 0
			return NextRowOrder

		AllOptionalFields is a DerivedField
			type is Boolean
			for each FileCreationColumnDetail set
				if (each.InputOption.FieldRequired)
					return false
					
			return true
			
		DerivedFileCreationSetup is a DerivedField
			type is Numeric 4
			if (LinkedSetup entered)
				return LinkedSetup
			else 
				return FileCreationSetup
				
		DerivedFileCreationRowDetail is a DerivedField
			type is Numeric 4
			if (LinkedRow entered)
				return LinkedRow
			else 
				return FileCreationRowDetail			
						
		RelatedValueBusinessClass1 is a DerivedField		
			type is Alpha 200
			restricted				
			if (RowCondition1.CompareFile.ExportFile)	
				if (FileCreationSetup.ExportFile.PayablesInvoice)
					return "PayablesInvoice"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTransaction)
					return "GeneralLedgerTransaction"
				else
				if (FileCreationSetup.ExportFile.PurchaseOrderLine)
					return "PurchaseOrderLine"
				else
				if (FileCreationSetup.ExportFile.InventoryLocation)
					return "InventoryLocation"
				else
				if (FileCreationSetup.ExportFile.InventoryTransactionLine)
					return "InventoryTransactionLine"
				else			
				if (FileCreationSetup.ExportFile.GeneralLedgerTotal)
					return "GeneralLedgerTotal"
				else
				if (FileCreationSetup.ExportFile.GLTransactionDetail)
					return "GLTransactionDetail"
				else
				if (FileCreationSetup.ExportFile.Vendor)
					return "Vendor"				
				else
				if (FileCreationSetup.ExportFile.Asset)
					return "Asset"				
				else
				if (FileCreationSetup.ExportFile.Scenario)
					return "Scenario"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
					return "GeneralLedgerChartAccount"
				else
				if (FileCreationSetup.ExportFile.BinGroup)
					return "BinGroup"
				else
				if (FileCreationSetup.ExportFile.Contract)
					return "Contract"
				else
				if (FileCreationSetup.ExportFile.Item)
					return "Item"
				else
				if (FileCreationSetup.ExportFile.RequesterRequestingLocation)
					return "RequesterRequestingLocation"
				else
				if (FileCreationSetup.ExportFile.PurchaseOrder)
					return "PurchaseOrder"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerJournalControl)
					return "GeneralLedgerJournalControl"
			return "FileCreationRecord"			

		RelatedValueBusinessClass2 is a DerivedField		
			type is Alpha 200	
			restricted			
			if (RowCondition2.CompareFile.ExportFile)	
				if (FileCreationSetup.ExportFile.PayablesInvoice)
					return "PayablesInvoice"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTransaction)
					return "GeneralLedgerTransaction"
				else
				if (FileCreationSetup.ExportFile.PurchaseOrderLine)
					return "PurchaseOrderLine"
				else
				if (FileCreationSetup.ExportFile.InventoryLocation)
					return "InventoryLocation"
				else
				if (FileCreationSetup.ExportFile.InventoryTransactionLine)
					return "InventoryTransactionLine"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTotal)
					return "GeneralLedgerTotal"
				else
				if (FileCreationSetup.ExportFile.GLTransactionDetail)
					return "GLTransactionDetail"
				else
				if (FileCreationSetup.ExportFile.Vendor)
					return "Vendor"
				else
				if (FileCreationSetup.ExportFile.Asset)
					return "Asset"
				else
				if (FileCreationSetup.ExportFile.Scenario)
					return "Scenario"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
					return "GeneralLedgerChartAccount"
				else
				if (FileCreationSetup.ExportFile.BinGroup)
					return "BinGroup"
				else
				if (FileCreationSetup.ExportFile.Contract)
					return "Contract"
				else
				if (FileCreationSetup.ExportFile.Item)
					return "Item"
				else
				if (FileCreationSetup.ExportFile.RequesterRequestingLocation)
					return "RequesterRequestingLocation"
				else
				if (FileCreationSetup.ExportFile.PurchaseOrder)
					return "PurchaseOrder"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerJournalControl)
					return "GeneralLedgerJournalControl"
			return "FileCreationRecord"

		OTMRelatedValueBusinessClass is a DerivedField		
			type is Alpha 200	
			restricted			
			if (FileCreationSetup.ExportFile.PayablesInvoice)
				if (OneToMany
				or	LinkedRow.OneToMany)
					if (FileCreationRowDetail.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution
					or	LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution)
						return "PayablesInvoiceDistribution"
					if (FileCreationRowDetail.OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment
					or	LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment)
						return "PayablesInvoicePayment"
					if (FileCreationRowDetail.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge
					or	LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge)
						return "PayablesInvoiceAddOnCharge"					
				return "PayablesInvoice"
			else
			if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
				if (OneToMany
				or	LinkedRow.OneToMany)
					if (FileCreationRowDetail.OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount
					or	LinkedRow.OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount)
						return "ReportingChartAccount"
				return "GeneralLedgerChartAccount"
			else
			if (FileCreationSetup.ExportFile.Asset)
				if (OneToMany
				or	LinkedRow.OneToMany)
					if (FileCreationRowDetail.OneToManyBusinessClassAsset.AssetBook
					or	LinkedRow.OneToManyBusinessClassAsset.AssetBook)
						return "AssetBook"
				return "Asset"
			else
			if (FileCreationSetup.ExportFile.BinGroup)
				if (OneToMany
				or	LinkedRow.OneToMany)
					if (FileCreationRowDetail.OneToManyBusinessClassBinGroup.BinGroupDetail
					or	LinkedRow.OneToManyBusinessClassBinGroup.BinGroupDetail)
						return "BinGroupDetail"
				return "BinGroup"
			else
			if (FileCreationSetup.ExportFile.Contract)
				if (OneToMany
				or	LinkedRow.OneToMany)
					if (FileCreationRowDetail.OneToManyBusinessClassContract.ContractLine
					or	LinkedRow.OneToManyBusinessClassContract.ContractLine)
						return "ContractLine"
				return "Contract"
			else
			if (FileCreationSetup.ExportFile.PurchaseOrder)
				if (OneToMany
				or	LinkedRow.OneToMany)
					if (FileCreationRowDetail.OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine
					or	LinkedRow.OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine)
						return "PurchaseOrderLine"
				return "PurchaseOrder"
			else
			if (FileCreationSetup.ExportFile.Vendor)
				if (OneToMany
				or	LinkedRow.OneToMany)
					if (FileCreationRowDetail.OneToManyBusinessClassVendor.VendorLocation
					or	LinkedRow.OneToManyBusinessClassVendor.VendorLocation)
						return "VendorLocation"
				return "Vendor"

		ExtendedRelatedValueBusinessClass1 is a DerivedField
			type is Alpha 200
			restricted
			if (ExtendedCondition1.CompareFile.ExportFile)
				return OTMRelatedValueBusinessClass		
								
			return "FileCreationRecord"
			
		ExtendedRelatedValueBusinessClass2 is a DerivedField
			type is Alpha 200
			restricted
			if (ExtendedCondition2.CompareFile.ExportFile)
				return OTMRelatedValueBusinessClass
								
			return "FileCreationRecord"
		
		NextBeginPositionAdditionalRecords is a DerivedField
			type is Numeric 5
			restricted
			initialize LocalEndPosition
			if (FileCreationSetup.FileType.Separated)
				return 0
			for each FileCreationColumnDetailDescendingEndPositionRel
				if (each.FixedLengthFieldRange.EndPosition >= LocalEndPosition)
					LocalEndPosition = each.FixedLengthFieldRange.EndPosition + 1
				if (each.LargestEndPosition >= LocalEndPosition)
					LocalEndPosition = each.LargestEndPosition + 1

			return LocalEndPosition
			
		HeaderDisplay is a DerivedField
			type is Boolean
			default label is "Header"
			if (LinkedRow not entered)
				return Header
			else
				return LinkedRow.Header
				
		TrailerDisplay is a DerivedField
			type is Boolean
			default label is "Trailer"
			if (LinkedRow not entered)
				return Trailer
			else
				return LinkedRow.Trailer
				
		ExtendsRow is a DerivedField
			type is Numeric 4
			if (Linked not entered)
				return ExtendsOneToManyRow.RowOrder
			else
				return FileCreationRowDetailLinkedExtendsRel.RowOrder	
		
		LinkedExtendedRowMessage is a MessageField
			restricted
			"LinkedRowHasExtendedMappings.TheExtendedRowsWillAlsoBeOutputtedToTheFileWhenGenerated."
		
		RowIsExtendedMessage is a MessageField
			restricted
			"RowIsExtendedByOtherRows"
		
		OneToManyDisplay is a DerivedField
			type is Boolean
			default label is "OneToMany"
			if (LinkedRow not entered)
				return OneToMany
			else
				return LinkedRow.OneToMany
	


		PayablesInvoiceState is a MessageField 
			restricted
			"PayablesInvoice"

		PayablesInvoiceDistributionState is a MessageField
			restricted
			"PayablesInvoiceDistribution"
		
		PayablesInvoicePaymentState is a MessageField
			restricted
			"PayablesInvoicePayment"

		PayablesInvoiceAddOnChargeState is a MessageField
			restricted
			"PayablesInvoiceAddOnCharge"

		GeneralLedgerTransactionState is a MessageField
			restricted
			"GeneralLedgerTransaction"	

		PurchaseOrderLineState is a MessageField
			restricted
			"PurchaseOrderLine"
			
		InventoryLocationState is a MessageField 
			restricted
			"InventoryLocation"

		InventoryTransactionLineState is a MessageField 
			restricted
			"InventoryTransactionLine"
			
		GeneralLedgerTotalState is a MessageField 
			restricted
			"GeneralLedgerTotal"
		
		GLTransactionDetailState is a MessageField 
			restricted
			"GLTransactionDetail"

		VendorState	is a MessageField
			restricted
			"Vendor"
		
		VendorLocationState	is a MessageField
			restricted
			"VendorLocation"
		
		AssetState	is a MessageField
			restricted
			"Asset"

		AssetBookState	is a MessageField
			restricted
			"AssetBook"
		
		ScenarioState	is a MessageField
			restricted
			"Scenario"
		
		GeneralLedgerChartAccountState	is a MessageField
			restricted
			"GeneralLedgerChartAccount"
		
		ReportingChartAccountState	is a MessageField
			restricted
			"ReportingChartAccount"

		BinGroupState	is a MessageField
			restricted
			"BinGroup"

		BinGroupDetailState	is a MessageField
			restricted
			"BinGroupDetail"

		ContractState	is a MessageField
			restricted
			"Contract"

		ContractLineState	is a MessageField
			restricted
			"ContractLine"

		ItemState is a MessageField 
			restricted
			"Item"

		RequesterRequestingLocationState is a MessageField
			restricted
			"RequesterRequestingLocation"

		PurchaseOrderState	is a MessageField
			restricted
			"PurchaseOrder"

		GeneralLedgerJournalControlState	is a MessageField
			restricted
			"GeneralLedgerJournalControl"

		OneToManyBusinessClassDerived is a DerivedField
			type is Alpha 60
			default label is "BusinessClass"
			if (not Linked)
				if (FileCreationSetup.ExportFile.PayablesInvoice)
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution)
						return PayablesInvoiceDistributionState
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment)
						return PayablesInvoicePaymentState
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge)
						return PayablesInvoiceAddOnChargeState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
					if (OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount)
						return ReportingChartAccountState
				else
				if (FileCreationSetup.ExportFile.Asset)
					if (OneToManyBusinessClassAsset.AssetBook)
						return AssetBookState
				else
				if (FileCreationSetup.ExportFile.BinGroup)
					if (OneToManyBusinessClassBinGroup.BinGroupDetail)
						return BinGroupDetailState
				else
				if (FileCreationSetup.ExportFile.Contract)
					if (OneToManyBusinessClassContract.ContractLine)
						return ContractLineState
				else
				if (FileCreationSetup.ExportFile.PurchaseOrder)
					if (OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine)
						return PurchaseOrderLineState
				else
				if (FileCreationSetup.ExportFile.Vendor)
					if (OneToManyBusinessClassVendor.VendorLocation)
						return VendorLocationState
			else
				if (FileCreationSetup.ExportFile.PayablesInvoice)
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution)
						return PayablesInvoiceDistributionState
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment)
						return PayablesInvoicePaymentState
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge)
						return PayablesInvoiceAddOnChargeState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
					if (LinkedRow.OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount)
						return ReportingChartAccountState
				else
				if (FileCreationSetup.ExportFile.Asset)
					if (LinkedRow.OneToManyBusinessClassAsset.AssetBook)
						return AssetBookState
				else
				if (FileCreationSetup.ExportFile.BinGroup)
					if (LinkedRow.OneToManyBusinessClassBinGroup.BinGroupDetail)
						return BinGroupDetailState
				else
				if (FileCreationSetup.ExportFile.Contract)
					if (LinkedRow.OneToManyBusinessClassContract.ContractLine)
						return ContractLineState
				else
				if (FileCreationSetup.ExportFile.PurchaseOrder)
					if (LinkedRow.OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine)
						return PurchaseOrderLineState
				else
				if (FileCreationSetup.ExportFile.Vendor)
					if (LinkedRow.OneToManyBusinessClassVendor.VendorLocation)
						return VendorLocationState

		SourceBusinessClassDerived is a DerivedField
			type is Alpha 60
			default label is "BusinessClass"
			if (not Linked)
				if (FileCreationSetup.ExportFile.PayablesInvoice)
					if (!OneToMany)
						return PayablesInvoiceState
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution)
						return PayablesInvoiceDistributionState
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment)
						return PayablesInvoicePaymentState
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge)
						return PayablesInvoiceAddOnChargeState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTransaction)
					if (!OneToMany)
						return GeneralLedgerTransactionState
				else
				if (FileCreationSetup.ExportFile.PurchaseOrderLine)
					if (!OneToMany)
						return PurchaseOrderLineState
				else
				if (FileCreationSetup.ExportFile.InventoryLocation)
					if (!OneToMany)
						return InventoryLocationState
				else
				if (FileCreationSetup.ExportFile.InventoryTransactionLine)
					if (!OneToMany)
						return InventoryTransactionLineState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTotal)
					if (!OneToMany)
						return GeneralLedgerTotalState
				else
				if (FileCreationSetup.ExportFile.GLTransactionDetail)
					if (!OneToMany)
						return GLTransactionDetailState
				else
				if (FileCreationSetup.ExportFile.Vendor)
					if (!OneToMany)
						return VendorState
					if (OneToManyBusinessClassVendor.VendorLocation)
						return VendorLocationState	
				else
				if (FileCreationSetup.ExportFile.Asset)
					if (!OneToMany)
						return AssetState	
					if (OneToManyBusinessClassAsset.AssetBook)
						return AssetBookState	
				else
				if (FileCreationSetup.ExportFile.Scenario)
					if (!OneToMany)
						return ScenarioState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
					if (!OneToMany)
						return GeneralLedgerChartAccountState
					if (OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount)
						return ReportingChartAccountState
				else
				if (FileCreationSetup.ExportFile.BinGroup)
					if (!OneToMany)
						return BinGroupState	
					if (OneToManyBusinessClassBinGroup.BinGroupDetail)
						return BinGroupDetailState
				else
				if (FileCreationSetup.ExportFile.Contract)
					if (!OneToMany)
						return ContractState	
					if (OneToManyBusinessClassContract.ContractLine)
						return ContractLineState
				else
				if (FileCreationSetup.ExportFile.Item)
					if (!OneToMany)
						return ItemState
				else
				if(FileCreationSetup.ExportFile.RequesterRequestingLocation)
					if (!OneToMany)
						return RequesterRequestingLocationState	
				else
				if (FileCreationSetup.ExportFile.PurchaseOrder)
					if (!OneToMany)
						return PurchaseOrderState	
					if (OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine)
						return PurchaseOrderLineState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerJournalControl)
					if (!OneToMany)
						return GeneralLedgerJournalControlState
			else
				if (FileCreationSetup.ExportFile.PayablesInvoice)
					if (!LinkedRow.OneToMany)
						return PayablesInvoiceState
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution)
						return PayablesInvoiceDistributionState
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment)
						return PayablesInvoicePaymentState
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge)
						return PayablesInvoiceAddOnChargeState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTransaction)
					if (!LinkedRow.OneToMany)
						return GeneralLedgerTransactionState
				else
				if (FileCreationSetup.ExportFile.PurchaseOrderLine)
					if (!LinkedRow.OneToMany)
						return PurchaseOrderLineState
				else
				if (FileCreationSetup.ExportFile.InventoryLocation)
					if (!LinkedRow.OneToMany)
						return InventoryLocationState
				else
				if (FileCreationSetup.ExportFile.InventoryTransactionLine)
					if (!LinkedRow.OneToMany)
						return InventoryTransactionLineState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTotal)
					if (!LinkedRow.OneToMany)
						return GeneralLedgerTotalState
				else
				if (FileCreationSetup.ExportFile.GLTransactionDetail)
					if (!LinkedRow.OneToMany)
						return GLTransactionDetailState
				else
				if (FileCreationSetup.ExportFile.Vendor)
					if (!LinkedRow.OneToMany)
						return VendorState
					if (LinkedRow.OneToManyBusinessClassVendor.VendorLocation)
						return VendorLocationState
				else
				if (FileCreationSetup.ExportFile.Asset)
					if (!LinkedRow.OneToMany)
						return AssetState
					if (LinkedRow.OneToManyBusinessClassAsset.AssetBook)
						return AssetBookState
				else
				if (FileCreationSetup.ExportFile.Scenario)
					if (!LinkedRow.OneToMany)
						return ScenarioState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
					if (!LinkedRow.OneToMany)
						return GeneralLedgerChartAccountState
					if (LinkedRow.OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount)
						return ReportingChartAccountState
				else
				if (FileCreationSetup.ExportFile.BinGroup)
					if (!LinkedRow.OneToMany)
						return BinGroupState	
					if (LinkedRow.OneToManyBusinessClassBinGroup.BinGroupDetail)
						return BinGroupDetailState
				else
				if (FileCreationSetup.ExportFile.Contract)
					if (!LinkedRow.OneToMany)
						return ContractState	
					if (LinkedRow.OneToManyBusinessClassContract.ContractLine)
						return ContractLineState
				else
				if (FileCreationSetup.ExportFile.Item)
					if (!LinkedRow.OneToMany)
						return ItemState
				else
				if (FileCreationSetup.ExportFile.RequesterRequestingLocation)
					if (!LinkedRow.OneToMany)
						return RequesterRequestingLocationState
				else
				if (FileCreationSetup.ExportFile.PurchaseOrder)
					if (!LinkedRow.OneToMany)
						return PurchaseOrderState	
					if (LinkedRow.OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine)
						return PurchaseOrderLineState
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerJournalControl)
					if (!LinkedRow.OneToMany)
						return GeneralLedgerJournalControlState

		BaseBusinessClass is a DerivedField
			type is Alpha 60
			default label is "BusinessClass"
			if (not Linked)
				if (FileCreationSetup.ExportFile.PayablesInvoice)
					if (!OneToMany)
						return "PayablesInvoice"
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution)
						return "PayablesInvoiceDistribution"
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment)
						return "PayablesInvoicePayment"
					if (OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge)
						return "PayablesInvoiceAddOnCharge"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTransaction)
					if (!OneToMany)
						return "GeneralLedgerTransaction"
				else
				if (FileCreationSetup.ExportFile.PurchaseOrderLine)
					if (!OneToMany)
						return "PurchaseOrderLine"
				else
				if (FileCreationSetup.ExportFile.InventoryLocation)
					if (!OneToMany)
						return "InventoryLocation"
				else
				if (FileCreationSetup.ExportFile.InventoryTransactionLine)
					if (!OneToMany)
						return "InventoryTransactionLine"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTotal)
					if (!OneToMany)
						return "GeneralLedgerTotal"
				else
				if (FileCreationSetup.ExportFile.GLTransactionDetail)
					if (!OneToMany)
						return "GLTransactionDetail"
				else
				if (FileCreationSetup.ExportFile.Vendor)
					if (!OneToMany)
						return "Vendor"
					if (OneToManyBusinessClassVendor.VendorLocation)
						return "VendorLocation"		
				else
				if (FileCreationSetup.ExportFile.Asset)
					if (!OneToMany)
						return "Asset"	
					if (OneToManyBusinessClassAsset.AssetBook)
						return "AssetBook"
				else
				if (FileCreationSetup.ExportFile.Scenario)
					if (!OneToMany)
						return "Scenario"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
					if (!OneToMany)
						return "GeneralLedgerChartAccount"
					if (OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount)
						return "ReportingChartAccount"
				else
				if (FileCreationSetup.ExportFile.BinGroup)
					if (!OneToMany)
						return "BinGroup"
					if (OneToManyBusinessClassBinGroup.BinGroupDetail)
						return "BinGroupDetail"
				else
				if (FileCreationSetup.ExportFile.Contract)
					if (!OneToMany)
						return "Contract"
					if (OneToManyBusinessClassContract.ContractLine)
						return "ContractLine"
				else
				if (FileCreationSetup.ExportFile.Item)
					if (!OneToMany)
						return "Item"
				else
				if (FileCreationSetup.ExportFile.RequesterRequestingLocation)
					if (!OneToMany)
						return "RequesterRequestingLocation"
				else
				if (FileCreationSetup.ExportFile.PurchaseOrder)
					if (!OneToMany)
						return "PurchaseOrder"
					if (OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine)
						return "PurchaseOrderLine"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerJournalControl)
					if (!OneToMany)
						return "GeneralLedgerJournalControl"
			else
				if (FileCreationSetup.ExportFile.PayablesInvoice)
					if (!LinkedRow.OneToMany)
						return "PayablesInvoice"
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution)
						return "PayablesInvoiceDistribution"
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment)
						return "PayablesInvoicePayment"
					if (LinkedRow.OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge)
						return "PayablesInvoiceAddOnCharge"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTransaction)
					if (!LinkedRow.OneToMany)
						return "GeneralLedgerTransaction"
				else
				if (FileCreationSetup.ExportFile.PurchaseOrderLine)
					if (!LinkedRow.OneToMany)
						return "PurchaseOrderLine"
				else
				if (FileCreationSetup.ExportFile.InventoryLocation)
					if (!LinkedRow.OneToMany)
						return "InventoryLocation"
				else
				if (FileCreationSetup.ExportFile.InventoryTransactionLine)
					if (!LinkedRow.OneToMany)
						return "InventoryTransactionLine"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerTotal)
					if (!LinkedRow.OneToMany)
						return "GeneralLedgerTotal"
				else
				if (FileCreationSetup.ExportFile.GLTransactionDetail)
					if (!LinkedRow.OneToMany)
						return "GLTransactionDetail"
				else
				if (FileCreationSetup.ExportFile.Vendor)
					if (!LinkedRow.OneToMany)
						return "Vendor"
					if (LinkedRow.OneToManyBusinessClassVendor.VendorLocation)
						return "VendorLocation"
				else
				if (FileCreationSetup.ExportFile.Asset)
					if (!LinkedRow.OneToMany)
						return "Asset"
					if (LinkedRow.OneToManyBusinessClassAsset.AssetBook)
						return "AssetBook"
				else
				if (FileCreationSetup.ExportFile.Scenario)
					if (!LinkedRow.OneToMany)
						return "Scenario"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerChartAccount)
					if (!LinkedRow.OneToMany)
						return "GeneralLedgerChartAccount"
					if (LinkedRow.OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount)
						return "ReportingChartAccount"
				else
				if (FileCreationSetup.ExportFile.BinGroup)
					if (!LinkedRow.OneToMany)
						return "BinGroup"
					if (LinkedRow.OneToManyBusinessClassBinGroup.BinGroupDetail)
						return "BinGroupDetail"
				else
				if (FileCreationSetup.ExportFile.Contract)
					if (!LinkedRow.OneToMany)
						return "Contract"
					if (LinkedRow.OneToManyBusinessClassContract.ContractLine)
						return "ContractLine"
				else
				if (FileCreationSetup.ExportFile.Item)
					if (!LinkedRow.OneToMany)
						return "Item"
				else
				if (FileCreationSetup.ExportFile.RequesterRequestingLocation)
					if (!LinkedRow.OneToMany)
						return "RequesterRequestingLocation"
				else
				if (FileCreationSetup.ExportFile.PurchaseOrder)
					if (!LinkedRow.OneToMany)
						return "PurchaseOrder"
					if (LinkedRow.OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine)
						return "PurchaseOrderLine"
				else
				if (FileCreationSetup.ExportFile.GeneralLedgerJournalControl)
					if (!LinkedRow.OneToMany)
						return "GeneralLedgerJournalControl"

		OneToManyCalculation is a DerivedField
			type is Boolean
			restricted
			if (RowType.OneToMany)
				return true
			else
				return false

		HeaderCalculation is a DerivedField
			type is Boolean
			restricted
			if (RowType.Header)
				return true
			else
				return false
				
		TrailerCalculation is a DerivedField
			type is Boolean
			restricted
			if (RowType.Trailer)
				return true
			else
				return false
				
		HeaderCalculationNoOTM is a DerivedField
			type is Boolean
			restricted
			if (RowTypeNoOTM.Header)
				return true
			else
				return false
				
		TrailerCalculationNoOTM is a DerivedField
			type is Boolean
			restricted
			if (RowTypeNoOTM.Trailer)
				return true
			else
				return false
				
		RowTypeCalculation is a DerivedField						
			type is Numeric 1
			restricted
			if (Header)
				return RowType.Header
			if (Trailer)
				return RowType.Trailer
			if (IsAOneToManyRow)
				return RowType.OneToMany
			return RowType.SourceFile

		RowTypeNoOTMCalculation is a DerivedField						
			type is Numeric 1
			restricted
			if (Header)
				return RowTypeNoOTM.Header
			if (Trailer)
				return RowTypeNoOTM.Trailer
			return RowType.SourceFile
			
		RowTypeDisplayCalculation is a DerivedField						
			type is Numeric 1
			restricted
			if (Header)
				return RowTypeDisplay.Header
			if (Trailer)
				return RowTypeDisplay.Trailer
			if (IsAOneToManyRow)
				return RowTypeDisplay.OneToMany
			if (Subtotal)
				return RowTypeDisplay.Subtotal
			return RowTypeDisplay.SourceFile
			
		SubtotalLevelComplement is a DerivedField 
			type is Numeric 2
			restricted
			return SubtotalLevel * -1
				
	Conditions
			
		LinkedSetupMatches
			restricted
			when (LinkedSetup.ExportFile = FileCreationSetup.ExportFile)
			
		Linked
			when (LinkedSetup entered
			and   LinkedRow   entered)
			
		LinkedRowValid
			restricted
			when (FileCreationColumnDetailRel not exists
			and	  not RowExtendsOneToManyRow
			and   not Subtotal)
		
		RowIsLinked
			restricted
			when (RowIsLinkedRel exists)
			
		FileCreationRowDetailEqualsLinkedRow
			restricted
			when (FileCreationSetup 	= LinkedSetup
			and   FileCreationRowDetail = LinkedRow)

		PayablesInvoiceDistributionOTM
			restricted
			when (OneToManyBusinessClassPayablesInvoice.PayablesInvoiceDistribution)

		PayablesInvoicePaymentOTM
			restricted
			when (OneToManyBusinessClassPayablesInvoice.PayablesInvoicePayment)

		PayablesInvoiceAddOnChargeOTM
			restricted
			when (OneToManyBusinessClassPayablesInvoice.PayablesInvoiceAddOnCharge)
		
		ReportingChartAccountOTM
			restricted
			when (OneToManyBusinessClassGeneralLedgerChartAccount.ReportingChartAccount)

		AssetBookOTM
			restricted
			when (OneToManyBusinessClassAsset.AssetBook)

		BinGroupDetailOTM
			restricted
			when (OneToManyBusinessClassBinGroup.BinGroupDetail)
		
		ContractLineOTM
			restricted
			when (OneToManyBusinessClassContract.ContractLine)
		
		PurchaseOrderLineOTM
			restricted
			when (OneToManyBusinessClassPurchaseOrder.PurchaseOrderLine)

		VendorLocationOTM
			restricted
			when (OneToManyBusinessClassVendor.VendorLocation)

		DisplayRowCondition1Alpha
			restricted
			when (RowCondition1.FieldDataType.Alpha
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered
			and   not RowCondition1.CompareType.Field)
			
		DisplayRowCondition1Numeric
			restricted
			when (RowCondition1.FieldDataType.Numeric
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered
			and   not RowCondition1.CompareType.Field)
			
		DisplayRowCondition1Decimal
			restricted
			when (RowCondition1.FieldDataType.Decimal
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered
			and   not RowCondition1.CompareType.Field)
			
		DisplayRowCondition1Date
			restricted
			when (RowCondition1.FieldDataType.Date
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered
			and   not RowCondition1.CompareType.Field)
			
		DisplayRowCondition1Time
			restricted
			when (RowCondition1.FieldDataType.Time
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered
			and   not RowCondition1.CompareType.Field)
			
		DisplayRowCondition1Boolean
			restricted
			when (RowCondition1.FieldDataType.Boolean
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered
			and   not RowCondition1.CompareType.Field)
			
		DisplayRowCondition1Text
			restricted
			when (RowCondition1.FieldDataType.Text
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered
			and   not RowCondition1.CompareType.Field)
			
		DisplayRowCondition1TimeStamp
			restricted
			when (RowCondition1.FieldDataType.TimeStamp
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered
			and   not RowCondition1.CompareType.Field)
		
		DisplayRowCondition1Field
			restricted
			when (RowCondition1.CompareType.Field
			and   not RowCondition1.CompareOperator.Entered
			and   not RowCondition1.CompareOperator.NotEntered
			and   RowCondition1.CompareOperator entered)

		DisplayRowCondition2Alpha
			restricted
			when (RowCondition2.FieldDataType.Alpha
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered
			and   not RowCondition2.CompareType.Field)
			
		DisplayRowCondition2Numeric
			restricted
			when (RowCondition2.FieldDataType.Numeric
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered
			and   not RowCondition2.CompareType.Field)
			
		DisplayRowCondition2Decimal
			restricted
			when (RowCondition2.FieldDataType.Decimal
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered
			and   not RowCondition2.CompareType.Field)
			
		DisplayRowCondition2Date
			restricted
			when (RowCondition2.FieldDataType.Date
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered
			and   not RowCondition2.CompareType.Field)
			
		DisplayRowCondition2Time
			restricted
			when (RowCondition2.FieldDataType.Time
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered
			and   not RowCondition2.CompareType.Field)
			
		DisplayRowCondition2Boolean
			restricted
			when (RowCondition2.FieldDataType.Boolean
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered
			and   not RowCondition2.CompareType.Field)
			
		DisplayRowCondition2Text
			restricted
			when (RowCondition2.FieldDataType.Text
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered
			and   not RowCondition2.CompareType.Field)
			
		DisplayRowCondition2TimeStamp
			restricted
			when (RowCondition2.FieldDataType.TimeStamp
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered
			and   not RowCondition2.CompareType.Field)
			
		DisplayRowCondition2Field
			restricted
			when (RowCondition2.CompareType.Field
			and   not RowCondition2.CompareOperator.Entered
			and   not RowCondition2.CompareOperator.NotEntered
			and   RowCondition2.CompareOperator entered)

		DisplayOneToManyCondition1Alpha
			restricted
			when (OneToManyCondition1.FieldDataType.Alpha
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered
			and   not OneToManyCondition1.CompareType.Field)
			
		DisplayOneToManyCondition1Numeric
			restricted
			when (OneToManyCondition1.FieldDataType.Numeric
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered
			and   not OneToManyCondition1.CompareType.Field)
			
		DisplayOneToManyCondition1Decimal
			restricted
			when (OneToManyCondition1.FieldDataType.Decimal
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered
			and   not OneToManyCondition1.CompareType.Field)
			
		DisplayOneToManyCondition1Date
			restricted
			when (OneToManyCondition1.FieldDataType.Date
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered
			and   not OneToManyCondition1.CompareType.Field)
			
		DisplayOneToManyCondition1Time
			restricted
			when (OneToManyCondition1.FieldDataType.Time
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered
			and   not OneToManyCondition1.CompareType.Field)
			
		DisplayOneToManyCondition1Boolean
			restricted
			when (OneToManyCondition1.FieldDataType.Boolean
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered
			and   not OneToManyCondition1.CompareType.Field)
			
		DisplayOneToManyCondition1Text
			restricted
			when (OneToManyCondition1.FieldDataType.Text
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered
			and   not OneToManyCondition1.CompareType.Field)
			
		DisplayOneToManyCondition1TimeStamp
			restricted
			when (OneToManyCondition1.FieldDataType.TimeStamp
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered
			and   not OneToManyCondition1.CompareType.Field)

		DisplayOneToManyCondition1Field
			restricted
			when (OneToManyCondition1.CompareType.Field
			and   not OneToManyCondition1.CompareOperator.Entered
			and   not OneToManyCondition1.CompareOperator.NotEntered
			and   OneToManyCondition1.CompareOperator entered)
			
		DisplayOneToManyCondition2Alpha
			restricted
			when (OneToManyCondition2.FieldDataType.Alpha
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered
			and   not OneToManyCondition2.CompareType.Field)
			
		DisplayOneToManyCondition2Numeric
			restricted
			when (OneToManyCondition2.FieldDataType.Numeric
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered
			and   not OneToManyCondition2.CompareType.Field)
			
		DisplayOneToManyCondition2Decimal
			restricted
			when (OneToManyCondition2.FieldDataType.Decimal
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered
			and   not OneToManyCondition2.CompareType.Field)
			
		DisplayOneToManyCondition2Date
			restricted
			when (OneToManyCondition2.FieldDataType.Date
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered
			and   not OneToManyCondition2.CompareType.Field)
			
		DisplayOneToManyCondition2Time
			restricted
			when (OneToManyCondition2.FieldDataType.Time
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered
			and   not OneToManyCondition2.CompareType.Field)
			
		DisplayOneToManyCondition2Boolean
			restricted
			when (OneToManyCondition2.FieldDataType.Boolean
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered
			and   not OneToManyCondition2.CompareType.Field)
			
		DisplayOneToManyCondition2Text
			restricted
			when (OneToManyCondition2.FieldDataType.Text
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered
			and   not OneToManyCondition2.CompareType.Field)
			
		DisplayOneToManyCondition2TimeStamp
			restricted
			when (OneToManyCondition2.FieldDataType.TimeStamp
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered
			and   not OneToManyCondition2.CompareType.Field)
			
		DisplayOneToManyCondition2Field
			restricted
			when (OneToManyCondition2.CompareType.Field
			and   not OneToManyCondition2.CompareOperator.Entered
			and   not OneToManyCondition2.CompareOperator.NotEntered
			and   OneToManyCondition2.CompareOperator entered)

		DisplayExtendedCondition1Alpha
			restricted
			when (ExtendedCondition1.FieldDataType.Alpha
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and   ExtendedCondition1.CompareOperator entered
			and   not ExtendedCondition1.CompareType.Field)
			
		DisplayExtendedCondition1Numeric
			restricted
			when (ExtendedCondition1.FieldDataType.Numeric
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and   ExtendedCondition1.CompareOperator entered
			and   not ExtendedCondition1.CompareType.Field)
			
		DisplayExtendedCondition1Decimal
			restricted
			when (ExtendedCondition1.FieldDataType.Decimal
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and  ExtendedCondition1.CompareOperator entered
			and   not ExtendedCondition1.CompareType.Field)
			
		DisplayExtendedCondition1Date
			restricted
			when (ExtendedCondition1.FieldDataType.Date
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and   ExtendedCondition1.CompareOperator entered
			and   not ExtendedCondition1.CompareType.Field)
			
		DisplayExtendedCondition1Time
			restricted
			when (ExtendedCondition1.FieldDataType.Time
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and   ExtendedCondition1.CompareOperator entered
			and   not ExtendedCondition1.CompareType.Field)
			
		DisplayExtendedCondition1Boolean
			restricted
			when (ExtendedCondition1.FieldDataType.Boolean
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and   ExtendedCondition1.CompareOperator entered
			and   not ExtendedCondition1.CompareType.Field)
			
		DisplayExtendedCondition1Text
			restricted
			when (ExtendedCondition1.FieldDataType.Text
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and   ExtendedCondition1.CompareOperator entered
			and   not ExtendedCondition1.CompareType.Field)
			
		DisplayExtendedCondition1TimeStamp
			restricted
			when (ExtendedCondition1.FieldDataType.TimeStamp
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and   ExtendedCondition1.CompareOperator entered
			and   not ExtendedCondition1.CompareType.Field)
			
		DisplayExtendedCondition1Field
			restricted
			when (ExtendedCondition1.CompareType.Field
			and   not ExtendedCondition1.CompareOperator.Entered
			and   not ExtendedCondition1.CompareOperator.NotEntered
			and   ExtendedCondition1.CompareOperator entered)

		DisplayExtendedCondition2Alpha
			restricted
			when (ExtendedCondition2.FieldDataType.Alpha
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and   ExtendedCondition2.CompareOperator entered
			and   not ExtendedCondition2.CompareType.Field)
			
		DisplayExtendedCondition2Numeric
			restricted
			when (ExtendedCondition2.FieldDataType.Numeric
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and   ExtendedCondition2.CompareOperator entered
			and   not ExtendedCondition2.CompareType.Field)
			
		DisplayExtendedCondition2Decimal
			restricted
			when (ExtendedCondition2.FieldDataType.Decimal
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and   ExtendedCondition2.CompareOperator entered
			and   not ExtendedCondition2.CompareType.Field)
			
		DisplayExtendedCondition2Date
			restricted
			when (ExtendedCondition2.FieldDataType.Date
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and   ExtendedCondition2.CompareOperator entered
			and   not ExtendedCondition2.CompareType.Field)
			
		DisplayExtendedCondition2Time
			restricted
			when (ExtendedCondition2.FieldDataType.Time
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and   ExtendedCondition2.CompareOperator entered
			and   not ExtendedCondition2.CompareType.Field)
			
		DisplayExtendedCondition2Boolean
			restricted
			when (ExtendedCondition2.FieldDataType.Boolean
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and   ExtendedCondition2.CompareOperator entered
			and   not ExtendedCondition2.CompareType.Field)
			
		DisplayExtendedCondition2Text
			restricted
			when (ExtendedCondition2.FieldDataType.Text
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and  ExtendedCondition2.CompareOperator entered
			and   not ExtendedCondition2.CompareType.Field)
			
		DisplayExtendedCondition2TimeStamp
			restricted
			when (ExtendedCondition2.FieldDataType.TimeStamp
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and   ExtendedCondition2.CompareOperator entered
			and   not ExtendedCondition2.CompareType.Field)
			
		DisplayExtendedCondition2Field
			restricted
			when (ExtendedCondition2.CompareType.Field
			and   not ExtendedCondition2.CompareOperator.Entered
			and   not ExtendedCondition2.CompareOperator.NotEntered
			and   ExtendedCondition2.CompareOperator entered)

		AddFieldsValid
			restricted
			when (FileCreationSetup.ExportFile entered
			and   not Linked)

		AddFieldsPayablesInvoiceValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.PayablesInvoiceType)

		AddFieldsGeneralLedgerTransactionValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.GeneralLedgerTransactionType)

		AddFieldsPurchaseOrderLineValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.PurchaseOrderLineType)

		AddFieldsInventoryLocationValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.InventoryLocationType)
			
		AddFieldsInventoryTransactionLineValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.InventoryTransactionLineType)
			
		AddFieldsGeneralLedgerTotalValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.GeneralLedgerTotalType)
			
		AddFieldsGLTransactionDetailValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.GLTransactionDetailType)

		AddFieldsVendorValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.VendorType)
			
		AddFieldsAssetValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.AssetType)
		
		AddFieldsScenarioValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.ScenarioType)
		
		AddFieldsGeneralLedgerChartAccountValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.GeneralLedgerChartAccountType)

		AddFieldsBinGroupValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.BinGroupType)

		AddFieldsContractValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.ContractType)
		
		AddFieldsItemValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.ItemType)
		
		AddFieldsRequesterRequestingLocationValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.RequesterRequestingLocationType)

		AddFieldsPurchaseOrderValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.PurchaseOrderType)

		AddFieldsGeneralLedgerJournalControlValid
			restricted
			when (AddFieldsValid
			and   FileCreationSetup.GeneralLedgerJournalControlType)

		ColumnsUseAdditionalRowMappings
			restricted
			when (any FileCreationColumnDetail set.AdditionalRowMapping1Entered)
		
		AnotherRowUsesAdditionalRowMappings
			restricted
			when (any FileCreationRowDetailOtherRel.ColumnsUseAdditionalRowMappings)

		IsAOneToManyExtendedRow
			restricted
			when (ExtendsOneToManyRow entered
			or	  (FileCreationRowDetail entered
			and	   FileCreationRowDetailExtendsThisRowRel exists)
			or	  (LinkedRow entered
			and	   (LinkedRow.ExtendsOneToManyRow entered
			or		LinkedRow.FileCreationRowDetailExtendsThisRowRel exists)))
		
		RowExtendsOneToManyRow
			restricted
			when (ExtendsOneToManyRow entered)
				
		CreateExtendedRowIsValid
			restricted
			when ((OneToMany
			and	   ExtendsOneToManyRow not entered)
			or	  (LinkedRow.OneToMany
			and	   LinkedRow.ExtendsOneToManyRow not entered)) 
		
		RowIsExtended
			restricted
			when (FileCreationRowDetailExtendsThisRowRel exists)
		
		LinkedRowIsExtended
			restricted
			when (LinkedRow entered
			and	  LinkedRow.FileCreationRowDetailExtendsThisRowRel exists)
		
		IsAOneToManyRow
			restricted
			when (OneToMany
			or	  LinkedRow.OneToMany)
			
		FileTypeIsFixedLength
			restricted
			when (FileCreationSetup.FileType.FixedLength)	

		FileTypeIsSeparated
			restricted
			when (FileCreationSetup.FileType.Separated)
		
		HasColumnTotal
			restricted
			when (any FileCreationColumnDetailRel.TotalThisColumn)
			
		DisplayConditionsPanel
			restricted
			when (not RowExtendsOneToManyRow)
			
		DisplayOneToManyConditionsPanel
			restricted
			when (FileCreationSetup.SupportsOneToMany
			and   not Subtotal)
			
		RowMakesUseOfTotaling
			restricted
			when (HasColumnTotal
			or    any FileCreationColumnDetailRel.TotalForRow entered)
			
		CopyRowValid
			restricted
			when (not FileCreationSetup.AtLeastOneRowHasColumnsWithAdditionalRowMappings
			and   not Subtotal)
			
		RowConditionsExist 
			when ((CompareField1 entered
			or 	   CompareField2 entered)
			and   not RowExtendsOneToManyRow)
		
		BothRowConditionsExist 
			restricted
			when (CompareField1 entered
			and   CompareField2 entered
			and   not RowExtendsOneToManyRow)
		
		ExtendedRowConditionsExist 
			when (ExtendedCompareField1 entered
			or    ExtendedCompareField2 entered)

		BothExtendedRowConditionsExist 
			restricted
			when (ExtendedCompareField1 entered
			and   ExtendedCompareField2 entered)
		
		OTMRowConditionsExist 
			when ((OneToManyCompareField1 entered
			or     OneToManyCompareField2 entered)
			and   not RowExtendsOneToManyRow)
		
		BothOTMRowConditionsExist 
			restricted
			when (OneToManyCompareField1 entered
			and   OneToManyCompareField2 entered
			and   not RowExtendsOneToManyRow)
			
	Relations
		FileCreationRowDetailRowOrderRel
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses ByRowOrder
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
				related.RowOrder			= RowOrder
			Instance Selection
				where (related.FileCreationRowDetail not = FileCreationRowDetail)
							
		FileCreationRowDetailHeaderRel	
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses ByHeader
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
				related.Header				= true
			Instance Selection
				where (related.FileCreationRowDetail not = FileCreationRowDetail)
				
		FileCreationRowDetailTrailerRel	
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses ByTrailer
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
				related.Trailer				= true
			Instance Selection
				where (related.FileCreationRowDetail not = FileCreationRowDetail)
				
		FileCreationRowDetailOtherRel
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
			Instance Selection
				where (related.FileCreationRowDetail not = FileCreationRowDetail
				and	   not related.Header
				and	   not related.Trailer)
							
		FileCreationRowDetailLastRowOrderRel
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses ByRowOrder
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
			Instance Selection
				where (related.RowOrder not = 9999)
				
		FileCreationRowDetailExtendsThisRowRel
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses ByExtendsOneToManyRow
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
				related.ExtendsOneToManyRow = FileCreationRowDetail
		
		FileCreationRowDetailExtendsThisRowWithOnlyWriteRowIfMappedFieldChangedRel
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses ByExtendsOneToManyRow
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
				related.ExtendsOneToManyRow = FileCreationRowDetail
			Instance Selection
				where (related.OnlyWriteRowIfMappedFieldChanged)
				
		FileCreationRowDetailBeingExtendedRel
			one-to-one relation to FileCreationRowDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
				related.FileCreationRowDetail = ExtendsOneToManyRow
				
		FileCreationRowDetailLinkedExtendsRel
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses ByExtendsOneToManyRow
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FileCreationSetup	= FileCreationSetup
			Instance Selection
				where (related.FileCreationRowDetail not = FileCreationRowDetail
				and	   related.LinkedRow = LinkedRow.ExtendsOneToManyRow
				and	   related.LinkedRow.ExtendsOneToManyRow entered)
				
		FileCreationColumnDetailRel
			one-to-many relation to FileCreationColumnDetail
			delete cascades
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				related.FileCreationSetup = FileCreationSetup
				related.FileCreationRowDetail = FileCreationRowDetail
				
		ExtendedFileCreationColumnDetailRel
			one-to-many relation to FileCreationColumnDetail
			delete cascades
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				related.FileCreationSetup = FileCreationSetup
				related.FileCreationRowDetail = ExtendedFileCreationRowDetail

		FileCreationColumnDetailDescendingEndPositionRel
			one-to-many relation to FileCreationColumnDetail
			Field Mapping uses ByDescendingEndPosition
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.FileCreationSetup		= FileCreationSetup
				related.FileCreationRowDetail	= FileCreationRowDetail

		LinkedSetupRel
			one-to-many relation to FileCreationSetup
			Field Mapping uses ByExportFile
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				related.ExportFile = FileCreationSetup.ExportFile
			Instance Selection
				where (not related.FileCreationSetup = FileCreationSetup)
							
		LinkedRowRel
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				related.FileCreationSetup = LinkedSetup
				related.FileCreationRowDetail = LinkedRow
			Instance Selection
				where (related.FileCreationRowDetail.Linked)
				
		FileCreationColumnDetailAndLinkedColumnRel
			one-to-many relation to FileCreationColumnDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup        = FinanceEnterpriseGroup
				related.FileCreationSetup     = DerivedFileCreationSetup
				related.FileCreationRowDetail = DerivedFileCreationRowDetail
				
		RowIsLinkedRel
			one-to-many relation to FileCreationRowDetail
			Field Mapping uses ByLinkedSetup
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				related.LinkedSetup    = FileCreationSetup
			Instance Selection
				where (related.LinkedRow = FileCreationRowDetail)
				
		FileCreationColumnDetailOTMRel
			one-to-many relation to FileCreationColumnDetail
			delete cascades
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		  = FinanceEnterpriseGroup
				related.FileCreationSetup 	  = FileCreationSetup
				related.FileCreationRowDetail = FileCreationRowDetail
			Instance Selection
				where (related.FileCreationColumnDetail.OneToMany)
		
		FileCreationDataMappingRel
			one-to-many relation to FileCreationDataMapping
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup				= FinanceEnterpriseGroup
				related.FileCreationSetup			= FileCreationSetup
				related.FileCreationRowDetail		= FileCreationRowDetail
				related.FileCreationColumnDetail	= LocalColumn
				
		FileCreationRowMappingCacheRel
			one-to-one relation to FileCreationRowMappingCache
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup				= FinanceEnterpriseGroup
				related.FileCreationSetup 			= FileCreationSetup
				related.FileCreationRowMappingCache = RowOrder

	Field Rules
		Description
			required
			
		RowOrder
			required
			constraint (RowOrder >= 0)
                "ValueMustBeAPositiveNumber" 			
			constraint (FileCreationRowDetailRowOrderRel not exist)
				"RowOrderIsAlreadyAssignedToAnotherRow"

			default to NextRowOrder
								
		Trailer	
			constraint (not Header)
				"TrailerCannotBeSelectedIfHeaderIsSelected"
				
		OneToMany
			constraint (not Header)
				"OneToManyCannotBeSelectedIfHeaderIsSelected"
			
			constraint (OneToManyBusinessClassPayablesInvoice entered
			or			OneToManyBusinessClassGeneralLedgerChartAccount entered
			or			OneToManyBusinessClassAsset entered
			or			OneToManyBusinessClassBinGroup entered
			or 			OneToManyBusinessClassContract entered
			or          OneToManyBusinessClassPurchaseOrder entered
			or          OneToManyBusinessClassVendor entered)
				"OneToManyBusinessClassMustBeEnteredIfOneToManyIsSelected"
				
			if (OneToMany changed
			and !OneToMany)	
				constraint (FileCreationColumnDetailOTMRel not exists)
					"OneToManyColumnMappingsExist"
					
		OneToManyBusinessClassPayablesInvoice
			if (not OneToMany)
				OneToManyBusinessClassPayablesInvoice = ""
					
			constraint (OneToMany)
				"OneToManyBusinessClassCanOnlyBeSelectedIfOneToManyIsSelected"

			constraint (not Header)
				"OneToManyBusinessClassCannotBeSelectedIfHeaderIsSelected"
													
			constraint (not Trailer)
				"OneToManyBusinessClassCannotBeSelectedIfTrailerIsSelected"
		
		OneToManyBusinessClassGeneralLedgerChartAccount
			if (not OneToMany)
				OneToManyBusinessClassGeneralLedgerChartAccount = ""
					
			constraint (OneToMany)
				"OneToManyBusinessClassCanOnlyBeSelectedIfOneToManyIsSelected"

			constraint (not Header)
				"OneToManyBusinessClassCannotBeSelectedIfHeaderIsSelected"
													
			constraint (not Trailer)
				"OneToManyBusinessClassCannotBeSelectedIfTrailerIsSelected"

		OneToManyBusinessClassAsset
			if (not OneToMany)
				OneToManyBusinessClassAsset = ""
					
			constraint (OneToMany)
				"OneToManyBusinessClassCanOnlyBeSelectedIfOneToManyIsSelected"

			constraint (not Header)
				"OneToManyBusinessClassCannotBeSelectedIfHeaderIsSelected"
													
			constraint (not Trailer)
				"OneToManyBusinessClassCannotBeSelectedIfTrailerIsSelected"

		OneToManyBusinessClassBinGroup
			if (not OneToMany)
				OneToManyBusinessClassBinGroup = ""
					
			constraint (OneToMany)
				"OneToManyBusinessClassCanOnlyBeSelectedIfOneToManyIsSelected"

			constraint (not Header)
				"OneToManyBusinessClassCannotBeSelectedIfHeaderIsSelected"
													
			constraint (not Trailer)
				"OneToManyBusinessClassCannotBeSelectedIfTrailerIsSelected"

		OneToManyBusinessClassContract
			if (not OneToMany)
				OneToManyBusinessClassContract = ""
					
			constraint (OneToMany)
				"OneToManyBusinessClassCanOnlyBeSelectedIfOneToManyIsSelected"

			constraint (not Header)
				"OneToManyBusinessClassCannotBeSelectedIfHeaderIsSelected"
													
			constraint (not Trailer)
				"OneToManyBusinessClassCannotBeSelectedIfTrailerIsSelected"
		
		OneToManyBusinessClassPurchaseOrder
			if (not OneToMany)
				OneToManyBusinessClassPurchaseOrder = ""
					
			constraint (OneToMany)
				"OneToManyBusinessClassCanOnlyBeSelectedIfOneToManyIsSelected"

			constraint (not Header)
				"OneToManyBusinessClassCannotBeSelectedIfHeaderIsSelected"
													
			constraint (not Trailer)
				"OneToManyBusinessClassCannotBeSelectedIfTrailerIsSelected"

		OneToManyBusinessClassVendor
			if (not OneToMany)
				OneToManyBusinessClassVendor = ""
					
			constraint (OneToMany)
				"OneToManyBusinessClassCanOnlyBeSelectedIfOneToManyIsSelected"

			constraint (not Header)
				"OneToManyBusinessClassCannotBeSelectedIfHeaderIsSelected"
													
			constraint (not Trailer)
				"OneToManyBusinessClassCannotBeSelectedIfTrailerIsSelected"

		DCKey
			cannot be changed
			
					
		LinkedSetup
			constraint (LinkedSetupMatches)
				"LinkedSetupMustUseSameExportFile"
			constraint (FileCreationColumnDetailRel not exists)
				"CannotLinkRowIfMappingsAlreadyExist"
			constraint (LinkedRow entered)
				"MustEnterLinkedRow"
			constraint (LinkedSetup.FileType = FileCreationSetup.FileType)
				"LinkedSetupMustHaveTheSameFileType"
			constraint (LinkedSetup != FileCreationSetup)
				"CannotLinkToTheCurrentSetup"
				
		LinkedRow
			constraint (not LinkedRow.RowMakesUseOfTotaling)
				"CannotLinkToRowThatMakesUseOfTotaling"
			constraint (!FileCreationRowDetailEqualsLinkedRow)
				"CannotLinkRowToItself"
			constraint (LinkedRowRel not exists)
				"RowSelectedCannotBeLinkedToAnotherRow"
			constraint (FileCreationColumnDetailRel not exists)
				"CannotLinkRowIfMappingsAlreadyExist"
			constraint (LinkedSetup entered)
				"MustEnterLinkedSetup"
				
		ExtendsOneToManyRow
			constraint (OneToMany
			or			LinkedRow.OneToMany
			or			ExtendsOneToManyRow.LinkedRow.OneToMany)
				"OnlyOneToManyRowsCanBeExtended"

		CompareField1
			constraint(RowCondition1.CompareFile entered)
				"EnterValueFor_Compare_File"
			
			if(RowCondition1.CompareFile entered
			and RowCondition1.FieldDataType entered)
				required
					"Condition_FieldIsRequired"
					
		ComparedToField1

			if(RowCondition1.CompareFile entered
			and RowCondition1.CompareType.Field			
			and (not RowCondition1.CompareOperator.Entered
			or  not RowCondition1.CompareOperator.NotEntered))
				required
					"Compared_To_Field1_IsRequired"
			
			if (not RowCondition1.CompareType.Field
			or  RowCondition1.CompareOperator.Entered
			or  RowCondition1.CompareOperator.NotEntered)
				initialize ComparedToField1

		CompareField2
			constraint(RowCondition2.CompareFile entered)
				"EnterValueFor_Compare_File"
			
			if(RowCondition2.CompareFile entered
			and RowCondition2.FieldDataType entered)
				required
					"Condition_FieldIsRequired"
			
		ComparedToField2
			if(RowCondition2.CompareFile entered
			and RowCondition2.CompareType.Field	
			and (not RowCondition2.CompareOperator.Entered
			or  not RowCondition2.CompareOperator.NotEntered))
				required
					"Compared_To_Field2_IsRequired"
			
			if (not RowCondition2.CompareType.Field
			or  RowCondition2.CompareOperator.Entered
			or  RowCondition2.CompareOperator.NotEntered)
				initialize ComparedToField2

		OneToManyCompareField1
			constraint(OneToMany or LinkedRow.OneToMany)
				"Condition_FieldCannotBeEnteredIfOne_To_ManyIsNotSelected"
			constraint(OneToManyCondition1.FieldDataType entered)
				"Data_TypeIsRequired"
				
			if(OneToManyCondition1.FieldDataType entered)
				required
					"Condition_FieldIsRequired"

					
		OneToManyComparedToField1			
			if(OneToManyCondition1.CompareType.Field
			and (not OneToManyCondition1.CompareOperator.Entered
			or  not OneToManyCondition1.CompareOperator.NotEntered))
				required
					"OTM_Compared_To_Field1IsRequired"
				
			if (not OneToManyCondition1.CompareType.Field
			or  OneToManyCondition1.CompareOperator.Entered
			or  OneToManyCondition1.CompareOperator.NotEntered)
				initialize OneToManyComparedToField1

		OneToManyCompareField2
			constraint(OneToMany or LinkedRow.OneToMany)
				"Condition_FieldCannotBeEnteredIfOne_To_ManyIsNotSelected"
			constraint(OneToManyCondition2.FieldDataType entered)
				"Data_TypeIsRequired"
				
			if(OneToManyCondition2.FieldDataType entered)
				required
					"Condition_FieldIsRequired"
								
		OneToManyComparedToField2			
			if(OneToManyCondition2.CompareType.Field
			and (not OneToManyCondition2.CompareOperator.Entered
			or  not OneToManyCondition2.CompareOperator.NotEntered))
				required
					"OTM_Compared_To_Field2IsRequired"
				
			if (not OneToManyCondition2.CompareType.Field
			or  OneToManyCondition2.CompareOperator.Entered
			or  OneToManyCondition2.CompareOperator.NotEntered)
				initialize OneToManyComparedToField2

		ExtendedCompareField1
			constraint(ExtendedCondition1.FieldDataType entered)
				"Data_TypeIsRequired"
				
			if(ExtendedCondition1.FieldDataType entered)
				required
					"Extended_Condition_FieldIsRequired"

		ExtendedComparedToField1
			if(ExtendedCondition1.FieldDataType entered
			and ExtendedCondition1.CompareType.Field	
			and (not ExtendedCondition1.CompareOperator.Entered
			or  not ExtendedCondition1.CompareOperator.NotEntered))
				required
					"Extended_Compared_To_Field1_IsRequired"
			
			if (not ExtendedCondition1.CompareType.Field
			or  ExtendedCondition1.CompareOperator.Entered
			or  ExtendedCondition1.CompareOperator.NotEntered)
				initialize ExtendedComparedToField1

		ExtendedCompareField2
			constraint(ExtendedCondition2.FieldDataType entered)
				"Data_TypeIsRequired"
				
			if(ExtendedCondition2.FieldDataType entered)
				required
					"Extended_Condition_FieldIsRequired"			

		ExtendedComparedToField2
			if(ExtendedCondition2.FieldDataType entered
			and ExtendedCondition2.CompareType.Field
			and (not ExtendedCondition2.CompareOperator.Entered
			or  not ExtendedCondition2.CompareOperator.NotEntered))
				required
					"Extended_Compared_To_Field2IsRequired"
			
			if (not ExtendedCondition2.CompareType.Field
			or  ExtendedCondition2.CompareOperator.Entered
			or  ExtendedCondition2.CompareOperator.NotEntered)
				initialize ExtendedComparedToField2

		OnlyWriteRowIfMappedFieldChanged
			constraint (FileCreationSetup.UseAuditInformation)
				"Only_Write_Row_If_Mapped_Field_ChangedOptionIsNotValidWhenSetupIsNotUsingAuditInformation"

	Sets
		ByRowOrder
			indexed
			Sort Order
				FinanceEnterpriseGroup
				FileCreationSetup
				RowOrder
				FileCreationRowDetail

		ByHeader
			indexed
			Sort Order
				FinanceEnterpriseGroup
				FileCreationSetup
				Header
				FileCreationRowDetail
				
		ByTrailer
			indexed
			Sort Order
				FinanceEnterpriseGroup
				FileCreationSetup
				Trailer
				FileCreationRowDetail
				
		ByDCKey
			indexed
			Sort Order
				FinanceEnterpriseGroup
				FileCreationSetup
				DCKey
				FileCreationRowDetail
				
		ByLinkedSetup
			Sort Order
				FinanceEnterpriseGroup
				LinkedSetup
				FileCreationSetup
				FileCreationRowDetail

		ByExtendsOneToManyRow
			Sort Order
				FinanceEnterpriseGroup
				FileCreationSetup
				ExtendsOneToManyRow
				RowOrder
				FileCreationRowDetail

	Rule Blocks
		CreateColumn
			if ({FieldSelection})
				if (LocalFieldSize not entered)
					if ({FieldDataType} = 4)			
						LocalFieldSize	= 8		// "20180425"
					else
					if ({FieldDataType} = 5)			
						LocalFieldSize	= 8		// "14004824"
					else
					if ({FieldDataType} = 6)			
						LocalFieldSize	= 5		// "false"
					else
					if ({FieldDataType} = 8)			
						LocalFieldSize	= 16	// "2019042514004824"
					else
						LocalFieldSize	= 20
				invoke Create FileCreationColumnDetail
					invoked.FileCreationRowDetail = FileCreationRowDetail
					invoked.FieldName = LocalName
					invoked.Description = LocalName
					invoked.SourceFields = LocalSourceField
					if ({OneToManyField})
						invoked.OneToMany = true
					else
						invoked.OneToMany = false
					invoked.ColumnOrder = ColumnOrder
					invoked.FieldDataType = {FieldDataType}
					invoked.InputOption = 1
					if (FileCreationSetup.FileType.FixedLength)
						invoked.FixedLengthFieldRange.BeginPosition = ColumnPosition
						invoked.FixedLengthFieldRange.EndPosition	= ColumnPosition + LocalFieldSize - 1
					fill in fields from this instance
						except invoked.OneToMany
				ColumnOrder +=1
				ColumnPosition += LocalFieldSize
			initialize LocalFieldSize

		CreateAlphaColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 1
				replace OneToManyField with false

		CreateNumericColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 2
				replace OneToManyField with false

		CreateDecimalColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 3
				replace OneToManyField with false

		CreateDateColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 4
				replace OneToManyField with false

		CreateTimeColumn 
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 5
				replace OneToManyField with false
				
		CreateBooleanColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 6
				replace OneToManyField with false

		CreateTextColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 7
				replace OneToManyField with false
				
		CreateTimeStampColumn 
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 8
				replace OneToManyField with false

		CreateOTMAlphaColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 1
				replace OneToManyField with true

		CreateOTMNumericColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 2
				replace OneToManyField with true

		CreateOTMDecimalColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 3
				replace OneToManyField with true

		CreateOTMDateColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 4
				replace OneToManyField with true

		CreateOTMTimeColumn 
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 5
				replace OneToManyField with true

		CreateOTMBooleanColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 6
				replace OneToManyField with true

		CreateOTMTextColumn
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 7
				replace OneToManyField with true
				
		CreateOTMTimeStampColumn  
			include CreateColumn
				replace FieldSelection with	{FieldSelection}
				replace FieldDataType with 8
				replace OneToManyField with true

		InitializeAddFields
			SeqRowOrder = -1
			ColumnOrder		= FileCreationColumnDetailRel.NextColumnOrder
			ColumnPosition	= NextBeginPositionAdditionalRecords
			if (ColumnPosition = 0)
				ColumnPosition = 1
			LocalSourceBusinessClass = blank

			if (FileCreationSetup.ApplicationBusinessClass)
				LocalName			= "UpdateStamp"
				LocalSourceField	= "update stamp"
				include CreateTimeStampColumn
					replace FieldSelection with UpdateStamp

	Delete Rules
		if 	(FileCreationRowDetail.RowIsLinked)
			constraint (not RowIsLinked)
				"CannotDelete;RowIsBeingUsedAsALinkedRow"

		constraint (FileCreationRowDetailExtendsThisRowRel not exist)
			"CannotDelete;RowIsExtendedByOtherRows"

	
	Audit Entry Rules
		if (FileCreationSetup.UseDynamicRowProcessing
		and (FieldsNeededForRegenerateMappings changed
		or   action type.Delete
		or   action type.Create))
			if (!FileCreationSetup.RegenerateMappingsFlag.Needed)
				invoke SetRegenerateMappingsFlagToNeeded FileCreationSetup
			for each RowIsLinkedRel
				if (!each.FileCreationSetup.RegenerateMappingsFlag.Needed)
					invoke SetRegenerateMappingsFlagToNeeded each.FileCreationSetup

	Actions
		Create is a Create Action
		
			Action Rules
					
				if (not Header
				and not Trailer)
					constraint (not AnotherRowUsesAdditionalRowMappings)
						"IfADetailRowForThisSetupIsMappingAdditionalRecordsOnTheSameRow,NoAdditionalDetailRowsCanBeAdded"
		
		CreateRow is a Create Action
			default label is "Create"

			Action Rules
					
				if (not Header
				and not Trailer)
					constraint (not AnotherRowUsesAdditionalRowMappings)
						"IfADetailRowForThisSetupIsMappingAdditionalRecordsOnTheSameRow,NoAdditionalDetailRowsCanBeAdded"
				
		ImportCreate is a Create Action
			restricted
			bypass field rules
							
		Update is an Update Action
			Action Rules
				if (Description changed
				or	RowOrder changed
				or	Header changed
				or	Trailer changed
				or	OneToMany changed
				or	OneToManyBusinessClassPayablesInvoice changed
				or 	OneToManyBusinessClassGeneralLedgerChartAccount changed
				or  OneToManyBusinessClassAsset changed
				or  OneToManyBusinessClassBinGroup changed
				or  OneToManyBusinessClassContract changed
				or  OneToManyBusinessClassPurchaseOrder changed
				or  OneToManyBusinessClassVendor changed
				or	IncludeInRecordCount1 changed
				or	IncludeInRecordCount2 changed
				or	IncludeInRecordCount3 changed
				or	IncludeInRecordCount4 changed
				or	IncludeInRecordCount5 changed
				or	IncludeInRecordCount6 changed)
					RecordHasBeenChanged = true
				SeqRowOrder = -1

				if ((Header changed
				and	 not Header)
				or  (Trailer changed
				and  not Trailer))
					constraint (not AnotherRowUsesAdditionalRowMappings)
						"IfADetailRowForThisSetupIsMappingAdditionalRecordsOnTheSameRow,NoAdditionalDetailRowsCanBeAdded"
						
				if ((OneToManyBusinessClassPayablesInvoice entered
				and OneToManyBusinessClassPayablesInvoice changed)
				or (OneToManyBusinessClassGeneralLedgerChartAccount entered
				and OneToManyBusinessClassGeneralLedgerChartAccount changed)
				or (OneToManyBusinessClassAsset entered
				and OneToManyBusinessClassAsset changed)
				or (OneToManyBusinessClassBinGroup entered
				and OneToManyBusinessClassBinGroup changed)
				or (OneToManyBusinessClassContract entered
				and OneToManyBusinessClassContract changed)
				or (OneToManyBusinessClassPurchaseOrder entered
				and OneToManyBusinessClassPurchaseOrder changed)
				or (OneToManyBusinessClassVendor entered
				and OneToManyBusinessClassVendor changed))
					confirmation required
						"ChangingThe_One_To_ManyBusinessClassMayImpactTheMappingOfTheRow;_Continue?"

		ImportUpdate is an Update Action
			restricted
			bypass field rules
			Action Rules
				SeqRowOrder = -1 
							
		DataLoadUpdate is an Update Action
			restricted
												
		Delete is a Delete Action
			Exit Rules		
				if (not FileCreationSetup.MappingsExist)
					invoke Update FileCreationSetup
						invoked.Active = false			

		CreateExtendedRow is an Instance Action
			valid when (CreateExtendedRowIsValid)
			
			Parameters
				NewDescription				is Alpha size 60
					default label is "Description"
		    	NewRowOrder					is Numeric 4
					default label is "RowOrder"
				NewIncludeInRecordCount1	is Boolean
					default label is "RecordCount1"
		    	NewIncludeInRecordCount2	is Boolean
					default label is "RecordCount2"
		    	NewIncludeInRecordCount3	is Boolean
					default label is "RecordCount3"
				NewIncludeInRecordCount4	is Boolean
					default label is "RecordCount4"
		    	NewIncludeInRecordCount5	is Boolean
					default label is "RecordCount5"
		    	NewIncludeInRecordCount6	is Boolean
					default label is "RecordCount6"	

				NewExtendedCondition1		is a RowCondition
					default label is "ExtendedCondition1"
				NewExtendedCompareField1	is Alpha 100
					is related value for OTMRelatedValueBusinessClass
					default label is "Field"
				NewExtendedComparedToField1	is Alpha 100
					is related value for OTMRelatedValueBusinessClass
				NewExtendedCondition2		is a RowCondition
					default label is "ExtendedCondition2"
				NewExtendedCompareField2	is Alpha 100
					is related value for OTMRelatedValueBusinessClass
					default label is "Field"
				NewExtendedComparedToField2	is Alpha 100
					is related value for OTMRelatedValueBusinessClass
				NewExtendedRowConditionOperator 		is Numeric 1
					default label is "ExtendedRowConditionOperator"
					States
						And						value is 0
						Or						value is 1
					

			Parameter Rules
				NewDescription
					initial value is Description
					
				NewRowOrder
					initial value is NextRowOrder
														
				NewIncludeInRecordCount1
					initial value is IncludeInRecordCount1

				NewIncludeInRecordCount2
					initial value is IncludeInRecordCount2

				NewIncludeInRecordCount3
					initial value is IncludeInRecordCount3
					
				NewIncludeInRecordCount4
					initial value is IncludeInRecordCount4

				NewIncludeInRecordCount5
					initial value is IncludeInRecordCount5

				NewIncludeInRecordCount6
					initial value is IncludeInRecordCount6
					
				NewExtendedCondition1
					initial value is ExtendedCondition1
					
					if (NewExtendedCondition1.CompareFile not entered
					and NewExtendedCompareField1 entered)
						
						NewExtendedCondition1.CompareFile = 1
						
					LocalRowCondition1.CompareFile = NewExtendedCondition1.CompareFile
					
				NewExtendedCompareField1
					initial value is ExtendedCompareField1
					
					constraint(NewExtendedCondition1.FieldDataType entered)
						"Data_TypeIsRequired"
						
					if(NewExtendedCondition1.FieldDataType entered)
						required
							"Extended_Condition_FieldIsRequired"
						
					
				NewExtendedCondition2
					initial value is ExtendedCondition2
					
					if (NewExtendedCondition2.CompareFile not entered
					and NewExtendedCompareField2 entered)
					
						NewExtendedCondition2.CompareFile = 1
					
					LocalRowCondition2.CompareFile = NewExtendedCondition2.CompareFile
					
				NewExtendedCompareField2
					initial value is ExtendedCompareField2
					
					constraint(NewExtendedCondition2.FieldDataType entered)
						"Data_TypeIsRequired"
					
					if(NewExtendedCondition2.FieldDataType entered)
						required
							"Extended_Condition_FieldIsRequired"
						
				
				NewExtendedRowConditionOperator
					initial value is ExtendedRowConditionOperator

				NewExtendedComparedToField1
					initial value is ExtendedComparedToField1

					if(NewExtendedCondition1.CompareFile entered
					and NewExtendedCondition1.CompareType.Field
					and (not ExtendedCondition1.CompareOperator.Entered
					or not ExtendedCondition1.CompareOperator.NotEntered))
						required
							"New_Extended_Compared_To_Field1_IsRequired"
			
					if (not ExtendedCondition1.CompareType.Field
					or  ExtendedCondition1.CompareOperator.Entered
					or  ExtendedCondition1.CompareOperator.NotEntered)
						initialize ExtendedComparedToField1

				NewExtendedComparedToField2
					initial value is ExtendedComparedToField2

					if(NewExtendedCondition2.CompareFile entered
					and NewExtendedCondition2.CompareType.Field
					and (not ExtendedCondition2.CompareOperator.Entered
					or not ExtendedCondition2.CompareOperator.NotEntered))
						required
							"New_Extended_Compared_To_Field2_IsRequired"
			
					if (not ExtendedCondition2.CompareType.Field
					or  ExtendedCondition2.CompareOperator.Entered
					or  ExtendedCondition2.CompareOperator.NotEntered)
						initialize ExtendedComparedToField2

			Action Rules
					
				invoke Create FileCreationRowDetail
					invoked.FinanceEnterpriseGroup										= FinanceEnterpriseGroup
					invoked.FileCreationSetup									= FileCreationSetup
					invoked.Description											= NewDescription
					invoked.RowOrder											= NewRowOrder
					invoked.ExtendsOneToManyRow									= FileCreationRowDetail
					invoked.IncludeInRecordCount1								= NewIncludeInRecordCount1		
					invoked.IncludeInRecordCount2								= NewIncludeInRecordCount2		
					invoked.IncludeInRecordCount3								= NewIncludeInRecordCount3
					invoked.IncludeInRecordCount4								= NewIncludeInRecordCount4		
					invoked.IncludeInRecordCount5								= NewIncludeInRecordCount5		
					invoked.IncludeInRecordCount6								= NewIncludeInRecordCount6

					invoked.ExtendedCondition1									= NewExtendedCondition1
					invoked.ExtendedCompareField1								= NewExtendedCompareField1
					invoked.ExtendedComparedToField1							= NewExtendedComparedToField1
					invoked.ExtendedCondition2									= NewExtendedCondition2
					invoked.ExtendedCompareField2								= NewExtendedCompareField2
					invoked.ExtendedComparedToField2							= NewExtendedComparedToField2
					invoked.ExtendedRowConditionOperator						= NewExtendedRowConditionOperator

					if (LinkedRow not entered)
						invoked.OneToMany											= OneToMany
						invoked.OneToManyBusinessClassPayablesInvoice				= OneToManyBusinessClassPayablesInvoice		
						invoked.OneToManyBusinessClassGeneralLedgerChartAccount		= OneToManyBusinessClassGeneralLedgerChartAccount
						invoked.OneToManyBusinessClassAsset							= OneToManyBusinessClassAsset
						invoked.OneToManyBusinessClassBinGroup						= OneToManyBusinessClassBinGroup
						invoked.OneToManyBusinessClassContract						= OneToManyBusinessClassContract
						invoked.OneToManyBusinessClassPurchaseOrder					= OneToManyBusinessClassPurchaseOrder
						invoked.OneToManyBusinessClassVendor						= OneToManyBusinessClassVendor	
						invoked.OneToManySequenceNumberStartingValue				= OneToManySequenceNumberStartingValue
					else
						invoked.OneToMany											= LinkedRow.OneToMany
						invoked.OneToManyBusinessClassPayablesInvoice				= LinkedRow.OneToManyBusinessClassPayablesInvoice
						invoked.OneToManyBusinessClassGeneralLedgerChartAccount		= LinkedRow.OneToManyBusinessClassGeneralLedgerChartAccount
						invoked.OneToManyBusinessClassAsset							= LinkedRow.OneToManyBusinessClassAsset
						invoked.OneToManyBusinessClassBinGroup						= LinkedRow.OneToManyBusinessClassBinGroup
						invoked.OneToManyBusinessClassContract						= LinkedRow.OneToManyBusinessClassContract
						invoked.OneToManyBusinessClassPurchaseOrder					= LinkedRow.OneToManyBusinessClassPurchaseOrder
						invoked.OneToManyBusinessClassVendor						= LinkedRow.OneToManyBusinessClassVendor
						invoked.OneToManySequenceNumberStartingValue				= LinkedRow.OneToManySequenceNumberStartingValue
					
					invoked.DoNotResetOneToManySequenceNumber					= DoNotResetOneToManySequenceNumber
					invoked.RowCondition1										= RowCondition1
					invoked.CompareField1										= CompareField1
					invoked.ComparedToField1									= ComparedToField1
					invoked.RowCondition2										= RowCondition2
					invoked.CompareField2										= CompareField2
					invoked.ComparedToField2									= ComparedToField2
					invoked.RowConditionOperator								= RowConditionOperator
					invoked.OneToManyCondition1									= OneToManyCondition1
					invoked.OneToManyCompareField1								= OneToManyCompareField1
					invoked.OneToManyComparedToField1							= OneToManyComparedToField1
					invoked.OneToManyCondition2									= OneToManyCondition2
					invoked.OneToManyCompareField2								= OneToManyCompareField2
					invoked.OneToManyComparedToField2							= OneToManyComparedToField2
					invoked.OneToManyRowConditionOperator						= OneToManyRowConditionOperator
			
		CopyRow is an Instance Action
			valid when (CopyRowValid)
			
			Parameters
				NewDescription				is Alpha size 60
					default label is "Description"
		    	NewRowOrder					is Numeric 4
					default label is "RowOrder"
				NewHeader					is Boolean
					default label is "Header"
				NewTrailer					is Boolean
					default label is "Trailer"
		    	NewOneToMany				is Boolean
					default label is "OneToMany"
		    	NewOneToManyBusinessClassPayablesInvoice	is a OneToManyBusinessClassPayablesInvoice
					default label is "OneToManyBusinessClass"
		    	NewOneToManyBusinessClassGeneralLedgerChartAccount	is a OneToManyBusinessClassGeneralLedgerChartAccount
					default label is "OneToManyBusinessClass"
				NewOneToManyBusinessClassAsset			is a OneToManyBusinessClassAsset
					default label is "OneToManyBusinessClass"
				NewOneToManyBusinessClassBinGroup		is a OneToManyBusinessClassBinGroup
					default label is "OneToManyBusinessClass"
				NewOneToManyBusinessClassContract		is a OneToManyBusinessClassContract
					default label is "OneToManyBusinessClass"
				NewOneToManyBusinessClassPurchaseOrder	is a OneToManyBusinessClassPurchaseOrder
					default label is "OneToManyBusinessClass"
				NewOneToManyBusinessClassVendor			is a OneToManyBusinessClassVendor
					default label is "OneToManyBusinessClass"
				NewOneToManySequenceNumberStartingValue	is Numeric 1
					States
						0		value is 0
						1		value is 1
					default label is "OneToManySequenceNumberStartingValue"
				NewDoNotResetOneToManySequenceNumber	is Boolean
					default label is "DoNotResetOneToManySequenceNumber"
				NewRowCondition1			is a RowCondition
				NewCompareField1			is Alpha 100
					is related value for RelatedValueBusinessClass1
					default label is "Field"
				NewComparedToField1			is Alpha 100
					is related value for RelatedValueBusinessClass1
				NewRowCondition2			is a RowCondition
				NewCompareField2			is Alpha 100
					is related value for RelatedValueBusinessClass1
					default label is "Field"
				NewComparedToField2			is Alpha 100
					is related value for RelatedValueBusinessClass1
				NewRowConditionOperator 		is Numeric 1
					States
						And						value is 0
						Or						value is 1
				NewOneToManyCondition1			is a RowCondition
				NewOneToManyCompareField1		is Alpha 100
					is related value for OTMRelatedValueBusinessClass
					default label is "Field"
				NewOneToManyComparedToField1	is Alpha 100
					is related value for OTMRelatedValueBusinessClass
				NewOneToManyCondition2			is a RowCondition
				NewOneToManyCompareField2		is Alpha 100
					is related value for OTMRelatedValueBusinessClass
					default label is "Field"
				NewOneToManyComparedToField2	is Alpha 100
					is related value for OTMRelatedValueBusinessClass
				NewOneToManyRowConditionOperator 		is Numeric 1
					States
						And						value is 0
						Or						value is 1
				NewExtendedCondition1			is a RowCondition
				NewExtendedCompareField1		is Alpha 100
					is related value for OTMRelatedValueBusinessClass
					default label is "Field"
				NewExtendedComparedToField1		is Alpha 100
					is related value for OTMRelatedValueBusinessClass
				NewExtendedCondition2			is a RowCondition
				NewExtendedCompareField2		is Alpha 100
					is related value for OTMRelatedValueBusinessClass
					default label is "Field"
				NewExtendedComparedToField2		is Alpha 100
					is related value for OTMRelatedValueBusinessClass
				NewExtendedRowConditionOperator 		is Numeric 1
					States
						And						value is 0
						Or						value is 1
				NewIncludeInRecordCount1	is Boolean
					default label is "RecordCount1"
		    	NewIncludeInRecordCount2	is Boolean
					default label is "RecordCount2"
		    	NewIncludeInRecordCount3	is Boolean
					default label is "RecordCount3"
				NewIncludeInRecordCount4	is Boolean
					default label is "RecordCount4"
		    	NewIncludeInRecordCount5	is Boolean
					default label is "RecordCount5"
		    	NewIncludeInRecordCount6	is Boolean
					default label is "RecordCount6"
				NewOnlyWriteRowIfMappedFieldChanged	is Boolean
					default label is "OnlyWriteRowIfMappedFieldChanged"
				CopyColumn				is Boolean
				CopyDataMapping			is Boolean
				CopyExtendedRow			is Boolean
		    	
			Parameter Rules
				NewDescription
					initial value is Description
					
				NewRowOrder
					initial value is NextRowOrder
				
				NewOneToMany
					initial value is OneToMany

				NewOneToManyBusinessClassPayablesInvoice
					initial value is OneToManyBusinessClassPayablesInvoice
				
				NewOneToManyBusinessClassGeneralLedgerChartAccount
					initial value is OneToManyBusinessClassGeneralLedgerChartAccount

				NewOneToManyBusinessClassAsset
					initial value is OneToManyBusinessClassAsset
				
				NewOneToManyBusinessClassBinGroup
					initial value is OneToManyBusinessClassBinGroup

				NewOneToManyBusinessClassContract
					initial value is OneToManyBusinessClassContract
				
				NewOneToManyBusinessClassPurchaseOrder
					initial value is OneToManyBusinessClassPurchaseOrder

				NewOneToManyBusinessClassVendor
					initial value is OneToManyBusinessClassVendor

				NewOneToManySequenceNumberStartingValue
					initial value is OneToManySequenceNumberStartingValue
				
				NewDoNotResetOneToManySequenceNumber
					initial value is DoNotResetOneToManySequenceNumber
				
				NewRowCondition1
					initial value is RowCondition1
					
				NewCompareField1
					initial value is CompareField1
					
				NewRowCondition2
					initial value is RowCondition2
					
				NewCompareField2
					initial value is CompareField2
					
				NewRowConditionOperator
					initial value is RowConditionOperator
				
				NewComparedToField1
					initial value is ComparedToField1

				NewComparedToField2
					initial value is ComparedToField2

				NewOneToManyCondition1
					initial value is OneToManyCondition1
					
				NewOneToManyCompareField1
					initial value is OneToManyCompareField1
					
				NewOneToManyCondition2
					initial value is OneToManyCondition2
						
				NewOneToManyCompareField2
					initial value is OneToManyCompareField2
					
				NewOneToManyRowConditionOperator
					initial value is OneToManyRowConditionOperator

				NewOneToManyComparedToField1
					initial value is OneToManyComparedToField1

				NewOneToManyComparedToField2
					initial value is OneToManyComparedToField2

				NewExtendedCondition1
					initial value is ExtendedCondition1
					
				NewExtendedCompareField1
					initial value is ExtendedCompareField1
					
				NewExtendedCondition2
					initial value is ExtendedCondition2
					
				NewExtendedCompareField2
					initial value is ExtendedCompareField2
					
				NewExtendedRowConditionOperator
					initial value is ExtendedRowConditionOperator
					
				NewExtendedComparedToField1
					initial value is ExtendedComparedToField1

				NewExtendedComparedToField2
					initial value is ExtendedComparedToField2

				NewIncludeInRecordCount1
					initial value is IncludeInRecordCount1

				NewIncludeInRecordCount2
					initial value is IncludeInRecordCount2

				NewIncludeInRecordCount3
					initial value is IncludeInRecordCount3
					
				NewIncludeInRecordCount4
					initial value is IncludeInRecordCount4

				NewIncludeInRecordCount5
					initial value is IncludeInRecordCount5

				NewIncludeInRecordCount6
					initial value is IncludeInRecordCount6
				
				NewOnlyWriteRowIfMappedFieldChanged
					initial value is OnlyWriteRowIfMappedFieldChanged
				
				CopyColumn
					initial value is true
					
				CopyDataMapping
					initial value is true
					constraint(CopyColumn)
						"CopyColumnMustBeEnabledToCopyDataMapping"
						
				CopyExtendedRow
					initial value is true
			
			Action Rules
				if (not NewHeader
				and not NewTrailer)
					constraint (not AnotherRowUsesAdditionalRowMappings)
						"IfADetailRowForThisSetupIsMappingAdditionalRecordsOnTheSameRow,NoAdditionalDetailRowsCanBeAdded"
						
				if (NewExtendedCondition1.CompareFile not entered
				and NewExtendedCompareField1 entered)
					NewExtendedCondition1.CompareFile = 1
				if (NewExtendedCondition2.CompareFile not entered
				and NewExtendedCompareField2 entered)
					NewExtendedCondition2.CompareFile = 1

				invoke Create FileCreationRowDetail
					assign result to NewFileCreationRowDetail
					invoked.FinanceEnterpriseGroup										= FinanceEnterpriseGroup
					invoked.FileCreationSetup									= FileCreationSetup
					invoked.Description											= NewDescription
					invoked.RowOrder											= NewRowOrder
					invoked.LinkedSetup											= LinkedSetup
					invoked.LinkedRow											= LinkedRow
					
					if (LinkedRow not entered)
						invoked.OneToMany											= NewOneToMany
						invoked.OneToManyBusinessClassPayablesInvoice				= NewOneToManyBusinessClassPayablesInvoice		
						invoked.OneToManyBusinessClassGeneralLedgerChartAccount		= NewOneToManyBusinessClassGeneralLedgerChartAccount
						invoked.OneToManyBusinessClassAsset							= NewOneToManyBusinessClassAsset
						invoked.OneToManyBusinessClassBinGroup						= NewOneToManyBusinessClassBinGroup		
						invoked.OneToManyBusinessClassContract						= NewOneToManyBusinessClassContract
						invoked.OneToManyBusinessClassPurchaseOrder					= NewOneToManyBusinessClassPurchaseOrder
						invoked.OneToManyBusinessClassVendor						= NewOneToManyBusinessClassVendor
						invoked.OneToManySequenceNumberStartingValue				= NewOneToManySequenceNumberStartingValue
					else
						invoked.OneToMany											= LinkedRow.OneToMany
						invoked.OneToManyBusinessClassPayablesInvoice				= LinkedRow.OneToManyBusinessClassPayablesInvoice
						invoked.OneToManyBusinessClassGeneralLedgerChartAccount		= LinkedRow.OneToManyBusinessClassGeneralLedgerChartAccount
						invoked.OneToManyBusinessClassAsset							= LinkedRow.OneToManyBusinessClassAsset
						invoked.OneToManyBusinessClassBinGroup						= LinkedRow.OneToManyBusinessClassBinGroup
						invoked.OneToManyBusinessClassContract						= LinkedRow.OneToManyBusinessClassContract
						invoked.OneToManyBusinessClassPurchaseOrder					= LinkedRow.OneToManyBusinessClassPurchaseOrder
						invoked.OneToManyBusinessClassVendor						= LinkedRow.OneToManyBusinessClassVendor
						invoked.OneToManySequenceNumberStartingValue				= LinkedRow.OneToManySequenceNumberStartingValue
					
					invoked.DoNotResetOneToManySequenceNumber					= NewDoNotResetOneToManySequenceNumber
					invoked.RowCondition1										= NewRowCondition1
					invoked.CompareField1										= NewCompareField1
					invoked.ComparedToField1									= NewComparedToField1
					invoked.RowCondition2										= NewRowCondition2
					invoked.CompareField2										= NewCompareField2
					invoked.ComparedToField2									= NewComparedToField2
					invoked.RowConditionOperator								= NewRowConditionOperator
					invoked.OneToManyCondition1									= NewOneToManyCondition1
					invoked.OneToManyCompareField1								= NewOneToManyCompareField1
					invoked.OneToManyComparedToField1							= NewOneToManyComparedToField1
					invoked.OneToManyCondition2									= NewOneToManyCondition2
					invoked.OneToManyCompareField2								= NewOneToManyCompareField2
					invoked.OneToManyComparedToField2							= NewOneToManyComparedToField2
					invoked.OneToManyRowConditionOperator						= NewOneToManyRowConditionOperator
					
					if (ExtendsOneToManyRow entered)
						invoked.ExtendsOneToManyRow								= FileCreationRowDetailBeingExtendedRel.FileCreationRowDetail
					
					invoked.ExtendedCondition1 									= NewExtendedCondition1
					invoked.ExtendedCompareField1 								= NewExtendedCompareField1
					invoked.ExtendedComparedToField1 							= NewExtendedComparedToField1
					invoked.ExtendedCondition2 									= NewExtendedCondition2
					invoked.ExtendedCompareField2 								= NewExtendedCompareField2
					invoked.ExtendedComparedToField2 							= NewExtendedComparedToField2
					invoked.ExtendedRowConditionOperator						= NewExtendedRowConditionOperator
					invoked.IncludeInRecordCount1								= NewIncludeInRecordCount1		
					invoked.IncludeInRecordCount2								= NewIncludeInRecordCount2		
					invoked.IncludeInRecordCount3								= NewIncludeInRecordCount3
					invoked.IncludeInRecordCount4								= NewIncludeInRecordCount4		
					invoked.IncludeInRecordCount5								= NewIncludeInRecordCount5		
					invoked.IncludeInRecordCount6								= NewIncludeInRecordCount6
					invoked.Header												= NewHeader
					invoked.Trailer												= NewTrailer
					invoked.OnlyWriteRowIfMappedFieldChanged					= NewOnlyWriteRowIfMappedFieldChanged
				
				if (CopyExtendedRow)
					if (NewFileCreationRowDetail.FileCreationRowDetail entered
					and FileCreationRowDetailExtendsThisRowRel exists)
						for each FileCreationRowDetailExtendsThisRowRel
							invoke Create FileCreationRowDetail
								assign result to NewExtendedRow
								invoked.FinanceEnterpriseGroup										= each.FinanceEnterpriseGroup
								invoked.FileCreationSetup									= each.FileCreationSetup
								invoked.Description											= each.Description
								invoked.RowOrder											= NextRowOrder
								invoked.ExtendsOneToManyRow									= NewFileCreationRowDetail.FileCreationRowDetail
								invoked.OneToMany											= each.OneToMany
								invoked.OneToManyBusinessClassPayablesInvoice				= each.OneToManyBusinessClassPayablesInvoice	
								invoked.OneToManyBusinessClassGeneralLedgerChartAccount		= each.OneToManyBusinessClassGeneralLedgerChartAccount
								invoked.OneToManyBusinessClassAsset							= each.OneToManyBusinessClassAsset
								invoked.OneToManyBusinessClassBinGroup						= each.OneToManyBusinessClassBinGroup
								invoked.OneToManyBusinessClassContract						= each.OneToManyBusinessClassContract
								invoked.OneToManyBusinessClassPurchaseOrder					= each.OneToManyBusinessClassPurchaseOrder
								invoked.OneToManyBusinessClassVendor						= each.OneToManyBusinessClassVendor
								invoked.OneToManySequenceNumberStartingValue				= each.OneToManySequenceNumberStartingValue
								invoked.DoNotResetOneToManySequenceNumber					= each.DoNotResetOneToManySequenceNumber
								invoked.RowCondition1										= each.RowCondition1
								invoked.CompareField1										= each.CompareField1
								invoked.ComparedToField1									= each.ComparedToField1
								invoked.RowCondition2										= each.RowCondition2
								invoked.CompareField2										= each.CompareField2
								invoked.ComparedToField2									= each.ComparedToField2
								invoked.RowConditionOperator								= each.RowConditionOperator
								invoked.OneToManyCondition1									= each.OneToManyCondition1
								invoked.OneToManyCompareField1								= each.OneToManyCompareField1
								invoked.OneToManyComparedToField1							= each.OneToManyComparedToField1
								invoked.OneToManyCondition2									= each.OneToManyCondition2
								invoked.OneToManyCompareField2								= each.OneToManyCompareField2
								invoked.OneToManyComparedToField2							= each.OneToManyComparedToField2
								invoked.OneToManyRowConditionOperator						= each.OneToManyRowConditionOperator
								invoked.IncludeInRecordCount1								= each.IncludeInRecordCount1
								invoked.IncludeInRecordCount2								= each.IncludeInRecordCount2
								invoked.IncludeInRecordCount3								= each.IncludeInRecordCount3
								invoked.IncludeInRecordCount4								= each.IncludeInRecordCount4
								invoked.IncludeInRecordCount5								= each.IncludeInRecordCount5
								invoked.IncludeInRecordCount6								= each.IncludeInRecordCount6
								invoked.ExtendedCondition1									= each.ExtendedCondition1
								invoked.ExtendedCompareField1								= each.ExtendedCompareField1
								invoked.ExtendedComparedToField1							= each.ExtendedComparedToField1
								invoked.ExtendedCondition2									= each.ExtendedCondition2
								invoked.ExtendedCompareField2								= each.ExtendedCompareField2
								invoked.ExtendedComparedToField2							= each.ExtendedComparedToField2
								invoked.ExtendedRowConditionOperator						= each.ExtendedRowConditionOperator
								invoked.OnlyWriteRowIfMappedFieldChanged					= NewOnlyWriteRowIfMappedFieldChanged
													
							if (CopyColumn)
								ExtendedFileCreationRowDetail = each.FileCreationRowDetail
								for each ExtendedFileCreationColumnDetailRel 
									invoke Create FileCreationColumnDetail
										assign result to NewFileCreationColumnDetail
										fill in fields from each 
											except invoked.FileCreationRowDetail
											except invoked.DCKey
										invoked.FileCreationRowDetail				= NewExtendedRow.FileCreationRowDetail
									include FileGeneration.CommitCounter50
									if (CopyDataMapping)
										LocalColumn	= each.FileCreationColumnDetail									
										for each FileCreationDataMappingRel
											invoke Create FileCreationDataMapping
												fill in fields from each
													except invoked.FileCreationRowDetail
													except invoked.FileCreationColumnDetail
													except invoked.DCKey
												invoked.FileCreationRowDetail			= NewExtendedRow.FileCreationRowDetail
												invoked.FileCreationColumnDetail		= NewFileCreationColumnDetail.FileCreationColumnDetail
				
				if (CopyColumn)
					for each FileCreationColumnDetailRel
						invoke Create FileCreationColumnDetail
							assign result to NewFileCreationColumnDetail
							fill in fields from each 
								except invoked.FinanceEnterpriseGroup
								except invoked.FileCreationSetup
								except invoked.FileCreationRowDetail
								except invoked.DCKey
							invoked.FinanceEnterpriseGroup						= FinanceEnterpriseGroup
							invoked.FileCreationSetup					= FileCreationSetup
							invoked.FileCreationRowDetail				= NewFileCreationRowDetail.FileCreationRowDetail
						include FileGeneration.CommitCounter50	
						if (CopyDataMapping)
							LocalColumn	= each.FileCreationColumnDetail
							for each FileCreationDataMappingRel
								invoke Create FileCreationDataMapping
									fill in fields from each
										except invoked.FinanceEnterpriseGroup
										except invoked.FileCreationSetup
										except invoked.FileCreationRowDetail
										except invoked.FileCreationColumnDetail
										except invoked.DCKey
									invoked.FinanceEnterpriseGroup					= FinanceEnterpriseGroup
									invoked.FileCreationSetup				= FileCreationSetup
									invoked.FileCreationRowDetail			= NewFileCreationRowDetail.FileCreationRowDetail
									invoked.FileCreationColumnDetail		= NewFileCreationColumnDetail.FileCreationColumnDetail
					
		ChangeRowOrder			is an Instance Action
			Parameters
				PrmSeqRowOrder	is Numeric 4
					default label is "NewRowOrder"
			Parameter Rules
				PrmSeqRowOrder
					required
			Action Rules
				invoke UpdateRowOrder
					invoked.SeqRowOrder = PrmSeqRowOrder

		UpdateRowOrder 		is an Update Action
			bypass field rules
			restricted
			Field Rules	
				SeqRowOrder
					required
			Action Rules

		ClearCompareFieldOne is an Instance Action
			restricted
			valid when (CompareField1 entered)
			Action Rules
				initialize CompareField1			
				initialize ComparedToField1 	
				initialize RowCondition1

		ClearCompareFieldTwo is an Instance Action
			restricted
			valid when (CompareField2 entered)
			Action Rules
				initialize CompareField2			
				initialize ComparedToField2	
				initialize RowCondition2

		ClearOneToManyCompareFieldOne is an Instance Action
			restricted
			valid when (OneToManyCompareField1 entered)
			Action Rules
				initialize OneToManyCompareField1			
				initialize OneToManyComparedToField1 	
				initialize OneToManyCondition1

		ClearOneToManyCompareFieldTwo is an Instance Action
			restricted
			valid when (OneToManyCompareField2 entered)
			Action Rules
				initialize OneToManyCompareField2			
				initialize OneToManyComparedToField2	
				initialize OneToManyCondition2

		ClearExtendedCompareFieldOne is an Instance Action
			restricted
			valid when (ExtendedCompareField1 entered)
			Action Rules
				initialize ExtendedCompareField1			
				initialize ExtendedComparedToField1 	
				initialize ExtendedCondition1

		ClearExtendedCompareFieldTwo is an Instance Action
			restricted
			valid when (ExtendedCompareField2 entered)
			Action Rules
				initialize ExtendedCompareField2			
				initialize ExtendedComparedToField2	
				initialize ExtendedCondition2	







