SupplierStatus is a BusinessClass
    owned by procurement
    prefix is SUST

    Ontology
    	symbolic key is SupplierStatus
    
	Derived Fields

		NeedsType is a MessageField
			restricted
			"NeedsValidation-<StatusCount>"

		PendingType is a MessageField
			restricted
			"PendingValidation-<StatusCount>"

		RejectedType is a MessageField
			restricted
			"Rejected-<StatusCount>"

		Type is a ConditionalField
			type is Alpha 20
			if (SupplierStatus.NeedsValidation)
				NeedsType
			else
			if (SupplierStatus.PendingValidation)
				PendingType
			else
			if (SupplierStatus.Rejected)
				RejectedType
			else
				blank

		StatusCount is a ConditionalField
			type is Numeric size 8
			if (SupplierStatus.NeedsValidation)
				SupplierGroup.NeedsValidation
			else				
			if (SupplierStatus.PendingValidation)
				SupplierGroup.PendingValidation
			else
			if (SupplierStatus.Rejected)
				SupplierGroup.Rejected
			else
				0

	Relations

		SupplierStatusRel is a Supplier set
			Instance Selection
				where (related.SupplierStatus = SupplierStatus)
