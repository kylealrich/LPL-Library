ContractLineSpecialItemLink is a BusinessClass
    owned by ic
    prefix is ITP
    sql name is VAgreementLineSpecialItemLink
    classic name is ITEMSPECL

    Ontology
        symbolic key is ContractLineSpecialItemLink

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        SpecialItem                  is AlphaUpper size 32


        UnitOfMeasure
            classic name is UOM
        Description
        Description2                  is a Description
            classic name is DESCRIPTION2

    Relations
    
    	ContractLineRel
    		one-to-one relation to ContractLine
    		Field Mapping uses symbolic key
    			related.ContractGroup    = ItemGroup
    			related.Contract         = Contract
    			related.ContractLine     = ContractLine
    
    Sets

        Set1
            indexed
            allow duplicates
            Sort Order
                ItemGroup
                Contract

        Set3
            indexed
            Sort Order
                ItemGroup
                SpecialItem
                Contract
                ContractLine
                
        ByContractLine
       		Sort Order
       			ItemGroup
                Contract
                ContractLine
                
    Actions
    
    	Create is a Create Action
    		restricted
    		
    	SetContractLineToActive is an Instance Action
    		restricted
    		Action Rules
    		
    			if (ContractLineRel.ItemNumber != Item
    			and ContractLineRel.LineNotClosed)
    				invoke RemoveInactiveVendorItemError ContractLineRel
    					invoked.ChangeToItem = Item
    		
    				invoke Delete
    		
		Delete is a Delete Action    			
			restricted
