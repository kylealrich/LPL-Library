BudgetGroupTotalLog is a BusinessClass
	owned by GeneralLedger
	prefix is BUDLG
   
    Ontology
    	symbolic key is BudgetGroupTotalLog

    Patterns
  		disable Auditing 
 		disable EffectiveDated

    Persistent Fields
        LogTimeStamp			is TimeStamp
        BusinessClassName		is Alpha 100
        EditContext				is Alpha 256
        Amount					is an InternationalAmount 		
        PreviousAmount			is an InternationalAmount 		
		IncrementAmount			is like InternationalAmount

    Transient Fields
		
	Local Fields
		
	Derived Fields

	Conditions
		SecurityGroupAllowsAccess
            when (BudgetGroup.AccountingEntity not entered
            or   (BudgetGroup.AccountingEntity entered 
            and   BudgetGroup.AccountingEntity.AccountingEntitySecurityGroupAllowsAccess))

	Relations

	Sets

		ByTimeDescending
			duplicates
			Sort Order
				FinanceEnterpriseGroup
				Scenario
				BudgetTemplate
				BudgetGroup
				GeneralLedgerCalendarPeriod 
				BudgetGroupTotalLog descending
				LogTimeStamp descending


		ByTimeDescendingForGroup
			duplicates
			Sort Order
				FinanceEnterpriseGroup
				Scenario
				BudgetTemplate
				BudgetGroup
				LogTimeStamp descending
				GeneralLedgerCalendarPeriod 
				BudgetGroupTotalLog descending

		ByTimeDescendingForAllGroups
			duplicates
			Sort Order
				FinanceEnterpriseGroup
				Scenario
				BudgetTemplate
				LogTimeStamp descending
				BudgetGroup
				GeneralLedgerCalendarPeriod descending
				BudgetGroupTotalLog descending

	Field Rules
					
	Attach Rules
		
	Rule Blocks

    Actions
	
    	Create is a Create Action
    		restricted
 
		Update is an Update Action
			restricted
    		bypass field rules

		Delete is a Delete Action
			restricted

		Purge is a Purge Action
			restricted
			bypass relational integrity rules
				
		PurgeLogForTemplate is a Set Action
			restricted
			Parameters
				PrmFinanceEnterpriseGroup	is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
				PrmScenario					is a Scenario
					default label is "Scenario"
				PrmTemplate					is a BudgetTemplate
					default label is "BudgetTemplate"
			Instance Selection
				where (FinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
				and Scenario 					= PrmScenario
				and BudgetTemplate 				= PrmTemplate)
			Sort Order
				FinanceEnterpriseGroup
				Scenario
				BudgetTemplate
			Action Rules
				Instance Rules
					invoke Purge BudgetGroupTotalLog
					
		PurgeLogForGroup is a Set Action
			restricted
			Parameters
				PrmFinanceEnterpriseGroup	is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
				PrmScenario					is a Scenario
					default label is "Scenario"
				PrmTemplate					is a BudgetTemplate
					default label is "BudgetTemplate"
				PrmGroup 					is a BudgetGroup
					default label is "BudgetGroup"
			Instance Selection
				where (FinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
				and Scenario 					= PrmScenario
				and BudgetTemplate 				= PrmTemplate
				and BudgetGroup 				= PrmGroup)
			Sort Order
				FinanceEnterpriseGroup
				Scenario
				BudgetTemplate
				BudgetGroup
			Action Rules
				Instance Rules
					invoke Purge BudgetGroupTotalLog
										
