CustomerRepresentativeSuggestedCompanyCustomer is a BusinessClass
	owned by ar
	prefix is CRSCC
	sql name is SuggestedCompanyCustomer
	
	Patterns
		implements DynamicCreation

	Ontology
		symbolic key is CustomerRepresentativeSuggestedCompanyCustomer

	Persistent Fields
		SearchName										
			default label is "Name"
		TaxID											
			holds pii
		CreditAgencyNumber		is Alpha size 9 		
			default label is "Dun&Bradstreet"
		PostalAddress			is a PostalAddressV2	 
			holds pii
		NameMatches				is Boolean
		TaxIdMatches			is Boolean
		DUNSMatches				is Boolean
		Addr1Matches			is Boolean
	
 	Actions
		Create is a Create Action
			restricted

		Update is an Update Action
			restricted

		Delete is a Delete Action
			restricted
		
		Purge is a Purge Action
			restricted
		
		LinkToCustomerRepresentative is an Instance Action
			Action Rules
				if (CustomerRepresentative.LinkedToCompanyCustomer)
					confirmation required
						"TheCustomerRepresentativeIsAlreadyLinkedToACompanyCustomer;WouldYouLikeToContinue?"
					
				invoke UpdateCompanyCustomer CustomerRepresentative
					invoked.PrmCompany	= Company
					invoked.PrmCustomer	= Customer
					if (Company.ApplyCashAcrossReceivableCompanies)	
						invoked.PrmAllowPortalApplyCashAcrossReceivableCompanies = true	
