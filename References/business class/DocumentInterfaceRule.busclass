DocumentInterfaceRule is a BusinessClass
    owned by ap
    prefix is DIR

    Ontology
    	symbolic key is DocumentInterfaceRule

	Patterns
		implements Resequence on Priority
			new sequence field is NewPriority
			set is ByPriority
			
    Persistent Fields
		Priority					is a DisplayOrder
		Name
		Description
        Type						is Numeric size 1
            States
            	Company					value is 1
                PaymentTerms			value is 2
                Currency				value is 3


        InterfaceRule				is a DocumentInterfaceInvoice group
			default label is "Rule"
		PayablesCompany
			default label is "Company"
		TermsCode
			default label is "PaymentTerms"
		UnitOfMeasure
		TaxCode
		Currency
		Active
	
	Transient Fields
		NewPriority					is a DisplayOrder

	Local Fields

	Derived Fields
	
	Field Rules
		Priority
			default to DocumentInterfaceRule

		Name
			required

		Description

		Type
			required
			initial value is Type.Company

		InterfaceRule
			required

		PayablesCompany
			if (Type.Company)
				required
			if (!Type.Company)
				cannot be entered
		     		"CompanyCanOnlyBeEnteredWhenTypeIsCompany"

		TermsCode
			if (Type.PaymentTerms)
				required
			if (!Type.PaymentTerms)
				cannot be entered
		     		"PaymentTermsCanOnlyBeEnteredWhenTypeIsPaymentTerms"

		Currency
			if (Type.Currency)
				required
			if (!Type.Currency)
				cannot be entered
		     		"CurrencyCanOnlyBeEnteredWhenTypeIsCurrency"

		Active
			initial value is true
							
	Attach Rules
		constraint (Active)
			"DocumentInterfaceRuleIsInactive"
	
	Sets
		ByPriority
			duplicates
			Sort Order
 				FinanceEnterpriseGroup
 				Priority
 				DocumentInterfaceRule
 
 	Conditions

	Relations

	Actions
		Create is a Create Action
		
		Update is an Update Action
		
		Delete is a Delete Action
