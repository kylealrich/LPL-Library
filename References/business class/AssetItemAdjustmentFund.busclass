AssetItemAdjustmentFund is a BusinessClass
	owned by am
	
	prefix is AIAF
		
	Ontology
		symbolic key is AssetItemAdjustmentFund
		
	Patterns
		implements StaticJava
		
	Persistent Fields
		AccountingEntity				
		AccountingUnit					
		Fund 							is an AssetFundField		
		Project			
		FinanceDimension1
		FinanceDimension2
		FinanceDimension3
		FinanceDimension4
		FinanceDimension5
		FinanceDimension6
		FinanceDimension7
		FinanceDimension8
		FinanceDimension9
		FinanceDimension10				
		TransactionAmount				is an InternationalAmount
		PercentContribution				is Percent size 9.6
		OriginatingGLTransactionDetail	is a GLTransactionDetail
			delete ignored

		
	Transient Fields
		TransientFromCurrency			is a FromCurrency
			derive value from Asset.Currency
	
	Sets
      	ByInterfaceFund
			Sort Order
				FinanceEnterpriseGroup				
				Asset								
				AssetItemAdjustmentImport
				AccountingEntity	
				AccountingUnit					
				AssetItemAdjustmentFund
				Project			
				FinanceDimension1
				FinanceDimension2
				FinanceDimension3
				FinanceDimension4
				FinanceDimension5
				FinanceDimension6
				FinanceDimension7
				FinanceDimension8
				FinanceDimension9
				FinanceDimension10
												
		ByFund
			Sort Order
				Asset
				AssetItemAdjustmentImport
				AccountingEntity				
				AccountingUnit			
				Project			
				FinanceDimension1
				FinanceDimension2
				FinanceDimension3
				FinanceDimension4
				FinanceDimension5
				FinanceDimension6
				FinanceDimension7
				FinanceDimension8
				FinanceDimension9
				FinanceDimension10


							
	Relations				
		ThisInstanceRel
			one-to-one relation to AssetItemAdjustmentFund
			Field Mapping uses ByFund
				related.Asset						= Asset
				related.AssetItemAdjustmentImport	= AssetItemAdjustmentImport 
				related.AccountingEntity			= AccountingEntity		
				related.AccountingUnit				= AccountingUnit
				related.Project						= Project
				related.FinanceDimension1			= FinanceDimension1
				related.FinanceDimension2			= FinanceDimension2
				related.FinanceDimension3			= FinanceDimension3				
				related.FinanceDimension4			= FinanceDimension4
				related.FinanceDimension5			= FinanceDimension5
				related.FinanceDimension6			= FinanceDimension6		
				related.FinanceDimension7			= FinanceDimension7
				related.FinanceDimension8			= FinanceDimension8
				related.FinanceDimension9			= FinanceDimension9
				related.FinanceDimension10			= FinanceDimension10
								
		AssetFundControlRel
			one-to-one relation to AssetFundControl
			Field Mapping uses symbolic key
				related.AssetFundControl	= FinanceEnterpriseGroup
				
	Conditions
		AccountingUnitIsFundDimension
			restricted
			when (FinanceEnterpriseGroup.FundDimension = 1)	
        AccountingUnitSelected
        	when (AssetFundControlRel.AccountingUnit)
        ProjectSelected
        	when (AssetFundControlRel.Project)      	
		FinanceDimension1Selected
        	when (AssetFundControlRel.FinanceDimension1)
		FinanceDimension2Selected
        	when (AssetFundControlRel.FinanceDimension2)
		FinanceDimension3Selected
        	when (AssetFundControlRel.FinanceDimension3)
		FinanceDimension4Selected
        	when (AssetFundControlRel.FinanceDimension4)
		FinanceDimension5Selected
        	when (AssetFundControlRel.FinanceDimension5)
		FinanceDimension6Selected
        	when (AssetFundControlRel.FinanceDimension6)
		FinanceDimension7Selected
        	when (AssetFundControlRel.FinanceDimension7)
		FinanceDimension8Selected
        	when (AssetFundControlRel.FinanceDimension8)
		FinanceDimension9Selected
        	when (AssetFundControlRel.FinanceDimension9)
		FinanceDimension10Selected
        	when (AssetFundControlRel.FinanceDimension10)
				
	Field Rules

		
	Actions
		Create is an Action
			Action Rules
				if (FinanceEnterpriseGroup.FundDimension.AccountingUnit)
					constraint (AccountingUnit entered)
						"FundDimensionIsRequired"
					Fund = AccountingUnit	
				else
					constraint (FinanceDimension1 entered)	
						"FundDimensionIsRequired"
					Fund = FinanceDimension1	
													
			
		Update is an Action
			Field Rules
				Fund
					cannot be changed
						"CannotBeChanged"	
				Project
					cannot be changed
						"CannotBeChanged"	
				AccountingEntity
					cannot be changed
						"CannotBeChanged"	
				AccountingUnit
					cannot be changed
						"CannotBeChanged"
				FinanceDimension1
					cannot be changed
						"CannotBeChanged"
				FinanceDimension2
					cannot be changed
						"CannotBeChanged"
				FinanceDimension3
					cannot be changed
						"CannotBeChanged"
				FinanceDimension4
					cannot be changed
						"CannotBeChanged"
				FinanceDimension5						
					cannot be changed
						"CannotBeChanged"
				FinanceDimension6						
					cannot be changed
						"CannotBeChanged"
				FinanceDimension7
					cannot be changed
						"CannotBeChanged"
				FinanceDimension8
					cannot be changed
						"CannotBeChanged"
				FinanceDimension9						
					cannot be changed
						"CannotBeChanged"
				FinanceDimension10						
					cannot be changed
						"CannotBeChanged"
										

		UpdatePercentContribution is an Instance Action
			restricted
			Parameters
				TotalItemCost is like InternationalAmount
				
			Action Rules
				PercentContribution = (TransactionAmount / TotalItemCost)

		Delete is an Action
		
