VendorOffsetDefault is a BusinessClass
	owned by ap
	prefix is VOFF

	Ontology
		symbolic key is VendorOffsetDefault

	Patterns
		disable AuditIndex
		implements ContextualParent

	Persistent Fields
		AccountingEntity
			default label is "<AccountingEntityLabel>"
		Priority						is a DisplayOrder
		Sequence
		PercentAllowed					is a Percent
		MaxAmountAllowed				is an InternationalAmount
		InterceptAccount				is a FinanceCodeBlockFull
		RemittanceAdvice				is Alpha size up to 50

	Derived Fields
		AccountingEntityLabel is a MessageField
			restricted
			"<actor.context.FinanceEnterpriseGroup.AccountingEntityLabel>"

	Field Rules
		AccountingEntity
			required

		Priority
			required
			initial value is last PriorityRel.Priority + 1
			default to last PriorityRel.Priority + 1

		Sequence
			required
			initial value is last SequenceRel.Sequence + 1
			default to last SequenceRel.Sequence + 1
			constraint (DuplicateSequenceRel !exists)
				"Sequence<Sequence>HasAlreadyBeenUsedForPriority<Priority>"

		PercentAllowed
			required

		InterceptAccount
			required

	Relations
		PriorityRel
			one-to-many relation to VendorOffsetDefault
			Field Mapping uses ByPriority
				related.VendorGroup			= VendorGroup

		SequenceRel
			one-to-many relation to VendorOffsetDefault
			Field Mapping uses BySequence
				related.VendorGroup			= VendorGroup
				related.Priority			= Priority

		DuplicatePriorityRel
			one-to-many relation to VendorOffsetDefault
			Field Mapping uses ByPriority
				related.VendorGroup			= VendorGroup
				related.Priority			= Priority

		DuplicateSequenceRel
			one-to-many relation to VendorOffsetDefault
			Field Mapping uses BySequence
				related.VendorGroup			= VendorGroup
				related.Priority			= Priority
				related.Sequence			= Sequence
			Instance Selection
				where (related.VendorOffsetDefault	!= VendorOffsetDefault)

	Sets
		ByPriority
			duplicates
			Sort Order
				VendorGroup
				Priority
				VendorOffsetDefault

		BySequence
			Sort Order
				VendorGroup
				Priority
				Sequence
				VendorOffsetDefault

	Actions
		Create is a Create Action

		Update is an Update Action

		Delete is a Delete Action



