ProjectPeriodOfPerformance is a BusinessClass
    owned by Projects
    prefix is PFM
    classic name is ACPRDPERF

    Ontology
    	part of Project
    		relative key is GeneralLedgerSystemCode
    			default label is "System"

    Patterns
        implements StaticJava

    Persistent Fields
    	LeadDays	is Numeric size 4
    	LagDays		is Numeric size 4

	Derived Fields
		ProjectBeginDate is a DerivedField
			type is Date
			return Project.ProjectDateRange.BeginDate - LeadDays
			
		ProjectEndDate is a DerivedField
			type is Date
			return Project.ProjectDateRange.EndDate + LagDays

    Conditions

	Relations
		OtherPeriodOfPerformanceRel
			one-to-many relation to ProjectPeriodOfPerformance
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.Project					= Project
			Instance Selection
				where (related.GeneralLedgerSystemCode != GeneralLedgerSystemCode)







		
    Sets

	Field Rules
			
	Create Rules
		constraint (Project.ProjectType.Posting)
			"PeriodOfPerformanceAppliesToPostingProjectsOnly"
		if (!Project.HasPeriodOfPerformance)
			invoke Update Project
				invoked.HasPeriodOfPerformance = true
				invoked.BypassUpdateStructure  = true				

	Delete Rules
		if (OtherPeriodOfPerformanceRel not exists)
			invoke Update Project
				invoked.HasPeriodOfPerformance = false
				invoked.BypassUpdateStructure  = true
				
    Actions
        Create is a Create Action
					       					
        Update is an Update Action

        Delete is a Delete Action
