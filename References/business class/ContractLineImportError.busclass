ContractLineImportError is a BusinessClass
	owned by po
	
	prefix is Coier
	
	Ontology
		symbolic key is ContractLineImportError
		
	Patterns
		disable Auditing 
       	disable EffectiveDated

	Persistent Fields
		ErrorMessageNumber          is Numeric 3
		ErrorContract				is Numeric size 15
		ErrorContractLine			is Numeric size 6
		ErrorItem                   is an Item
		ErrorVendorItem             is AlphaUpper size 32
		ErrorDate                   is Date 
		ErrorCode1                  is a Description
		
	Derived Fields
	
		ErrorMessage1 is a MessageField
			restricted
			"CannotUpdateVendorItemOnContractLine;ContractLineHasBeenMadeAvailableForCostDefaultingOnContract<ErrorContract>;LineNumber<ErrorContractLine>"
			
		ErrorMessage2 is a MessageField
			restricted
			"ContractLineCannotBeAdded;LineAlreadyExistsOnTargetContract<ErrorContract>;LineNumber<ErrorContractLine>;UpdateFunctionSetToUpdate;Rerun_Process_Contract_Line_UpdatesToUpdateLine"
		
		ErrorMessage19 is a MessageField
			restricted
			"ContractLineCannotBeAddedWithoutIntervention;LineAlreadyExistsOnTargetContract<ErrorContract>AndLineNumber<ErrorContractLine>WithADifferentUOM;WhenProcessContractLineUpdatesIsRunAMultipleUOMHandlingOptionMustBeChosen"
		
		ErrorMessage20 is a MessageField
			restricted
			"ContractLineCannotBeAddedWithoutIntervention;LineAlreadyExistsOnTargetContract<ErrorContract>AndLineNumber<ErrorContractLine>WithADifferentUOM;WhenProcessContractLineUpdatesIsRunAMultipleUOMHandlingOptionMustBeChosen"

		ErrorMessage3 is a MessageField
			restricted
			"ContractLineCannotBeDeleted;LineWasNotFoundUsingEitherVendorItemOrManufacturerInformationOrItemNumberOnContract<ErrorContract>"
		
		ErrorMessage4 is a MessageField
			restricted
			"ContractLineCannotBeUpdated;LineWasNotFoundUsingEitherVendorItemOrManufacturerInformationOrItemNumberOnContract<ErrorContract>;UpdateFunctionSetToCreate;Rerun_Process_Contract_Line_UpdatesToCreateLine"
		
		ErrorMessage5 is a MessageField
			restricted
			"CannotEnterManualItemNumber;ItemGroupAutomaticallyAssignsItemNumbers"
		
		ErrorMessage6 is a MessageField
			restricted
			"UnitOfMeasureIsRequired"
		
			
		ErrorMessage7 is a MessageField
			restricted
			"UnitOfMeasureIsNotValid"
			
		ErrorMessage8 is a MessageField
			restricted
			"EitherVendorItemOrManufacturerNumberMustBeEntered"
			
		ErrorMessage9 is a MessageField
			restricted
			"ItemDescriptionIsRequired"
			
		ErrorMessage10 is a MessageField
			restricted
			"<ErrorCode1>IsAnInvalidUOMForThisItem"
			
		ErrorMessage11 is a MessageField
			restricted
			"<ErrorCode1>IsNotAValidBuyUOMForThisItem;ItIsEitherInactiveOrNotValid"
			
		ErrorMessage12 is a MessageField
			restricted
			"GPO_UOMConversionDoesNotMatchTheUOMConversionForTheStockUOMForTheItemTimesTheUOMConversionForTheEnteredUOM"

		ErrorMessage13 is a MessageField
			restricted
			"UOMConversionDoesNotMatchTheStockUOMConversionForTheItemOf<ErrorCode1>"

		ErrorMessage14 is a MessageField
			restricted
			"ContractLine<ErrorContractLine>ExistsWithGTIN<ErrorCode1>;TheSameGTINIsNotAllowedOnMultipleContractLines"
		
		ErrorMessage15 is a MessageField
			restricted
			"UNSPSCCodeDoesNotExist"
			
		ErrorMessage16 is a MessageField
			restricted
			"UNSPSCCodeDoesNotMatchUNSPSCCodeForItem"

		ErrorMessage17 is a MessageField
			restricted
			"LineOnContractIsClosed;NoGPOItemExists;ManageLineIn_Discontinued_Items_And_Contracts"
			
		ErrorMessage18 is a MessageField
			restricted
			"UnitOfMeasureMustBeStockUnitOfMeasureForCatchWeightItem"
			
		ErrorMessage21 is a MessageField
			restricted
			"LineOnContractIsClosed;UpdateFunctionSetToCreate;Rerun_Process_Contract_Line_UpdatesToCreateLineIfDesired"
			
		ErrorMessage22 is a MessageField
			restricted
			"ContractInterfaceLine<ErrorContractLine>HasSameManufacturerInformationAndUnitOfMeasure"
		
		ErrorMessage23 is a MessageField
			restricted
			"ContractInterfaceLine<ErrorContractLine>HasSameVendorItemAndUnitOfMeasure"
		
		ErrorMessage24 is a MessageField 
			restricted 
			"LineOnContractIsClosed;ChoiceHasBeenMadeToNotCreateANewContractLine"

		ErrorMessage25 is a MessageField 
			restricted 
			"UnitOfMeasure<ErrorCode1>IsInactive"

		ErrorMessageDisplay is a ConditionalField
			type is Alpha 250
			if (ErrorMessageNumber = 1)
				ErrorMessage1
			else
			if (ErrorMessageNumber = 2)	
				ErrorMessage2
			else 
			if (ErrorMessageNumber = 3)
				ErrorMessage3
			else
			if (ErrorMessageNumber = 4)
				ErrorMessage4
			else
			if (ErrorMessageNumber = 5)
				ErrorMessage5
			else
			if (ErrorMessageNumber = 6)
				ErrorMessage6
			else
			if (ErrorMessageNumber = 7)
				ErrorMessage7
			else
			if (ErrorMessageNumber = 8)
				ErrorMessage8
			else
			if (ErrorMessageNumber = 9)
				ErrorMessage9
			else
			if (ErrorMessageNumber = 10)
				ErrorMessage10
			else
			if (ErrorMessageNumber = 11)
				ErrorMessage11
			else
			if (ErrorMessageNumber = 12)
				ErrorMessage12
			else
			if (ErrorMessageNumber = 13)
				ErrorMessage13
			else
			if (ErrorMessageNumber = 14)
				ErrorMessage14
			else
			if (ErrorMessageNumber = 15)
				ErrorMessage15
			else
			if (ErrorMessageNumber = 16)
				ErrorMessage16
			else	
			if (ErrorMessageNumber = 17)
				ErrorMessage17
			else
			if (ErrorMessageNumber = 18)
				ErrorMessage18
			else
			if (ErrorMessageNumber = 19)
				ErrorMessage19
			else
			if (ErrorMessageNumber = 20)
				ErrorMessage20
			else
			if (ErrorMessageNumber = 21)
				ErrorMessage21
			else
			if (ErrorMessageNumber = 22)
				ErrorMessage22
			else
			if (ErrorMessageNumber =23)
				ErrorMessage23
			else
			if (ErrorMessageNumber = 24)
				ErrorMessage24
			else 
			if (ErrorMessageNumber = 25)
				ErrorMessage25
			else	
				blank
		
	Conditions
	
		UOMErrorsExist
			restricted
			when  (ErrorMessageNumber = 7
			or     ErrorMessageNumber = 10
			or     ErrorMessageNumber = 11
			or 	   ErrorMessageNumber = 12
			or     ErrorMessageNumber = 13
			or     ErrorMessageNumber = 25)
			
		ErrorsForTargetContract 
			restricted 
			when (ErrorMessageNumber = 1
			or    ErrorMessageNumber = 2
			or    ErrorMessageNumber = 3
			or    ErrorMessageNumber = 4
			or    ErrorMessageNumber = 19
			or    ErrorMessageNumber = 20
			or    ErrorMessageNumber = 14
			or    ErrorMessageNumber = 21
			or    ErrorMessageNumber = 17
			or    ErrorMessageNumber = 24)
		
		DuplicateUOMErrorsExist
			restricted
			when (ErrorMessageNumber = 19
			or    ErrorMessageNumber = 20)

	Field Rules
	
	Actions
		Create is a Create Action
			restricted
		
		Update is an Update Action
			restricted
		
		Delete is a Delete Action
			restricted
		
		Purge is a Purge Action
			restricted

		ClearContractRelatedLineErrors is a Set Action 
			restricted
			Parameters 
				ParmContractGroup	is a ContractGroup 
				ParmContractImport  is a ContractImport 	

			Instance Selection 
				where (ParmContractGroup 	= ContractGroup
				and    ParmContractImport	= ContractImport
				and    ErrorsForTargetContract)		

			Action Rules 

				Instance Rules 

					invoke Purge 

		
			  	
			

	
