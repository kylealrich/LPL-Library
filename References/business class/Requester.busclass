Requester is a BusinessClass
    owned by rq
    prefix is REQ
    representative text is "<Requester.Employee.FirstLastNameID>"
	representative image is Requester.Employee.ResourcePicture.File
		display as portrait image
		missing image is random background
			foreground text is "<Requester.Employee.Name.Initials>"

    Ontology
        symbolic key is Requester
            classic set name is REQSET1

    Patterns
        implements StaticJava
        disable AuditIndex
        implements BODId

    Persistent Fields
		Reference1			is a Reference
		Reference2			is a Reference
		Company				is an InventoryCompany
			disable surrogates
        RequestingLocation
            classic name is REQ-LOCATION
        Active                         is Boolean
            classic name is ACTIVE-STATUS
        ManualOverrideAllowed          is Boolean
            classic name is MAN-OVER-ALWD
            default label is "ManualCostOverrideAllowed"
        ItemEntryMethod
            restricted
            classic name is ENTRY-FL
        OverrideContractCost          is Boolean
            classic name is OVER-AGRMT
        OverrideLastPOLastCost         is Boolean
            classic name is OVER-LC-LP
        AllowDropship                  is Boolean
            classic name is SET-DROPSHIP
			default label is "AllowNoReceiving"
		AllowAlternateShipToAddress	   is Boolean

		ShowCatalogSearch					is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
            	ShowAdvancedSearch	value is "A"
				ShowBasicSearch		value is "S"
				Hide				value is "H"
		CatalogSearchPageSizeDisplayOption is AlphaUpper size 3
			States
				DefaultFromCompany	value is blank
				7					value is "7"
				10					value is "10"
				20					value is "20"
				30					value is "30"
				40					value is "40"
				50					value is "50"
				60					value is "60"
				70					value is "70"
				80					value is "80"
				90					value is "90"
				100					value is "100"
		CatalogSearchSortOrderDisplayOption is AlphaUpper size 1
			States
				DefaultFromCompany				value is blank
				Cost							value is "A"
				InventoryCost					value is "H"
					default label is "Inventory, Cost"
				InventoryPreferredContract		value is "G"
					default label is "Inventory, Preferred, Contract"
				ItemAlphabeticalSort			value is "B"
					default label is "Item (Alphabetical Sort)"
				ItemNumericSort					value is "F"
					default label is "Item (Numeric Sort)"
				ItemDescription					value is "C"
				PreferredContractContract		value is "D"
					default label is "PreferredContract, Contract"
				PreferredContractContractCost	value is "E"
					default label is "PreferredContract, Contract, Cost"
		CatalogSearchTypeAheadDisplayOption is AlphaUpper size 1
			States
				DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		ShowShoppingList					is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		ShoppingListPageSizeDisplayOption is AlphaUpper size 3
			States
				DefaultFromCompany	value is blank
				8					value is "8"
				10					value is "10"
				20					value is "20"
				30					value is "30"
				40					value is "40"
				50					value is "50"
				60					value is "60"
				70					value is "70"
				80					value is "80"
				90					value is "90"
				100					value is "100"
        ShoppingListSearchSortOrderDisplayOption is AlphaUpper size 1
            States
				DefaultFromCompany				value is blank
                TemplateLineNumber				value is "G"
                Cost                            value is "A"
                ItemAlphabeticalSort            value is "B"
                    default label is "Item (Alphabetical Sort)"
                ItemNumericSort                    value is "F"
                    default label is "Item (Numeric Sort)"
                ItemDescription                    value is "C"
                PreferredContractContract        value is "D"
                    default label is "PreferredContract, Contract"
                PreferredContractContractCost    value is "E"
                    default label is "PreferredContract, Contract, Cost"
		ShowSpecialServices					is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		ShowPunchout						is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
        RQCDisplaySelectAll            is AlphaUpper size 1
            classic name is RQ-SELECT-ALL
            States
                Display            value is "D"
                Hide               value is "H"
                DefaultFromCompany value is blank
        ContractsOnly                  is AlphaUpper size 1
            States
                DefaultFromCompany value is blank
                Yes                value is "Y"
                No                 value is "N"

        InternalOnly                   is AlphaUpper size 1
            States
                DefaultFromCompany value is blank
                Yes                value is "Y"
                No                 value is "N"
                ItemLocationSetup  value is "I"
        Manual                         is Boolean
            classic name is MANUAL-FL
        ProcessFlowApproval            is Boolean
            classic name is PFLOW-APRV-FL
        RequisitionApprovalType
            classic name is APPROVAL-TYPE
        RequireVendorForSpecials       is Boolean
            classic name is REQUIRE-VENDOR
            default label is "RequireVendor_forSpecials"
        OverrideSingleSourceToSinglePO is Boolean
            classic name is OVER-1SRC-1PO
        RequireCommodityCode           is Boolean
            classic name is REQ-COMM-CODE
        ProcurementCardNumber
            classic name is PCARD-NBR
        OverrideProcurementCard        is Boolean
            classic name is OVER-PCARD
        AllowBillTo                    is Boolean
            classic name is SET-PO-BILL-TO
        ExcludeAccountingUnits         is Boolean
            classic name is ACCT-UNIT-FLAG
        ExcludePurchasingClasses       is Boolean
            classic name is PURCH-CLS-FLAG
        AccountingUnitAttributeList    is an AttributeList
            classic name is ACCT-UNIT-LIST
        AllowDisplayOfProcedureInfo		is Boolean
        	default label is "AllowDisplay_ofProcedureInfo"
		SupplierRequisitionReviewer     is Boolean
			default label is "CanReviewSupplierRequisitions"
		CanCreateCapitatedRequisition    is Boolean
		CanCreatePOForCapitatedRequisition	is Boolean
			default label is "CanCreatePOForCapitatedOrSupplierRequisition"
		CurrentCompanyForRQC			is like InventoryCompany
			disable Auditing
		CurrentRequisitionForRQC 		is like Requisition
			disable Auditing
		CurrentPunchoutContextforRQC	is a PunchoutContext
			disable Auditing
		SpecialItemValidation			is AlphaUpper size 1 
        	States
            	DefaultFromCompany 	value is blank
            	Skip 				value is "S"
            	Warn 				value is "W"

		ShowSourcingEvent				is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		AccountingDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				ShowBasic			value is "S"
				Hide				value is "H"
				ShowFull            value is "F"
		ProjectDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		AssetDisplayOption				is AlphaUpper size 1
			States
            	DefaultFromCompany 		value is blank
				Show					value is "S"
				Hide					value is "H"
				AssetRequired			value is "R"
				AssetTemplateRequired	value is "T"
		RequesterDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
					default label is "NotCurrentlyAvailable"
				Show				value is "S"
				Hide				value is "H"
		CompanyDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		RequestingLocationDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		ReceivingDisplayOption		is AlphaUpper size 1
			States
	           	DefaultFromCompany 	value is blank
				ShowMyReceipts		value is "S"
				ShowMobileReceiving	value is "M"
				Hide				value is "H"
		RequisitionDescriptionDisplayOption is AlphaUpper size 1
			States
				DefaultFromCompany	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		PriorityDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		BillOnlyDetailDisplayOption		is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		DropShipDisplayOption		is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		FromCompanyDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		FromLocationDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		VendorDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		CurrencyDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		PurchaseFromDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		BuyerDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
				DisplayOnly			value is "D"
		POCodeDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		TaxInfoDisplayOption		is AlphaUpper size 1
			default label is "TaxInformation"
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		QuoteRequiredDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		SingleDocToPODisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		PurchaseClassesDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 		value is blank
				Show					value is "S"
				Hide					value is "H"
				RequireMajorOnly		value is "R"
				RequireMajorAndMinor	value is "B"
		GenericNameDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		InspectionRequiredDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		CertificationRequiredDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		CreatePODisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		FillOrKillFlagDisplayOption	is AlphaUpper size 1
			default label is "Fill_orKill"
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		ServiceInfoDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		RequestedDeliveryDateDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		DeliverToDisplayOption		is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		AllowAllCommentTypes		is AlphaUpper size 1
            States
            	DefaultFromCompany 	value is blank
                Yes               value is "Y"
	            No                value is "N"
		CommodityCodeDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		RequesterPostalAddress			is a PostalAddressV2	
			holds pii
			classic name for RequesterPostalAddress.DeliveryAddress.AddressLine1 is ADDR1
            classic name for RequesterPostalAddress.DeliveryAddress.AddressLine2 is ADDR2
            classic name for RequesterPostalAddress.DeliveryAddress.AddressLine3 is ADDR3
            classic name for RequesterPostalAddress.DeliveryAddress.AddressLine4 is ADDR4
            classic name for RequesterPostalAddress.Municipality is CITY-ADDR5
            classic name for RequesterPostalAddress.StateProvince is STATE-PROV
            classic name for RequesterPostalAddress.PostalCode is POSTAL-CODE
            classic name for RequesterPostalAddress.County is COUNTY
            classic name for RequesterPostalAddress.Country is COUNTRY-CODE
		AvailableQuantityDisplayUOM	is AlphaUpper size 1
			States
				DefaultFromCompany	value is blank
				Stock				value is "S"
				Transaction			value is "T"
    	DefaultCommentType						is AlphaUpper size 1
    		States
            	DefaultFromCompany 	value is blank
                PrintOnInternalDocuments	value is "I"
                PrintOnPurchaseOrder		value is "P"
                PrintOnPurchaseOrderTrailer	value is "T"
                PrintOnReceivingDocument	value is "R"
                PrintOnPickList				value is "L"
                PrintOnDeliveryTicket		value is "D"
                PrintOnRequisition			value is "Q"
				DisplayOnlyOnInternalDocuments value is "S"
                DisplayOnly					value is "O"
                InvoiceComments				value is "N"
    	DefaultCommentTypeDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		RequestingLocationValidationOption is Numeric size 1
			States
				Allowed					value is 0
				Disallowed				value is 1
    	InventoryReturnsDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
    	ConsignCodeDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		VendorItemDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		CostOptionDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		ManufacturerDisplayOption		is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		ManufacturerNumberDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		ContractDisplayOption	is AlphaUpper size 1
			States
				DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		UserFieldsDisplayOption		is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				
		EAMDescriptionDisplayOption is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		AOCDisplayOption		is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
        RequireVendorForServices	is Boolean
        	default label is "RequireVendor_forServices"
        DisplayOnlyTransactionUOM	is AlphaUpper size 1
            States
            	DefaultFromCompany 	value is blank
                Yes               value is "Y"
	            No                value is "N"
        StockOnHandDisplayOption is AlphaUpper size 1
			States
				DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
        CostDisplayOption is AlphaUpper size 1
			States
				DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		AllowFilterOptionInCatalogSearch is AlphaUpper size 1
			default label is "AllowFilterOption_inCatalogSearch"
            States
            	DefaultFromCompany 	value is blank
                Yes               	value is "Y"
	            No                	value is "N"
	    AllowQuantityMultiplierOnShoppingList is AlphaUpper size 1
	    	default label is "AllowQuantityMultiplier_onShoppingList"
            States
            	DefaultFromCompany 	value is blank
                Yes                   value is "Y"
                No                    value is "N"		
		EnableFavorites is AlphaUpper size 1
            States
            	DefaultFromCompany 	value is blank
                Yes               	value is "Y"
	            No                	value is "N"
		AllowContractProposals is AlphaUpper size 1
            States
            	DefaultFromCompany 	value is blank
                Yes               value is "Y"
	            No                value is "N"
		DistributionCodeDisplayOption is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show	value is "S"
				Hide	value is "H"
		RSSHomePageTitle is Alpha size 30
			default label is "RSSHomePageTitle"
		VendorSearchOption is AlphaUpper size 1
            States
            	DefaultFromCompany			value is blank
            	AllVendors					value is "A"
                VendorsAssociatedWithItem	value is "I"
		GLEncumbranceReferenceDisplayOption is AlphaUpper size 1
			States
           		DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
		GTINDisplayOption is AlphaUpper size 1
			States
           		DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
		AllowRequestNewItem		is AlphaUpper size 1
			default label is "AllowItemMasterRequests"
			States
				DefaultFromCompany	value is blank
				Yes					value is "Y"
				No					value is "N"
		AllowRequestNewVendor	is AlphaUpper size 1
			default label is "AllowRequestOfNewVendor"
			States
				DefaultFromCompany	value is blank
				Yes					value is "Y"
				No					value is "N"
		RequisitionSelfServiceLPL    is AlphaUpper size 1
            default label is "AllowRequisitionSelfServiceLPL"
			States
				DefaultFromCompany	value is blank
				Yes					value is "Y"
				No					value is "N"
		DuplicateItemValidation				is AlphaUpper size 1
			default label is "ValidateDuplicateItem"
        	States
				DefaultFromCompany		value is blank
            	Skip 					value is "S"
				UpdateQuantity  		value is "U"


	Transient Fields
		NewRequisition                  	is like Requisition
		NewRequisitionLine					is like RequisitionLine
		TransientPurchasingClassValidation  is Numeric 1
			States
				Allowed						value is 0
				Disallowed					value is 1
			derive value from DerivedPurchasingClassValidation
		TransientAssetDisplayOption				is AlphaUpper size 1
			States
            	DefaultFromCompany 		value is blank
				Show					value is "S"
				Hide					value is "H"
				AssetRequired			value is "R"
					default label is "Asset Required (Not Available)"
				AssetTemplateRequired 	value is "T"
					default label is "Asset Template Required (Not Available)"
			derive value from DerivedTransientAssetDisplayOption
		TransientBuyerDisplayOption				is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
				DisplayOnly			value is "D"
			derive value from DerivedTransientBuyerDisplayOption
		TransientCommodityCodeDisplayOption		is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientCommodityCodeDisplayOption
		TransientDeliverToDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientDeliverToDisplayOption
		TransientGLEncumbranceReferenceDisplayOption is AlphaUpper size 1
			States
           		DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientGLEncumbranceReferenceDisplayOption
		TransientManufacturerDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
					default label is "Hide (Not Available)"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientManufacturerDisplayOption
		TransientManufacturerNumberDisplayOption	is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
					default label is "Hide (Not Available)"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientManufacturerNumberDisplayOption
		TransientPOCodeDisplayOption				is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientPOCodeDisplayOption
		TransientPurchaseClassesDisplayOption		is AlphaUpper size 1
			States
            	DefaultFromCompany 		value is blank
				Show					value is "S"
				Hide					value is "H"
				RequireMajorOnly		value is "R"
					default label is "Require Major Only (Not Available)"
				RequireMajorAndMinor	value is "B"
					default label is "Require Major And Minor (Not Available)"
			derive value from DerivedTransientPurchaseClassesDisplayOption
		TransientPurchaseFromDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientPurchaseFromDisplayOption
		TransientTaxInfoDisplayOption				is AlphaUpper size 1
			default label is "TaxInformation"
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientTaxInfoDisplayOption
		TransientVendorDisplayOption				is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientVendorDisplayOption
		TransientVendorItemDisplayOption			is AlphaUpper size 1
			States
            	DefaultFromCompany 	value is blank
				Show				value is "S"
				Hide				value is "H"
				Required			value is "R"
					default label is "Required (Not Available)"
			derive value from DerivedTransientVendorItemDisplayOption

	Context Fields
		FSMInboundBODTracker
	Local Fields
		LocalTitle						is Alpha size 255
		ActionCode						is Alpha size 1
			States
				Create  value is "C"
				Update	value is "U"
				Delete	value is "D"
		NativeLPLBODTrigger				is Boolean				
		LocalText						is Text	
		LocalText2						is Text	
		LocalMainUserTemplate			is Alpha 250
		NewBODTracker  					is a FSMInboundBODTracker view
		LocalFSMInboundBODTracker		is Numeric 15
		Error            				is Boolean
	    ErrorMessage     				is Alpha 300
	    LocalBODTrigger					is Boolean
		LocalConfigurationParameter		is Alpha size up to 200
		LocalAEAlreadyExecuted			is Boolean
		LocalCrossAE					is Alpha size 30
		
	Derived Fields
		Reference1CardView						is a LabelField
			"Reference1:<Reference1>"
		Reference1CardViewDisplay				is a DerivedField
			type is MessageField
			if (Reference1 entered)
				return Reference1CardView
			else
				return blank

        CompanyAndRequestingLocation is a StringField
            type is Alpha size up to 25
			restricted
			Company
			"^"
			RequestingLocation
			
		Reference2CardView						is a LabelField
			"Reference2:<Reference2>"
		Reference2CardViewDisplay				is a DerivedField
			type is MessageField
			if (Reference2 entered)
				return Reference2CardView
			else
				return blank

		CompanyDisplay							is a MessageField
			"<Company.Name>_(<Company>)"

		CompanyCardView							is a LabelField
			"Company:<CompanyDisplay>"

		WorkEmailCardView						is a LabelField
			"WorkEmail:<Requester.EmployeeWorkEmailAddress>"

		WorkPhoneCardView						is a LabelField
			"WorkPhone:<Requester.EmployeeWorkTelephone>"

		HROrganizationCardView							is a LabelField
			"HROrganization:<HROrganization.HROrgAndDescription>"

		Name									is a DerivedField
			type is Alpha up to 230
			return Requester.PresentationNameSnapshot

		RequesterTitle is a StringField
			type is Text
			Requester.Employee.Name.PreferredFirstAndLastName

		ContextMessageText is a MessageField
			restricted
			"Requester<Requester><Name>"
		
		EmployeeNameAndID is a MessageField
			"<Requester.Employee>_-_<Requester.Employee.Name.PreferredFirstAndLastName>"

		RequesterFirstLastName is a DerivedField
			type is Alpha up to 120
			return Requester.Employee.FirstLastName
		
		EmailAddress		is a DerivedField
			type is like EmailAddress
			return Requester.EmployeeWorkEmailAddress

		PhoneNumber			is a DerivedField
			type is Alpha up to 100
			return Requester.EmployeeWorkTelephone			

		HROrganizationAndRequester		is a StringField
			type is AlphaUpper 20
			HROrganization
			", "
			Requester

		ReleaseMessage		is a MessageField
			restricted
			"RequisitionWillBeReleasedIfBudgetEditsArePassed"

		ActiveMessage		is a MessageField
			restricted
			"Active"
		InactiveMessage		is a MessageField
			restricted
			"Inactive"		
		CreateMessage		is a LabelField
			restricted
			"CreateRequester"
		RequesterMessage	is a LabelField
			restricted
			"<Requester.Employee.Name.PreferredFirstAndLastName>'sRequesterProfile"

		ContextMessageEntityType is a StringField
			type is Alpha 30
			restricted
			"InforContactMaster"

		DerivedFormTitle	is a DerivedField
			type is MessageField
			restricted
			if (RecordExists)
				return RequesterMessage
			else
				return CreateMessage
	
		RSSLPLDefaultHomePageTitle 		is a LabelField
			"<Requester.Employee.Name.PreferredFirstAndLastName>_|_Company:_<Company.RepresentativeText>_|_Location:_<RequestingLocation.RepresentativeText>"
		
		RSSLPLNoCompanyDefaultHomePageTitle is a LabelField
			"<Requester.Employee.Name.PreferredFirstAndLastName>_|_Location:_<RequestingLocation.RepresentativeText>"
		
		RSSLPLNoRequestingLocationDefaultHomePageTitle is a LabelField
			"<Requester.Employee.Name.PreferredFirstAndLastName>_|_Company:_<Company.RepresentativeText>"
		
		RSSLPLNoCompanyAndRequestingLocationDefaultHomePageTitle is a LabelField
			"<Requester.Employee.Name.PreferredFirstAndLastName>"

		RSSLPLHomePageTitle 	is a DerivedField
			type is MessageField
			if (DerivedRSSHomePageTitle entered)
				return DerivedRSSHomePageTitle
			else
			if (RSSLPLDisplayCompany 
			and not RSSLPLDisplayRequestingLocation)
				return RSSLPLNoRequestingLocationDefaultHomePageTitle
			else
			if (not RSSLPLDisplayCompany 
			and RSSLPLDisplayRequestingLocation)
				return RSSLPLNoCompanyDefaultHomePageTitle
			else
			if (not RSSLPLDisplayCompany 
			and not RSSLPLDisplayRequestingLocation)
				return RSSLPLNoCompanyAndRequestingLocationDefaultHomePageTitle
			else
				return RSSLPLDefaultHomePageTitle

		RequesterStatus		is a DerivedField
			type is Text
			if (Active)
				return ActiveMessage
			else
				return InactiveMessage

		RequesterStatusMessage is a DerivedField
			type is MessageField
			default label is "Status"
			if (Active)
				return ActiveMessage
			else
				return InactiveMessage

		DerivedSpecialItemValidation is a DerivedField 
			type is AlphaUpper size 1
			if (SpecialItemValidation entered)
				return SpecialItemValidation
			else
				return Company.SpecialItemValidation

		DerivedDuplicateItemValidation is a DerivedField 
			type is AlphaUpper size 1
			if (DuplicateItemValidation entered)
				return DuplicateItemValidation
			else
				return Company.DuplicateItemValidation

		DerivedShowCatalogSearch is a DerivedField 
			type is AlphaUpper size 1
			if (ShowCatalogSearch entered)
				return ShowCatalogSearch
			else
				return Company.ShowCatalogSearch

		DerivedCatalogSearchPageSizeDisplayOption is a DerivedField 
			type is AlphaUpper size 3
			if (CatalogSearchPageSizeDisplayOption entered)
				return CatalogSearchPageSizeDisplayOption
			else
				return Company.CatalogSearchPageSizeDisplayOption

		DerivedCatalogSearchSortOrderDisplayOption is a DerivedField 
			type is AlphaUpper size 1
			if (CatalogSearchSortOrderDisplayOption entered)
				return CatalogSearchSortOrderDisplayOption
			else
				return Company.CatalogSearchSortOrderDisplayOption

		DerivedCatalogSearchTypeAheadDisplayOption is a DerivedField 
			type is AlphaUpper size 1
			if (CatalogSearchTypeAheadDisplayOption entered)
				return CatalogSearchTypeAheadDisplayOption
			else
				return Company.CatalogSearchTypeAheadDisplayOption

		DerivedShowShoppingList is a DerivedField 
			type is AlphaUpper size 1
			if (ShowShoppingList entered)
				return ShowShoppingList
			else
				return Company.ShowShoppingList
				
		DerivedShoppingListPageSizeDisplayOption is a DerivedField 
			type is AlphaUpper size 3
			if (ShoppingListPageSizeDisplayOption entered)
				return ShoppingListPageSizeDisplayOption
			else
				return Company.ShoppingListPageSizeDisplayOption			

        DerivedShoppingListSearchSortOrderDisplayOption is a DerivedField
            type is AlphaUpper size 1
            if (ShoppingListSearchSortOrderDisplayOption entered)
                return ShoppingListSearchSortOrderDisplayOption
            else
                return Company.ShoppingListSearchSortOrderDisplayOption

		DerivedShowSpecialServices is a DerivedField 
			type is AlphaUpper size 1
			if (ShowSpecialServices entered)
				return ShowSpecialServices
			else
				return Company.ShowSpecialServices			

		DerivedShowPunchout is a DerivedField 
			type is AlphaUpper size 1
			if (ShowPunchout entered)
				return ShowPunchout
			else
				return Company.ShowPunchout			

		DerivedRequisitionApprovalType is a DerivedField 
			type is like RequisitionApprovalType
			if (RequisitionApprovalType entered)
				return RequisitionApprovalType
			else
				return Company.RequisitionApprovalType			

		DerivedShowSourcingEvent is a DerivedField 
			type is AlphaUpper size 1
			if (ShowSourcingEvent entered)
				return ShowSourcingEvent
			else
				return Company.ShowSourcingEvent			

		DerivedAccountingDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (AccountingDisplayOption entered)
				return AccountingDisplayOption
			else
				return Company.AccountingDisplayOption			

		DerivedProjectDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (ProjectDisplayOption entered)
				return ProjectDisplayOption
			else
				return Company.ProjectDisplayOption			

		DerivedAssetDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (AssetDisplayOption entered)
				return AssetDisplayOption
			else
				return Company.AssetDisplayOption			

		DerivedRequesterDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (RequesterDisplayOption entered)
				return RequesterDisplayOption
			else
				return Company.RequesterDisplayOption			

		DerivedCompanyDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (CompanyDisplayOption entered)
				return CompanyDisplayOption
			else
				return Company.CompanyDisplayOption			

		DerivedRequestingLocationDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (RequestingLocationDisplayOption entered)
				return RequestingLocationDisplayOption
			else
				return Company.RequestingLocationDisplayOption			

		DerivedReceivingDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (ReceivingDisplayOption entered)
				return ReceivingDisplayOption
			else
				return Company.ReceivingDisplayOption			

		DerivedRequisitionDescriptionDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (RequisitionDescriptionDisplayOption entered)
				return RequisitionDescriptionDisplayOption
			else
				return Company.RequisitionDescriptionDisplayOption

		DerivedPriorityDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (PriorityDisplayOption entered)
				return PriorityDisplayOption
			else
				return Company.PriorityDisplayOption			

		DerivedBillOnlyDetailDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (!AllowDisplayOfProcedureInfo)
				return "H"
			if (BillOnlyDetailDisplayOption entered)
				return BillOnlyDetailDisplayOption
			else
				return Company.BillOnlyDetailDisplayOption			

		DerivedDropShipDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (DropShipDisplayOption entered)
				return DropShipDisplayOption
			else
				return Company.DropShipDisplayOption			

		DerivedFromCompanyDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (FromCompanyDisplayOption entered)
				return FromCompanyDisplayOption
			else
				return Company.FromCompanyDisplayOption			

		DerivedFromLocationDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (FromLocationDisplayOption entered)
				return FromLocationDisplayOption
			else
				return Company.FromLocationDisplayOption			

		DerivedVendorDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (VendorDisplayOption entered)
				return VendorDisplayOption
			else
				return Company.VendorDisplayOption			

		DerivedCurrencyDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (CurrencyDisplayOption entered)
				return CurrencyDisplayOption
			else
				return Company.CurrencyDisplayOption

		DerivedPurchaseFromDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (PurchaseFromDisplayOption entered)
				return PurchaseFromDisplayOption
			else
				return Company.PurchaseFromDisplayOption			

		DerivedBuyerDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (BuyerDisplayOption entered)
				return BuyerDisplayOption
			else
				return Company.BuyerDisplayOption			

		DerivedPOCodeDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (POCodeDisplayOption entered)
				return POCodeDisplayOption
			else
				return Company.POCodeDisplayOption			

		DerivedTaxInfoDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (TaxInfoDisplayOption entered)
				return TaxInfoDisplayOption
			else
				return Company.TaxInfoDisplayOption			

		DerivedQuoteRequiredDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (QuoteRequiredDisplayOption entered)
				return QuoteRequiredDisplayOption
			else
				return Company.QuoteRequiredDisplayOption			

		DerivedSingleDocToPODisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (SingleDocToPODisplayOption entered)
				return SingleDocToPODisplayOption
			else
				return Company.SingleDocToPODisplayOption			

		DerivedPurchaseClassesDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (PurchaseClassesDisplayOption entered)
				return PurchaseClassesDisplayOption
			else
				return Company.PurchaseClassesDisplayOption			

		DerivedGenericNameDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (GenericNameDisplayOption entered)
				return GenericNameDisplayOption
			else
				return Company.GenericNameDisplayOption			

		DerivedInspectionRequiredDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (InspectionRequiredDisplayOption entered)
				return InspectionRequiredDisplayOption
			else
				return Company.InspectionRequiredDisplayOption			

		DerivedCertificationRequiredDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (CertificationRequiredDisplayOption entered)
				return CertificationRequiredDisplayOption
			else
				return Company.CertificationRequiredDisplayOption			

		DerivedCreatePODisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (CreatePODisplayOption entered)
				return CreatePODisplayOption
			else
				return Company.CreatePODisplayOption			

		DerivedFillOrKillFlagDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (FillOrKillFlagDisplayOption entered)
				return FillOrKillFlagDisplayOption
			else
				return Company.FillOrKillFlagDisplayOption			

		DerivedServiceInfoDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (ServiceInfoDisplayOption entered)
				return ServiceInfoDisplayOption
			else
				return Company.ServiceInfoDisplayOption			

		DerivedRequestedDeliveryDateDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (RequestedDeliveryDateDisplayOption entered)
				return RequestedDeliveryDateDisplayOption
			else
				return Company.RequestedDeliveryDateDisplayOption			

		DerivedDeliverToDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (DeliverToDisplayOption entered)
				return DeliverToDisplayOption
			else
				return Company.DeliverToDisplayOption			

		DerivedAllowAllCommentTypes is a DerivedField
			type is AlphaUpper size 1
			if (AllowAllCommentTypes entered)
				return AllowAllCommentTypes
			else
				return Company.AllowAllCommentTypes			

		DerivedCommodityCodeDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (CommodityCodeDisplayOption entered)
				return CommodityCodeDisplayOption
			else
				return Company.CommodityCodeDisplayOption			

 		BlankField is a DerivedField
			type is Alpha 1
			return blank				

       	DerivedCompany is a StringField
            type is Alpha size up to 87
            Company
            " - "
            Company.Name

        RequestingLocationAndName is a StringField
            type is Alpha size up to 101
            restricted
            RequestingLocation
            " - "
            RequestingLocation.Name

        DerivedRequestingLocation is a DerivedField
            type is Alpha size up to 101
            if (RequestingLocation entered)
            	return RequestingLocationAndName

        FromCompanyAndName is a StringField
            type is Alpha size up to 87
			restricted
            RequestingLocation.FromCompanyLocation.FromCompany
            " - "
            RequestingLocation.FromCompanyLocation.FromCompany.Name

        DerivedFromCompany is a DerivedField
            type is Alpha size up to 87
            if (RequestingLocation.FromCompanyLocation.FromCompany entered)
            	return FromCompanyAndName

        FromLocationAndName is a StringField
            type is Alpha size up to 101
			restricted
            RequestingLocation.FromCompanyLocation.FromLocation
            " - "
            RequestingLocation.FromCompanyLocation.FromLocation.Name

        DerivedFromLocation is a DerivedField
            type is Alpha size up to 101
            if (RequestingLocation.FromCompanyLocation.FromLocation entered)
            	return FromLocationAndName

        BuyerAndName is a StringField
            type is Alpha size up to 117
			restricted
            RequestingLocation.Buyer
            " - "
            RequestingLocation.Buyer.Name

        DerivedBuyer is a DerivedField
            type is Alpha size up to 117
            if (RequestingLocation.Buyer entered)
            	return BuyerAndName

        ToAccountingEntityAndName is a StringField
            type is Alpha size up to 93
			restricted
            RequestingLocation.IssueAccount.ToAccountingEntity
            " - "
            RequestingLocation.AccountingEntityRel.Name

        DerivedToAccountingEntity is a DerivedField
            type is Alpha size up to 93
            if (RequestingLocation.IssueAccount.ToAccountingEntity entered)
            	return ToAccountingEntityAndName

        AccountAndDescription is a StringField
            type is Alpha size up to 89
			restricted
            RequestingLocation.IssueAccount.GeneralLedgerChartAccount
            " - "
            RequestingLocation.GeneralLedgerChartAccountRel.AccountDescription

        DerivedAccount is a DerivedField
            type is Alpha size up to 89
            if (RequestingLocation.IssueAccount.GeneralLedgerChartAccount entered)
            	return AccountAndDescription

        AccountingUnitAndDescription is a StringField
            type is Alpha size up to 88
			restricted
            RequestingLocation.IssueAccount.AccountingUnit
            " - "
            RequestingLocation.AccountingUnitRel.Description

        DerivedAccountingUnit is a DerivedField
            type is Alpha size up to 88
            if (RequestingLocation.IssueAccount.AccountingUnit entered)
            	return AccountingUnitAndDescription

        ProjectAndDescription is a StringField
            type is Alpha size up to 88
			restricted
            RequestingLocation.IssueAccount.Project
            " - "
            RequestingLocation.ProjectRel.Description

        DerivedProject is a DerivedField
            type is Alpha size up to 88
            if (RequestingLocation.IssueAccount.Project entered)
            	return ProjectAndDescription

		FinanceDimension1AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension1
			" - "
			RequestingLocation.FinanceDimension1Rel.Description
		
		DerivedFinanceDimension1 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension1 entered)
				return FinanceDimension1AndDescription

		FinanceDimension2AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension2
			" - "
			RequestingLocation.FinanceDimension2Rel.Description
		
		DerivedFinanceDimension2 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension2 entered)
				return FinanceDimension2AndDescription

		FinanceDimension3AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension3
			" - "
			RequestingLocation.FinanceDimension3Rel.Description
		
		DerivedFinanceDimension3 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension3 entered)
				return FinanceDimension3AndDescription

		FinanceDimension4AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension4
			" - "
			RequestingLocation.FinanceDimension4Rel.Description
		
		DerivedFinanceDimension4 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension4 entered)
				return FinanceDimension4AndDescription

		FinanceDimension5AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension5
			" - "
			RequestingLocation.FinanceDimension5Rel.Description
		
		DerivedFinanceDimension5 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension5 entered)
				return FinanceDimension5AndDescription

		FinanceDimension6AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension6
			" - "
			RequestingLocation.FinanceDimension6Rel.Description
		
		DerivedFinanceDimension6 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension6 entered)
				return FinanceDimension6AndDescription

		FinanceDimension7AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension7
			" - "
			RequestingLocation.FinanceDimension7Rel.Description
		
		DerivedFinanceDimension7 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension7 entered)
				return FinanceDimension7AndDescription

		FinanceDimension8AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension8
			" - "
			RequestingLocation.FinanceDimension8Rel.Description
		
		DerivedFinanceDimension8 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension8 entered)
				return FinanceDimension8AndDescription

		FinanceDimension9AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension9
			" - "
			RequestingLocation.FinanceDimension9Rel.Description
		
		DerivedFinanceDimension9 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension9 entered)
				return FinanceDimension9AndDescription

		FinanceDimension10AndDescription is a StringField
			type is Alpha size up to 88
			restricted
			RequestingLocation.IssueAccount.FinanceDimension10
			" - "
			RequestingLocation.FinanceDimension10Rel.Description
		
		DerivedFinanceDimension10 is a DerivedField
			type is Alpha size up to 88
			if (RequestingLocation.IssueAccount.FinanceDimension10 entered)
				return FinanceDimension10AndDescription

        PurchaseTaxCodeAndDescription is a StringField
            type is Alpha size up to 78
			restricted
            RequestingLocation.PurchaseTaxCode
            " - "
            RequestingLocation.PurchaseTaxCode.Description

        DerivedPurchaseTaxCode is a DerivedField
            type is Alpha size up to 78
            if (RequestingLocation.PurchaseTaxCode entered)
            	return PurchaseTaxCodeAndDescription

        POCodeAndDescription is a StringField
            type is Alpha size up to 67
			restricted
            RequestingLocation.POCode
            " - "
            RequestingLocation.POCode.Description

        DerivedPOCode is a DerivedField
            type is Alpha size up to 67
            if (RequestingLocation.POCode entered)
            	return POCodeAndDescription

		DerivedRestrictedByLabel	is a DerivedField
			type is MessageField
			default label is "RestrictedBy"
			if (DisplayRestrictedByLabel)
				return Company.ItemGroup.StructureRow.DisplayLabel

		DerivedDefaultCommentType is a DerivedField
			type is AlphaUpper size 1
			if (DefaultCommentType entered)
				return DefaultCommentType
			if (Company.DefaultCommentType entered)
				return Company.DefaultCommentType			
			else
				return "Q"			

		DerivedDefaultCommentTypeDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (DefaultCommentTypeDisplayOption entered)
				return DefaultCommentTypeDisplayOption
			else
				return Company.DefaultCommentTypeDisplayOption			

		RequesterHomepageUrl is a NativeField
			type is Alpha size 256
			
		DerivedRRLValidationOption is a DerivedField
			type is Alpha size 10
			if(first RequesterRequestingLocationsRel.ValidationOption.Disallowed)
				return "Disallowed"
			else
				return "Allowed"

		DerivedInventoryReturnsDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (InventoryReturnsDisplayOption entered)
				return InventoryReturnsDisplayOption
			else
				return Company.InventoryReturnsDisplayOption							

		DerivedConsignCodeDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (ConsignCodeDisplayOption entered)
				return ConsignCodeDisplayOption
			else
				return Company.ConsignCodeDisplayOption
				
		DerivedRequesterFavoritePOTemplate is a DerivedField
			type is like ProcurementTemplate
			if (RequesterFavoritePOTemplateRel exists)
				return first RequesterFavoritePOTemplateRel.ProcurementTemplate						

		DerivedVendorItemDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (VendorItemDisplayOption entered)
				return VendorItemDisplayOption
			else
				return Company.VendorItemDisplayOption			

		DerivedCostOptionDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (CostOptionDisplayOption entered)
				return CostOptionDisplayOption
			else
				return Company.CostOptionDisplayOption			
							
		DerivedManufacturerDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (ManufacturerDisplayOption entered)
				return ManufacturerDisplayOption
			else
				return Company.ManufacturerDisplayOption			
							
		DerivedManufacturerNumberDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (ManufacturerNumberDisplayOption entered)
				return ManufacturerNumberDisplayOption
			else
				return Company.ManufacturerNumberDisplayOption			

		DerivedPurchasingClassValidation is a DerivedField
			type is Numeric 1
			restricted
			if (action type.Update)
				return blank
			else
				if (ExcludePurchasingClasses)
					return TransientPurchasingClassValidation.Disallowed
				else
					return TransientPurchasingClassValidation.Allowed

		DerivedContractDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (ContractDisplayOption entered)
				return ContractDisplayOption
			else
				return Company.ContractDisplayOption

		DerivedUserFieldsDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (UserFieldsDisplayOption entered)
				return UserFieldsDisplayOption
			else
				return Company.UserFieldsDisplayOption
				
		DerivedEAMDescriptionDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (EAMDescriptionDisplayOption entered)
				return EAMDescriptionDisplayOption
			else
				return Company.EAMDescriptionDisplayOption

		DerivedAOCDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (AOCDisplayOption entered)
				return AOCDisplayOption
			else
				return Company.AOCDisplayOption
				
		DerivedDisplayOnlyTransactionUOM is a DerivedField
			type is AlphaUpper size 1
			if (DisplayOnlyTransactionUOM entered)
				return DisplayOnlyTransactionUOM
			else
				return Company.DisplayOnlyTransactionUOM
				
		DerivedStockOnHandDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (StockOnHandDisplayOption entered)
				return StockOnHandDisplayOption
			else
				return Company.StockOnHandDisplayOption
				
		DerivedCostDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (CostDisplayOption entered)
				return CostDisplayOption
			else
				return Company.CostDisplayOption
				
		DerivedAllowFilterOptionInCatalogSearch is a DerivedField
			type is AlphaUpper size 1
			if (AllowFilterOptionInCatalogSearch entered)
				return AllowFilterOptionInCatalogSearch
			else
				return Company.AllowFilterOptionInCatalogSearch
				
		DerivedAllowQuantityMultiplierOnShoppingList is a DerivedField
			type is AlphaUpper size 1
			if (AllowQuantityMultiplierOnShoppingList entered)
				return AllowQuantityMultiplierOnShoppingList
			else
				return Company.AllowQuantityMultiplierOnShoppingList
				
		DerivedEnableFavorites is a DerivedField
			type is AlphaUpper size 1
			if (EnableFavorites entered)
				return EnableFavorites
			else
				return Company.EnableFavorites

		

		
		DerivedDelimiter is a DerivedField
			type is Alpha size 5
			restricted
			LocalConfigurationParameter = "Generic_Delimiter"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
					
		DerivedTenantID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "tenantID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedReleaseID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "releaseID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedLogicalID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "logicalID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedVersionID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "VersionID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedappProdline is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "appProdline"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		BODCurrentTimeStamp is a DerivedField
			type is TimeStamp
			restricted
			BODCurrentTimeStamp = system current timestamp
			return BODCurrentTimeStamp
		
		AlphaCurrentTimeStamp is a DerivedField
			type is Alpha size 20
			restricted
			return BODCurrentTimeStamp	
			
		BODFormattedCurrentTimeStamp is a DerivedField
			type is Alpha size 25
			restricted
			return AlphaCurrentTimeStamp[1:4] + "-" + AlphaCurrentTimeStamp[5:6] + "-" + AlphaCurrentTimeStamp[7:8] + "T" + AlphaCurrentTimeStamp[9:10] + ":" + AlphaCurrentTimeStamp[11:12] + ":" + AlphaCurrentTimeStamp[13:14] + "Z"	
			
		DerivedRequester is a DerivedField
			type is Alpha size 13
			restricted
			return Requester using "%d"
			
		DerivedFinanceEnterpriseGroup is a DerivedField
			type is Alpha size 4
			restricted
			return Company.FinanceEnterpriseGroup
			
		DerivedAccountingEntity is a DerivedField
			type is AlphaUpper size 12
			restricted
			return Company.GeneralLedgerCompany.AccountingEntity
		
		DerivedConfigFEG is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "IsMultipleFEG"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
					
		DerivedConfigDocID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "RequiredCleanDocumentID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
					
		DerivedCrossGLC is a DerivedField
			type is Alpha size 50
			restricted
			if (DerivedConfigFEG = "Y")
				return DerivedFinanceEnterpriseGroup + DerivedDelimiter + DerivedBODCompany
			else
				return DerivedBODCompany
				
		DerivedAECrossAccountingEntity is a DerivedField
			type is Alpha size 50
			restricted
			if(LocalAEAlreadyExecuted != true)
				LocalAEAlreadyExecuted = true
				if (FSMBODAECrossReferenceDetailRel.DestinationValue entered)
					LocalCrossAE = FSMBODAECrossReferenceDetailRel.DestinationValue
				else
					LocalCrossAE = DerivedCrossGLC
				return LocalCrossAE
			else
				return LocalCrossAE
				
		DerivedBODaccountingEntity is a DerivedField
			type is Alpha size 20
			restricted
			if (DerivedConfigDocID = "Y")
				return DerivedAECrossAccountingEntity
			else
				return DerivedFinanceEnterpriseGroup + DerivedDelimiter + DerivedAccountingEntity			
		
		DerivedVariationID is a DerivedField
			type is Alpha size 25	
			restricted
			return bod id.VariationID
		
		DerivedBODrevision is a DerivedField
			type is Alpha size 25	
			restricted
			return ""
			
		DerivedBODlocation is a DerivedField
			type is Alpha size 25	
			restricted
			return ""
						
		DerivedbodID is a DerivedField
			type is Alpha size 100	
			restricted
			return "infor-nid:"+DerivedTenantID+":"+DerivedBODaccountingEntity+":"+DerivedBODlocation+":"+DerivedDocumentID+":"+DerivedBODrevision+"?ContactMaster&verb=Sync&TrackerID=" + LocalFSMInboundBODTracker
		
		DerivedBODCompany is a DerivedField
		 	type is Alpha size 4
		 	restricted
		 	return Company using "%d"
		
		DerivedDocumentID is a DerivedField 
			type is Alpha size 20
		 	restricted
		 	if (DerivedConfigDocID = "Y")
		 		return Requester
		 	else
		 		return DerivedBODCompany + DerivedDelimiter + DerivedRequester
		 
		DerivedstatusCode is a DerivedField
		 	type is Alpha size 10
		 	restricted
			if (action type.Delete or ActionCode.Delete)
				return "Deleted"
			else
		 	if (action type.Create)
		 		return "Open"
		 	else
		 	if (action type.Update)
		 		if(Active = "true")
		 			return "Open"
		 		else
		 			return "Closed"
		 	
					
		DerivedBODActionCode is a DerivedField	
			type is Alpha size 10
		 	restricted	
		 	if (action type.Create or ActionCode = "C")
		 		return "Add"
		 	else
		 	if (action type.Update or action type.Delete)
				return "Replace"
			else 
				return ""
				
		DerivedTempEmployeeName is a DerivedField
			type is Alpha size 230
			return Requester.Employee.PresentationNameSnapshot	
		
		DerivedPInternationalPrefix is a DerivedField
			type is Alpha size 23
			restricted
			return Requester.UseForWorkPhone.ContactDetail.Telephone.InternationalPrefix
			
		DerivedPSubscriberNumber is a DerivedField
			type is Alpha size 23
			restricted
			return Requester.UseForWorkPhone.ContactDetail.Telephone.SubscriberNumber	
								
		DerivedPExtension is a DerivedField
			type is Alpha size 23
			restricted
			return Requester.UseForWorkPhone.ContactDetail.Telephone.Extension	
		
		FullMailingAddressDisplay is a DerivedField
			type is Text
			default label is "DeliveryAddress"
			initialize LocalText

			if (RequesterPostalAddress.DeliveryAddress.AddressLine1 entered)
				LocalText += RequesterPostalAddress.DeliveryAddress.AddressLine1
				if (RequesterPostalAddress.DeliveryAddress.AddressLine2 entered
					or RequesterPostalAddress.DeliveryAddress.AddressLine3 entered
					or RequesterPostalAddress.DeliveryAddress.AddressLine4 entered
					or MailingCityStateZIPDisplayEntered)
					LocalText += Company.FinanceEnterpriseGroup.NewLine

			if (RequesterPostalAddress.DeliveryAddress.AddressLine2 entered)
				LocalText += RequesterPostalAddress.DeliveryAddress.AddressLine2
				if (RequesterPostalAddress.DeliveryAddress.AddressLine3 entered
					or RequesterPostalAddress.DeliveryAddress.AddressLine4 entered
					or MailingCityStateZIPDisplayEntered)
					LocalText += Company.FinanceEnterpriseGroup.NewLine

			if (RequesterPostalAddress.DeliveryAddress.AddressLine3 entered)
				LocalText += RequesterPostalAddress.DeliveryAddress.AddressLine3
				if (RequesterPostalAddress.DeliveryAddress.AddressLine4 entered
					or MailingCityStateZIPDisplayEntered)
					LocalText += Company.FinanceEnterpriseGroup.NewLine

			if (RequesterPostalAddress.DeliveryAddress.AddressLine4 entered)
				LocalText += RequesterPostalAddress.DeliveryAddress.AddressLine4
				if (MailingCityStateZIPDisplayEntered)
					LocalText += Company.FinanceEnterpriseGroup.NewLine

			if (MailingCityStateZIPDisplayEntered)
				LocalText += CityStateZIPDisplay
			return LocalText

		CityStateZIPDisplay is a DerivedField
			type is Text
			restricted
			initialize LocalText2

			if (RequesterPostalAddress.Municipality entered)
				LocalText2 += RequesterPostalAddress.Municipality
				if (RequesterPostalAddress.StateProvince entered
					or RequesterPostalAddress.PostalCode entered)
					LocalText2 += ", "

			if (RequesterPostalAddress.StateProvince entered
				and RequesterPostalAddress.PostalCode entered)
				LocalText2 += RequesterPostalAddress.StateProvince + " " + RequesterPostalAddress.PostalCode
			else
				LocalText2 += RequesterPostalAddress.StateProvince + RequesterPostalAddress.PostalCode
			return LocalText2

		DerivedAddressLine1 is a DerivedField
			type is Alpha size 40
			restricted
			return Requester.UseForMailing.PostalAddress.DeliveryAddress.AddressLine1
			
		DerivedAddressLine2 is a DerivedField
			type is Alpha size 40
			restricted
			return Requester.UseForMailing.PostalAddress.DeliveryAddress.AddressLine2
			
		DerivedAddressLine3 is a DerivedField
			type is Alpha size 40
			restricted
			return Requester.UseForMailing.PostalAddress.DeliveryAddress.AddressLine3
			
		DerivedAddressLine4 is a DerivedField
			type is Alpha size 40
			restricted
			return Requester.UseForMailing.PostalAddress.DeliveryAddress.AddressLine4
		
		DerivedMuncipality is a DerivedField
			type is Alpha size 40
			restricted
			return Requester.UseForMailing.PostalAddress.Municipality
		
		DerivedStateProvince is a DerivedField
			type is Alpha size 10
			restricted
			return Requester.UseForMailing.PostalAddress.StateProvince
			
		DerivedCountry is a DerivedField
			type is Alpha size 10
			restricted
			return Requester.UseForMailing.PostalAddress.Country
		
		DerivedPostalCode is a DerivedField
			type is Alpha size 10
			restricted
			return Requester.UseForMailing.PostalAddress.PostalCode
		
		DerivedEmailAddress is a DerivedField
			type is Alpha size 300
			restricted
			return Requester.UseForWorkEmail.ContactDetail.EmailAddress
								
		ContactMasterRQXMLBOD is a DerivedField
			type is XMLDocument
			restricted
			if (DerivedConfigDocID = "Y")
				ContactMasterRQXMLBOD = template.IONContactMasterRQXML_CleanDoc_ST document for this instance
			else
				ContactMasterRQXMLBOD = template.IONContactMasterRQXML_ST document for this instance
			
		DerivedAllowContractProposals is a DerivedField
			type is AlphaUpper size 1
			if (AllowContractProposals entered)
				return AllowContractProposals
			else
				return Company.AllowContractProposals			
			
		DerivedDistributionCodeDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (DistributionCodeDisplayOption entered)
				return DistributionCodeDisplayOption
			else
				return Company.DistributionCodeDisplayOption
				
		DerivedRSSHomePageTitle is a DerivedField
			type is Alpha size 30
			if (RSSHomePageTitle entered)
				return RSSHomePageTitle
			else
				return Company.RSSHomePageTitle			
			
		DerivedLocationRule is a DerivedField
			type is AlphaUpper size 12
			if (RequesterFromCompanyLocationRel.LocationRule entered)
				return RequesterFromCompanyLocationRel.LocationRule
			
		DerivedVendorSearchOption is a DerivedField
			type is AlphaUpper size 1
			if (VendorSearchOption entered)
				return VendorSearchOption
			else
				return Company.VendorSearchOption			

		DerivedShoppingCompany  is a DerivedField
			type is like InventoryCompany
			if (RequisitionExists)
				return RequisitionRel.Company
			else
				return Company

		DerivedShoppingRequestingLocation is a DerivedField
			type is like RequestingLocation
			if (RequisitionExists)
				return RequisitionRel.RequestingLocation
			else
				return RequestingLocation
			
		MobileRequesterShoppingFormTitle is a DerivedField
			type is MessageField
			default label is "RequesterShoppingFormTitle"
			if (CurrentRequisitionForRQC entered)
				return "Requisition " + CurrentRequisitionForRQC
			else
				return "Find an Item"
				
		DerivedGLEncumbranceReferenceDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (GLEncumbranceReferenceDisplayOption entered)
				return GLEncumbranceReferenceDisplayOption
			else
				return Company.GLEncumbranceReferenceDisplayOption

		DerivedGTINDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (GTINDisplayOption entered)
				return GTINDisplayOption
			else
				return Company.GTINDisplayOption
				
		DerivedAllowRequestNewItem is a DerivedField
			type is AlphaUpper size 1
			if (AllowRequestNewItem entered)
				return AllowRequestNewItem
			else
				return Company.AllowRequestNewItem

		AlternateAddressDropshipMessage	is a LabelField
			restricted
			"AlternateShipToAddress_/ReceivingOptions"

		AlternateAddressMessage	is a LabelField
			restricted
			"AlternateShipToAddress"

		AlternateAddressDropshipTitle is a ConditionalField
			type is MessageField
			if (AllowDropship)
				AlternateAddressDropshipMessage
			else
				AlternateAddressMessage

		DerivedAllowRequestNewVendor is a DerivedField
			type is AlphaUpper size 1
			if (AllowRequestNewVendor entered)
				return AllowRequestNewVendor
			else
				return Company.AllowRequestNewVendor
				
		DerivedInternalOnly is a DerivedField
			type is AlphaUpper size 1
			if (InternalOnly entered)
				return InternalOnly
			else
				return Company.InternalOnly

		DerivedContractsOnly is a DerivedField
			type is AlphaUpper size 1
			if (ContractsOnly entered)
				return ContractsOnly
			else
				if (Company.ContractsOnly)
					return "Y"
				else 
					return "N"

		DerivedRequisitionSelfServiceLPL is a DerivedField
			type is AlphaUpper size 1
			if (RequisitionSelfServiceLPL entered)
				return RequisitionSelfServiceLPL
			else
				return Company.RequisitionSelfServiceLPL
		
		DerivedTransientAssetDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return AssetDisplayOption
		
		DerivedTransientBuyerDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return BuyerDisplayOption
		
		DerivedTransientCommodityCodeDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return CommodityCodeDisplayOption
		
		DerivedTransientDeliverToDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return DeliverToDisplayOption
		
		DerivedTransientGLEncumbranceReferenceDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return GLEncumbranceReferenceDisplayOption
		
		DerivedTransientManufacturerDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return ManufacturerDisplayOption
		
		DerivedTransientManufacturerNumberDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return ManufacturerNumberDisplayOption
		
		DerivedTransientPOCodeDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return POCodeDisplayOption
		
		DerivedTransientPurchaseClassesDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return PurchaseClassesDisplayOption
		
		DerivedTransientPurchaseFromDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return PurchaseFromDisplayOption
		
		DerivedTransientTaxInfoDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return TaxInfoDisplayOption
		
		DerivedTransientVendorDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return VendorDisplayOption
		
		DerivedTransientVendorItemDisplayOption is a DerivedField
			type is AlphaUpper size 1
			if (not action type.Update)
				return VendorItemDisplayOption

		DerivedRSSLPL is a DerivedField 
            type is Boolean
            restricted
			return true
    Conditions
		RecordExists
			restricted
			when (Requester exists)

        IsActive
        	restricted
            when (Active)

        IsInactive
        	restricted
            when (not Active)

        RequesterPurchasingClassExists
        	restricted
            classic name is PURCHASE-CLASS
            when (first RequesterPurchasingClassesRel exists)

		RequesterRequestingLocationsExist
			restricted
			when (RequesterRequestingLocationsRel exists)

        HasRequestingLocation
        	restricted
            classic name is REQ-LOCATION
            when (RequestingLocation entered)
            
        HasFinanceStructure
        	restricted
        	when (RequesterFinanceStructure set exists)

		HasReference1
			restricted
			when (Reference1 entered)

		HasReference2
			restricted
			when (Reference2 entered)

		HasDeliveryAddress
			restricted
			when (RequesterPostalAddress.DeliveryAddress.AddressLine1 entered)

		HasLocationRule
			restricted
			when (DerivedLocationRule entered
			and   CurrentRequisitionForRQC not entered)


		IsValidForActorContext
			restricted
			when ((actor.context.FinanceEnterpriseGroup != ""
			and   Company.FinanceEnterpriseGroup = actor.context.FinanceEnterpriseGroup)
			or   (actor.context.FinanceEnterpriseGroup = ""))        
        	
		IsMyRequester
			restricted
			when (Requester = actor.agent(Employee).Employee and IsValidForActorContext)
			
		StrategicSourcingUsed
			when (SourcingCompanyRel exists
			and   DerivedShowSourcingEvent = "S")       	

	
		DisplayReceivingPage
			when (DerivedReceivingDisplayOption = "S")
	
		DisplayMobileReceivingPage
			when (DerivedReceivingDisplayOption = "M")
		
		FirstRequesterRequestingLocationDisallowed
			restricted
			when (first RequesterRequestingLocationsRel.ValidationOption.Disallowed)
		
		PurchasingClassValidationAllowed
			restricted
			when (not ExcludePurchasingClasses)

		DisplayCost
			when (DerivedCostDisplayOption = "S")	
			
		DisplayDistributionCode
			restricted
			when (DerivedDistributionCodeDisplayOption = "S")

		DisplayRestrictedByLabel
			restricted
			when (Company.ItemGroup.StructureRow entered)

		DisplayUserFields
			restricted
			when (DerivedUserFieldsDisplayOption = "S")	
			
		OpenRequisitionsForRequester
			restricted
			when (OpenRequisitionsForRequesterRel exists)

		PendingRequisitionsForRequester
			restricted
			when (PendingRequisitionsForRequesterRel exists)

		RequesterPunchoutVendorsExist
			restricted
			when (RequesterPunchoutVendorsRel exists)

		RequesterFinanceStructureExist
			restricted
			when (RequesterFinanceStructureRel exists)

		MailingCityStateZIPDisplayEntered
			restricted
			when (RequesterPostalAddress.Municipality entered
			or 	  RequesterPostalAddress.StateProvince entered
			or	  RequesterPostalAddress.PostalCode entered)

        BypassRuleForTheseFiles
			restricted
       		when (parentcontext.name = "PurchaseOrderEDIOutput")

		RequisitionExists
			restricted
			when(RequisitionRel exists)

		RequisitionLineExists
			restricted
			when(RequisitionLineRel exists)

		ContractProposalsAllowed
			restricted
			when(DerivedAllowContractProposals = "Y")

		DisplayReceiving
			restricted
			when(DerivedReceivingDisplayOption = "S")

		DisplayContract
			restricted
			when(DerivedContractDisplayOption = "S")

		RequestNewItemAllowed
			restricted
			when(DerivedAllowRequestNewItem = "Y")

		RequestNewVendorAllowed
			restricted
			when(DerivedAllowRequestNewVendor = "Y")
		QuantityMultiplierOnShoppingListAllowed
			restricted
			when (DerivedAllowQuantityMultiplierOnShoppingList = "Y")
		ShoppingListsAllowed
			restricted
			when (DerivedShowShoppingList = "S")
		PunchoutAllowed
			restricted
			when (DerivedShowPunchout = "S")
		SpecialServicesAllowed
			restricted
			when (DerivedShowSpecialServices = "S")
		CatalogSearchAllowed
			restricted
			when (DerivedShowCatalogSearch = "A"
			or    DerivedShowCatalogSearch = "S")
		ItemNoteAllowed
			restricted
			when (DerivedEAMDescriptionDisplayOption = "S")
		CannotCreateCapitatedRequisition
			restricted 
			when (!CanCreateCapitatedRequisition)
		RequisitionSelfServiceLPLAllowed
			restricted
			when(DerivedRequisitionSelfServiceLPL = "Y")
		DisplayRSSLPL
            restricted
            when (DerivedRSSLPL)
		DisplayAOCOption
			restricted
			when (DerivedAOCDisplayOption = "S")
		
		DisplayRequestedDeliveryDate
			restricted
			when (DerivedRequestedDeliveryDateDisplayOption = "S" 
			or DerivedRequestedDeliveryDateDisplayOption = "R")
						
		DisplayPOCode
			restricted
			when (DerivedPOCodeDisplayOption = "S" 
			or DerivedPOCodeDisplayOption = "R")

		DisplayTaxInfo
			restricted
			when (DerivedTaxInfoDisplayOption = "S"
			or DerivedTaxInfoDisplayOption = "R")
		
		DisplayAccounting
			restricted
			when (DerivedAccountingDisplayOption = "S" 
			or DerivedAccountingDisplayOption = "F")
		
		DisplayBillCode
			restricted
			when (DerivedConsignCodeDisplayOption = "S")
				
		DisplayBuyer
			restricted
			when (DerivedBuyerDisplayOption = "S"
			or DerivedBuyerDisplayOption = "R")
		
		DisplayOnlyBuyer
			restricted
			when (DerivedBuyerDisplayOption = "D")
				
		DisplayPatientProcedure
			restricted
			when (DerivedBillOnlyDetailDisplayOption = "S")

		DisplayGTIN
			restricted
			when (DerivedGTINDisplayOption = "S")

		DisplayVendor
			restricted
			when (DerivedVendorDisplayOption = "S" 
			or DerivedVendorDisplayOption = "R")

		DisplayPurchaseFrom
			restricted
			when (DerivedPurchaseFromDisplayOption = "S" 
			or DerivedPurchaseFromDisplayOption = "R")
		
		DisplayCommodityCode
			restricted
			when (DerivedCommodityCodeDisplayOption = "S" 
			or DerivedCommodityCodeDisplayOption = "R"
			or RequireCommodityCode)


		ShowOnlyVendorsAssociatedWithItem
			restricted
			when (DerivedVendorSearchOption = "I")

		DisplaySingleDocToPO
			restricted
			when (DerivedSingleDocToPODisplayOption = "S")

		DisplayDeliverTo
			restricted
			when (DerivedDeliverToDisplayOption = "S"
			or DerivedDeliverToDisplayOption = "R")

		RequireDeliverTo
			restricted
			when (DerivedDeliverToDisplayOption = "R")

		DisplayRequisitionDescription
			restricted
			when (DerivedRequisitionDescriptionDisplayOption = "S"
			or DerivedRequisitionDescriptionDisplayOption = "R")

		RequireRequisitionDescription
			restricted
			when (DerivedRequisitionDescriptionDisplayOption = "R")

		DisplayDropShip
			restricted
			when (DerivedDropShipDisplayOption = "S")

		DisplayStockOnHand
			restricted
			when (DerivedStockOnHandDisplayOption = "S")

		DisplayFillOrKillFlag
			restricted
			when (DerivedFillOrKillFlagDisplayOption = "S")

		DisplayCostOption
			restricted
			when (DerivedCostOptionDisplayOption = "S")

		DisplayAssetDisplayOption
			restricted
			when (DerivedAssetDisplayOption = "S"
			or DerivedAssetDisplayOption = "R"
			or DerivedAssetDisplayOption = "T")

		RequireAsset
			restricted
			when (DerivedAssetDisplayOption = "R")

		RequireAssetTemplate
			restricted
			when (DerivedAssetDisplayOption = "T")

		DisplayVendorItem
			restricted
			when (DerivedVendorItemDisplayOption = "S"
			or DerivedVendorItemDisplayOption = "R")

		RequireVendorItem
			restricted
			when (DerivedVendorItemDisplayOption = "R")

		DisplayCertificationRequired
			restricted
			when (DerivedCertificationRequiredDisplayOption = "S")

		DisplayInspectionRequired
			restricted
			when (DerivedInspectionRequiredDisplayOption = "S")

		DisplayGLEncumbranceReference
			restricted
			when (DerivedGLEncumbranceReferenceDisplayOption = "S"
			or DerivedGLEncumbranceReferenceDisplayOption = "R")

		RequireGLEncumbranceReference
			restricted
			when (DerivedGLEncumbranceReferenceDisplayOption = "R")

		DisplayAllowAllCommentTypes
			restricted
			when (DerivedAllowAllCommentTypes = "Y")

		DisplayServiceInfo
			restricted
			when (DerivedServiceInfoDisplayOption = "S")

		DisplayPurchaseClasses
			restricted
			when (DerivedPurchaseClassesDisplayOption = "S"
			or DerivedPurchaseClassesDisplayOption = "R"
			or DerivedPurchaseClassesDisplayOption = "B")

		RequireMajorPurchaseClasses
			restricted
			when (DerivedPurchaseClassesDisplayOption = "R"
			or DerivedPurchaseClassesDisplayOption = "B")

		RequireMinorPurchaseClasses
			restricted
			when (DerivedPurchaseClassesDisplayOption = "B")

		SetToDisplayOnlyTransactionUOM
			restricted
			when (DerivedDisplayOnlyTransactionUOM = "Y")

		DisplayCommentType
			restricted
			when (DerivedDefaultCommentTypeDisplayOption = "S")

		DisplayQuoteRequired
			restricted
			when (DerivedQuoteRequiredDisplayOption = "S")

		DisplayGenericName
			restricted
			when (DerivedGenericNameDisplayOption = "S")

		HideCatalogSearch
			restricted
			when (DerivedShowCatalogSearch = "H")

		HideShoppingList
			restricted
			when (DerivedShowShoppingList = "H")

		HideShopPunchoutVendors
			restricted
			when (DerivedShowPunchout = "H")
		ValidateDuplicateItem
			restricted
			when (DerivedDuplicateItemValidation = "U")
		RequireRequestedDeliveryDate
			restricted
			when(DerivedRequestedDeliveryDateDisplayOption = "R")
		RequireManufacturer
			restricted
			when (DerivedManufacturerDisplayOption = "R")
		RequireManufacturerNumber
			restricted
			when (DerivedManufacturerNumberDisplayOption = "R")
		RequireCommodityCodeDisplay
			restricted
			when (DerivedCommodityCodeDisplayOption = "R"
			or RequireCommodityCode)
		RequireBuyer
			restricted
			when (DerivedBuyerDisplayOption = "R")
		RequirePOCode
			restricted
			when (DerivedPOCodeDisplayOption = "R")
		RequireVendor
			restricted
			when (DerivedVendorDisplayOption = "R")
		RequireVendorforSpecialItems
			restricted
			when (DerivedVendorDisplayOption = "R"
			or RequireVendorForSpecials)
		RequireVendorforServiceItems
			restricted
			when (DerivedVendorDisplayOption = "R"
			or RequireVendorForServices)
		FavoritesEnabled
			restricted
			when (DerivedEnableFavorites = "Y")
			
		IsAssetDisplayOptionRequired
			restricted
			when (AssetDisplayOption = "R"
			or AssetDisplayOption = "T")

		IsPurchaseFromDisplayOptionRequired
			restricted
			when (PurchaseFromDisplayOption = "R")

		IsBuyerDisplayOptionRequired
			restricted
			when (BuyerDisplayOption = "R")

		IsPOCodeDisplayOptionRequired
			restricted
			when (POCodeDisplayOption = "R")

		IsDeliverToDisplayOptionRequired
			restricted
			when (DeliverToDisplayOption = "R")

		IsCommodityCodeDisplayOptionRequired
			restricted
			when (CommodityCodeDisplayOption = "R")

		IsManufacturerDisplayOptionHidden
			restricted
			when (ManufacturerDisplayOption = "H")

		IsManufacturerDisplayOptionRequired
			restricted
			when (ManufacturerDisplayOption = "R")
		
		IsManufacturerDisplayOptionHiddenOrRequired
			when (IsManufacturerDisplayOptionHidden
			or IsManufacturerDisplayOptionRequired)

		IsManufacturerNumberDisplayOptionHidden
			restricted
			when (ManufacturerNumberDisplayOption = "H")

		IsManufacturerNumberDisplayOptionRequired
			restricted
			when (ManufacturerNumberDisplayOption = "R")

		IsManufacturerNumberDisplayOptionHiddenOrRequired
			when (IsManufacturerNumberDisplayOptionHidden
			or IsManufacturerNumberDisplayOptionRequired)

		IsGLEncumbranceReferenceDisplayOptionRequired
			restricted
			when (GLEncumbranceReferenceDisplayOption = "R")

		IsPurchaseClassesDisplayOptionRequired
			restricted
			when (PurchaseClassesDisplayOption = "R"
			or PurchaseClassesDisplayOption = "B")

		IsTaxInfoDisplayOptionRequired
			restricted
			when (TaxInfoDisplayOption = "R")

		IsVendorDisplayOptionRequired
			restricted
			when (VendorDisplayOption = "R")

		IsVendorItemDisplayOptionRequired
			restricted
			when (VendorItemDisplayOption = "R")
		
		RSSLPLDisplayCurrencyCode
			restricted
			when (DerivedCurrencyDisplayOption = "S")
		
		RSSLPLDisplayPriority
			restricted
			when (DerivedPriorityDisplayOption = "S"
			or DerivedPriorityDisplayOption = "R")
		
		RSSLPLDisplayFromCompany
			restricted
			when (DerivedFromCompanyDisplayOption = "S"
			or DerivedFromCompanyDisplayOption = "R")
		
		RSSLPLDisplayFromLocation
			restricted
			when (DerivedFromLocationDisplayOption = "S"
			or DerivedFromLocationDisplayOption = "R")

		RSSLPLDisplayCompany
			restricted
			when (DerivedCompanyDisplayOption = "S")
		
		RSSLPLDisplayRequestingLocation
			restricted
			when (DerivedRequestingLocationDisplayOption = "S"
			or DerivedRequestingLocationDisplayOption = "R")
		
		RSSLPLIsPriorityDisplayOptionRequired
			restricted
			when (PriorityDisplayOption = "R")
		
		RSSLPLIsFromCompanyDisplayOptionRequired
			restricted
			when (FromCompanyDisplayOption = "R")
		
		RSSLPLIsFromLocationDisplayOptionRequired
			restricted
			when (FromLocationDisplayOption = "R")
		
		RSSLPLIsRequestingLocationDisplayOptionRequired
			restricted
			when (RequestingLocationDisplayOption = "R")

		
    Relations








 

		RequesterFromCompanyLocationRel
			one-to-one relation to RequestingLocation
			Field Mapping uses symbolic key
				related.Company 			= Company
				related.RequestingLocation 	= RequestingLocation 		


        RequesterPurchasingClassesRel is a RequesterPurchasingClass set
            classic name is PURCHASE-CLASS

		RequesterRequestingLocationsRel
			classic name is RQREQLOC
            one-to-many relation to RequesterRequestingLocation
            Field Mapping uses Rrlset2
                related.Requester = Requester
    		Instance Selection
    			where (related.Company.FinanceEnterpriseGroup.HROrganization = HROrganization)

		RequesterFinanceStructureRel is a RequesterFinanceStructure set
		
        RequisitionsRel
            classic name is REQHEADER
            one-to-many relation to Requisition

            Field Mapping uses Set7
                related.Requester = Requester

        RequesterRel
            one-to-one relation to Requester
            Field Mapping uses Set2
            	related.HROrganization	= HROrganization
            	related.Company			= Company
                related.Requester 		= Requester
 
		RequisitionsForRequesterRel
			one-to-many relation to Requisition
			Field Mapping uses ByRequester
				related.Company		= Company
				related.Requester	= Requester

		OpenRequisitionsForRequesterRel
			one-to-many relation to Requisition
			Field Mapping uses ByRequester
				related.Company		= Company
				related.Requester	= Requester
			Instance Selection
				where (related.Open)

		PendingRequisitionsForRequesterRel
			one-to-many relation to Requisition
			Field Mapping uses ByRequester
				related.Company		= Company
				related.Requester	= Requester
			Instance Selection
				where (related.IsNotApproved)

		RequisitionStatusRel	
			one-to-many relation to RequisitionStatus
			Field Mapping uses symbolic key
				related.Company		   = Company

        RequesterPunchoutVendorsRel is a RequesterPunchoutVendor set

        SourcingCompanyRel
            one-to-one relation to SourcingCompany
            Field Mapping uses symbolic key
                related.Company = Company
                
        RequesterFavoritePOTemplateRel
	        one-to-many relation to RequesterFavoritePOTemplate
			Field Mapping uses symbolic key
				related.Company				= Company
				related.Requester			= Requester
			Instance Selection
				where (related.UseAsDefault	= true)			
					
        ProcurementTemplateRel
	        one-to-many relation to ProcurementTemplate
			Field Mapping uses symbolic key
				related.ProcurementGroup	= Company.ItemGroup
				
      	MSCMServerConfigRel
            one-to-one relation to ConfigurationParameter
            Field Mapping uses symbolic key
                related.ConfigurationParameter.ConfigurationID	= "config"
                related.ConfigurationParameter.Name				= "MSCM_URL"

		EmployeeRel
			one-to-one relation to Employee
			Field Mapping uses symbolic key
				related.HROrganization			= HROrganization
				related.Employee				= Requester


		FSMBODConfigurationParameterRel
        	one-to-one relation to FSMBODConfigurationParameter
			Field Mapping uses symbolic key
            	related.FSMBODConfigurationParameter 		= LocalConfigurationParameter
		
		FSMBODConfigurationRel
        	one-to-one relation to FSMBODConfiguration
			Field Mapping uses symbolic key
            	related.FSMBODConfiguration.Verb 		= 1
            	related.FSMBODConfiguration.Noun 		= "ContactMaster"
            	related.FSMBODConfiguration.Direction 	= 1
        
        FSMBODAECrossReferenceDetailRel
			one-to-many relation to FSMBODCrossReferenceDetail
			Field Mapping uses symbolic key
            	related.FSMBODCrossReference.SourceField 		= "CSFGLC"
            	related.FSMBODCrossReference.DestinationField 	= "DESTAE"
            Instance Selection
				where (related.SourceValue	= DerivedCrossGLC )
        
		FSMInboundBODTrackerRel
            one-to-one relation to FSMInboundBODTracker
            Field Mapping uses symbolic key
                related.FSMInboundBODTracker	= LocalFSMInboundBODTracker
        KeywordShadowRel
			one-to-many relation to KeywordShadow
			Field Mapping uses symbolic key
				
		RequisitionRel
			one-to-one relation to Requisition
			Field Mapping uses symbolic key
				related.Company				= CurrentCompanyForRQC
				related.Requisition			= CurrentRequisitionForRQC
				
		RequisitionLineRel
			one-to-many relation to RequisitionLine
			Field Mapping uses symbolic key
				related.Company				= CurrentCompanyForRQC
				related.Requisition			= CurrentRequisitionForRQC

		RequesterRequisitionLinesRel
			one-to-many relation to RequisitionLine
			Field Mapping uses symbolic key
				related.Company				= Requester.Company

		ShoppingCompanyRel		
			one-to-one relation to InventoryCompany
			Field Mapping uses symbolic key
				related.Company				= DerivedShoppingCompany

		ShoppingRequestingLocationRel		
			one-to-one relation to RequestingLocation
			Field Mapping uses symbolic key
				related.Company				= DerivedShoppingCompany
				related.RequestingLocation	= DerivedShoppingRequestingLocation
		
		TaxEntityRel
			one-to-one relation to TaxEntity
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= Company.FinanceEnterpriseGroup
				related.TaxEntity				= Company.GeneralLedgerCompany.AccountingEntity

		RSSLPLConfigurationParameterRel
            one-to-one relation to ConfigurationParameter
            Field Mapping uses symbolic key
                related.ConfigurationParameter.ConfigurationID = "config"
                related.ConfigurationParameter.Name = "RSS_LPL"	
    Sets

        Set2
            indexed
            Sort Order
            	HROrganization
            	Company
                Requester

    Field Rules

        Company
        	required
        	constraint (Company.FinanceEnterpriseGroup.HROrganization = HROrganization)
				"FinanceEnterpriseGroupAssociatedWithCompanyDoesNotUseEnteredHROrganization"
        
        Active
            initial value is true
		
        ItemEntryMethod
            initial value is "1"
            default to "1"
            required

		ContractsOnly
			if ((ContractsOnly changed
			or InternalOnly changed)
			and ContractsOnly.DefaultFromCompany)
				constraint (InternalOnly not entered)
					"List_Only_Contract_ItemsMustNot_DefaultFromThe_CompanyIf_List_Only_Internal_ItemsIsSet"


		InternalOnly
			if ((InternalOnly changed
			or ContractsOnly changed)
			and InternalOnly.DefaultFromCompany)
				constraint (ContractsOnly not entered)
					"List_Only_Internal_ItemsMustNot_DefaultFromThe_CompanyIf_List_Only_Contract_ItemsIsSet"


		ManualOverrideAllowed
			if (OverrideContractCost
			or  OverrideLastPOLastCost)
				ManualOverrideAllowed = true
				
		SupplierRequisitionReviewer
			if (SupplierRequisitionReviewer = true)
				constraint (AllowDisplayOfProcedureInfo = true)
					"MustAllowDisplayOfProcedureInfoIfRequesterIsASupplierRequisitionReviewer"
		
		OverrideSingleSourceToSinglePO
			initial value is true
			default to true

		BillOnlyDetailDisplayOption
			if (BillOnlyDetailDisplayOption.Show)
				constraint(AllowDisplayOfProcedureInfo)
					"RequesterIsNotAllowedToUpdateProcedureInfo"
					
		ExcludePurchasingClasses
			if (TransientPurchasingClassValidation.Disallowed)
				ExcludePurchasingClasses = true
			else
				initialize ExcludePurchasingClasses

		CanCreatePOForCapitatedRequisition	

			if (CanCreatePOForCapitatedRequisition)
				constraint (SupplierRequisitionReviewer or CanCreateCapitatedRequisition)
					"RequesterMustBeASupplierRequisitionReviewerOrBeAbleToCreateACapitatedRequisitionToBeAbleToCreateAPO"
		RequisitionApprovalType
			if (RequisitionApprovalType.HeaderMatrixApproval)
				constraint (Company.FinanceEnterpriseGroup.EnableResponsibilityMatrix)
					"CannotSetTo_Header_Matrix_ApprovalWhenThe_Finance_Enterprise_GroupDoesNotHaveThe_Responsibility_MatrixTurnedOn"
		
	Attach Rules
		if (not BypassRuleForTheseFiles)
			constraint (Active)
				"Requester<Requester>MustBeActive"

    Rule Blocks
		CheckItemSearchOptions
			constraint (DerivedShowCatalogSearch 	= "S" or
						DerivedShowCatalogSearch	= "A" or
						DerivedShowShoppingList  	= "S" or 
						DerivedShowSpecialServices	= "S" or
						DerivedShowPunchout			= "S")
				"MustShowAtLeastOneItemSearchOptionForRSS_(EitherCatalogSearch,ShoppingList,SpecialAndServices,OrPunchout)OnCompanyOrRequester"	
		
		TriggerContactMasterRQServiceRules
			LocalTitle = "HO:"+HROrganization+" CO:"+Company+" RQ:"+Requester
			increment bod id.VariationID
			trigger "ContactMasterRQService" PA service
				resume on error
				title is "<LocalTitle>"
				Criteria
					Company.FinanceEnterpriseGroup
					Company
				Variables
					ActionCode
					include persistent fields from Requester
					include persistent fields from Requester.UseForMailing
					include persistent fields from Requester.UseForWorkPhone
					include persistent fields from Requester.UseForWorkEmail

					bod id.VariationID
						variable name is VariationId
					Company.FinanceEnterpriseGroup
						variable name is FinanceEnterpriseGroup	
					Company.GeneralLedgerCompany.AccountingEntity
						variable name is AccountingEntity
					Requester.Employee.PresentationNameSnapshot
						variable name is PresentationNameSnapshot
    Actions    
		AttachRequester is an Instance Action           
        	Parameters
				VendorGroup
				PunchoutVendor
				Vendor
            Action Rules
                invoke Create RequesterPunchoutVendor
                    fill in fields from this instance               
                    invoked.HROrganization= HROrganization
                    invoked.Requester = Requester
                    invoked.VendorGroup= VendorGroup
                    invoked.Vendor = Vendor  
                    invoked.PunchoutVendor = PunchoutVendor
                        			
		Create is a Create Action
            Action Rules
				constraint (Company entered)
					"CompanyIsRequired"
				
				include CheckItemSearchOptions
			Field Rules
				Requester
					constraint (RequesterRel not exists)
						"Requester<Requester>AlreadyExistsForCompany<Company>"
						
				Active 
					default to true

		Update is an Update Action	
			Action Rules
				include CheckItemSearchOptions
				
				if (CatalogSearchPageSizeDisplayOption changed)
					confirmation required
						"Warning:SettingALargeCatalogSearchPageSizeMayAffectCatalogSearchPerformance;Continue?"
				
				if ((CatalogSearchTypeAheadDisplayOption changed) and (CatalogSearchTypeAheadDisplayOption = "S"))
					confirmation required
						"Warning:ShowingTheCatalogSearchTypeAheadFeatureMayAffectPerformance;Continue?"
						
				if (ShoppingListPageSizeDisplayOption changed)
					confirmation required
						"Warning:SettingALargeShoppingListPageSizeMayAffectShoppingListDisplayPerformance;Continue?"

		UpdateCurrentRequisitionForRQC is an Instance Action
			restricted
			Parameters
 				PrmCompany					is like InventoryCompany
 				PrmRequisition				is like Requisition
			Action Rules
				CurrentCompanyForRQC 	 = PrmCompany
				CurrentRequisitionForRQC = PrmRequisition

		UpdateCurrentPunchoutContextforRQC is an Instance Action
			restricted
			Parameters
				PrmPunchoutURL is Text
				PrmPunchoutDataRecordKey is Alpha 100
				PrmHROrganization is like HROrganization
				PrmRequester is like Requester
				PrmVendorGroup is like VendorGroup
				PrmVendor is like Vendor
				PrmPunchoutVendor is like PunchoutVendor
				PrmEnhancedPunchoutSetupRequest is Boolean
				PrmRequisition is like Requisition
			Action Rules
				CurrentPunchoutContextforRQC.PunchoutURL = PrmPunchoutURL
				CurrentPunchoutContextforRQC.PunchoutDataRecordKey =  PrmPunchoutDataRecordKey
				CurrentPunchoutContextforRQC.HROrganization = PrmHROrganization
				CurrentPunchoutContextforRQC.Requester = PrmRequester
				CurrentPunchoutContextforRQC.VendorGroup = PrmVendorGroup
				CurrentPunchoutContextforRQC.Vendor = PrmVendor
				CurrentPunchoutContextforRQC.PunchoutVendor = PrmPunchoutVendor
				CurrentPunchoutContextforRQC.EnhancedPunchoutSetupRequest = PrmEnhancedPunchoutSetupRequest
				CurrentPunchoutContextforRQC.Requisition = PrmRequisition

		ReleaseRequisition is an Instance Action
			completion message is "<ReleaseMessage>"
        	valid when (RequisitionExists)
			restricted
        	confirmation required
			Action Rules
				invoke Release RequisitionRel					

		DeleteRequisition is an Instance Action
        	valid when (RequisitionExists)
        	confirmation required
			Action Rules
				invoke Unreleased.Delete RequisitionRel					


		SubmitCart is an Instance Action
			restricted


		DeleteRequest is an Instance Action
			restricted

		Delete is a Delete Action
			Entrance Rules
				constraint(RequisitionsRel not exists)
					"Cannot_\Delete:_\Requisition_\Exists"
				if (Company.FinanceEnterpriseGroup.BODTrigger)
					ActionCode = ActionCode.Delete
					include TriggerContactMasterRQServiceRules
					



						
		SetAllowAlternateShipToAddressOption is a Set Action
			restricted
			disable checkpoint
			Parameters
				PrmCompany					is an InventoryCompany
			Parameter Rules
				PrmCompany
					required
			Sort Order
				Company
			Instance Selection
				where (Company	= PrmCompany)
			Action Rules
				Instance Rules
					if (AllowDropship)
						AllowAlternateShipToAddress = true
					
		SetRSSOptions is a Set Action
			run in foreground
			restricted
			Parameters
				PrmCompany					is an InventoryCompany
				PrmRequestingLocation		is a RequestingLocation
				PrmUserType					is AlphaUpper size 1

			Instance Selection
				where (Company	= PrmCompany
				and   (PrmRequestingLocation not entered
				or     RequestingLocation = PrmRequestingLocation))

			Action Rules
				Instance Rules
					if (PrmUserType = "B")
						invoke SetRSSOptionsToBasicUser
					else 
					if (PrmUserType = "P")
						invoke SetRSSOptionsToPowerUser
					else
						invoke InitializeRSSOptions
					
		SetRSSLPLOptions is a Set Action
			run in foreground
			restricted
			Parameters
				PrmCompany					is an InventoryCompany
				PrmRequestingLocation		is a RequestingLocation
				PrmUserType					is AlphaUpper size 1

			Instance Selection
				where (Company	= PrmCompany
				and   (PrmRequestingLocation not entered
				or     RequestingLocation = PrmRequestingLocation))

			Action Rules
				Instance Rules
					if (PrmUserType = "B")
						invoke RSSLPLSetRSSOptionsToBasicUser
					else 
					if (PrmUserType = "P")
						invoke RSSLPLSetRSSOptionsToPowerUser
					else
						invoke RSSLPLInitializeRSSOptions

		InitializeRSSOptions is an Instance Action
			restricted
			confirmation required
				"Warning:RSSOptionsForThisRequesterWillBeUpdated.DoYouWantToContinue?"

			Action Rules
				ShowCatalogSearch = blank
				CatalogSearchPageSizeDisplayOption = blank
				CatalogSearchSortOrderDisplayOption = blank
				CatalogSearchTypeAheadDisplayOption = blank
				ShowShoppingList = blank
				ShoppingListPageSizeDisplayOption = blank
                ShoppingListSearchSortOrderDisplayOption = blank
				ShowSpecialServices = blank
				ShowPunchout = blank
				ShowSourcingEvent = blank
				AccountingDisplayOption = blank
				ProjectDisplayOption = blank
				AssetDisplayOption = blank
				ContractsOnly = blank
				InternalOnly = blank
				SpecialItemValidation = blank
				DuplicateItemValidation = blank
				RequesterDisplayOption = blank
				CompanyDisplayOption = blank
				RequestingLocationDisplayOption = blank
				ReceivingDisplayOption = blank
				RequisitionDescriptionDisplayOption = blank
				PriorityDisplayOption = blank
				BillOnlyDetailDisplayOption = blank
				DropShipDisplayOption = blank
				FromCompanyDisplayOption = blank
				FromLocationDisplayOption = blank
				VendorDisplayOption = blank
				CurrencyDisplayOption = blank
				PurchaseFromDisplayOption = blank
				BuyerDisplayOption = blank
				POCodeDisplayOption = blank
				TaxInfoDisplayOption = blank
				QuoteRequiredDisplayOption = blank
				SingleDocToPODisplayOption = blank
				PurchaseClassesDisplayOption = blank
				GenericNameDisplayOption = blank
				InspectionRequiredDisplayOption = blank
				CertificationRequiredDisplayOption = blank
				CreatePODisplayOption = blank
				AvailableQuantityDisplayUOM = blank
				FillOrKillFlagDisplayOption = blank
				ServiceInfoDisplayOption = blank
				RequestedDeliveryDateDisplayOption = blank
				DeliverToDisplayOption = blank
				AllowAllCommentTypes = blank
				CommodityCodeDisplayOption = blank
				DefaultCommentTypeDisplayOption = blank
				InventoryReturnsDisplayOption = blank
				ConsignCodeDisplayOption = blank
				VendorItemDisplayOption = blank
				CostOptionDisplayOption = blank
				ManufacturerDisplayOption = blank
				ManufacturerNumberDisplayOption = blank
				ContractDisplayOption = blank
				UserFieldsDisplayOption = blank
				EAMDescriptionDisplayOption = blank
				AOCDisplayOption = blank
				DisplayOnlyTransactionUOM = blank
				StockOnHandDisplayOption = blank
				CostDisplayOption = blank
				AllowFilterOptionInCatalogSearch = blank
				AllowQuantityMultiplierOnShoppingList = blank
				EnableFavorites = blank
				AllowContractProposals = blank
				DistributionCodeDisplayOption = blank
				VendorSearchOption = blank
				GLEncumbranceReferenceDisplayOption = blank
				GTINDisplayOption = blank
				AllowRequestNewItem = blank
				AllowRequestNewVendor = blank
				if (Company.BillOnlyDetailDisplayOption.Show)
					AllowDisplayOfProcedureInfo = true
				else
				if (Company.BillOnlyDetailDisplayOption.Hide)
					AllowDisplayOfProcedureInfo = false

				if (Company.DropShipDisplayOption.Show)
					AllowDropship = true
					AllowAlternateShipToAddress = true
				else
				if (Company.DropShipDisplayOption.Hide)
					AllowDropship = false
					AllowAlternateShipToAddress = false

		SetRSSOptionsToBasicUser is an Instance Action
			restricted
			confirmation required
				"Warning:RSSOptionsForThisRequesterWillBeUpdated.DoYouWantToContinue?"

			Action Rules
				ShowCatalogSearch = "S"
				CatalogSearchPageSizeDisplayOption = "7"
				CatalogSearchSortOrderDisplayOption = "A"
				CatalogSearchTypeAheadDisplayOption = "H"
				ShowShoppingList = "H"
				ShoppingListPageSizeDisplayOption = "8"
                ShoppingListSearchSortOrderDisplayOption = "G"
				ShowSpecialServices = "H"
				ShowPunchout = "H"
				ShowSourcingEvent = "H"
				AccountingDisplayOption = "H"
				ProjectDisplayOption = "H"
				AssetDisplayOption = "H"
				ContractsOnly = "N"
				InternalOnly = "N"
				SpecialItemValidation = "S"
				DuplicateItemValidation = "S"
				AllowAllCommentTypes = "N"
				BillOnlyDetailDisplayOption = "H"
				VendorDisplayOption = "H"
				CurrencyDisplayOption = "H"
				PurchaseFromDisplayOption = "H"
				BuyerDisplayOption = "H"
				TaxInfoDisplayOption = "H"
				FromCompanyDisplayOption = "H"
				FromLocationDisplayOption = "H"

				CompanyDisplayOption = "H"
				RequestingLocationDisplayOption = "H"
				ReceivingDisplayOption = "H"
				RequisitionDescriptionDisplayOption = "H"
				DeliverToDisplayOption = "H"
				RequestedDeliveryDateDisplayOption = "H"
				PriorityDisplayOption = "H"
				DropShipDisplayOption = "H"
				POCodeDisplayOption = "H"
				QuoteRequiredDisplayOption = "H"
				SingleDocToPODisplayOption = "H"
				CommodityCodeDisplayOption = "H"
				PurchaseClassesDisplayOption = "H"
				GenericNameDisplayOption = "H"
				InspectionRequiredDisplayOption = "H"
				CertificationRequiredDisplayOption = "H"
				CreatePODisplayOption = "H"
				AvailableQuantityDisplayUOM = blank
				FillOrKillFlagDisplayOption = "H"
				ServiceInfoDisplayOption = "H"
				DefaultCommentTypeDisplayOption = "H"
				InventoryReturnsDisplayOption = "H"
				ConsignCodeDisplayOption = "H"
				VendorItemDisplayOption = "H"
				CostOptionDisplayOption = "H"
				ManufacturerDisplayOption = "H"
				ManufacturerNumberDisplayOption = "H"
				ContractDisplayOption = "H"
				UserFieldsDisplayOption = "H"
				EAMDescriptionDisplayOption = "H"
				AOCDisplayOption = "H"
				DisplayOnlyTransactionUOM = "Y"
				StockOnHandDisplayOption = "H"
				CostDisplayOption = "H"
				AllowFilterOptionInCatalogSearch = "N"
				AllowQuantityMultiplierOnShoppingList = "N"
				EnableFavorites = "N"
				AllowContractProposals = "N"
				DistributionCodeDisplayOption = "H"
				VendorSearchOption = "A"
				GLEncumbranceReferenceDisplayOption = "H"
				GTINDisplayOption = "H"
				AllowRequestNewItem = "N"
				AllowRequestNewVendor = "N"

		SetRSSOptionsToPowerUser is an Instance Action
			restricted
			confirmation required
				"Warning:RSSOptionsForThisRequesterWillBeUpdated.DoYouWantToContinue?"

			Action Rules
				ShowCatalogSearch = "S"
				CatalogSearchPageSizeDisplayOption = "7"
				CatalogSearchSortOrderDisplayOption = "A"
				CatalogSearchTypeAheadDisplayOption = "H"
				ShowShoppingList = "S"
				ShoppingListPageSizeDisplayOption = "8"
                ShoppingListSearchSortOrderDisplayOption = "G"
				ShowSpecialServices = "S"
				ShowPunchout = "S"
				ShowSourcingEvent = "S"
				AccountingDisplayOption = "F"
				ProjectDisplayOption = "S"
				AssetDisplayOption = "S"
				ContractsOnly = "N"
				InternalOnly = "N"
				SpecialItemValidation = "S"
				DuplicateItemValidation = "S"
				AllowAllCommentTypes = "Y"
				BillOnlyDetailDisplayOption = "S"
				VendorDisplayOption = "S"
				CurrencyDisplayOption = "S"
				PurchaseFromDisplayOption = "S"
				BuyerDisplayOption = "S"
				TaxInfoDisplayOption = "S"
				FromCompanyDisplayOption = "S"
				FromLocationDisplayOption = "S"

				CompanyDisplayOption = "S"
				RequestingLocationDisplayOption = "S"
				ReceivingDisplayOption = "S"
				RequisitionDescriptionDisplayOption = "S"
				DeliverToDisplayOption = "S"
				RequestedDeliveryDateDisplayOption = "S"
				PriorityDisplayOption = "S"
				DropShipDisplayOption = "S"
				POCodeDisplayOption = "S"
				QuoteRequiredDisplayOption = "S"
				SingleDocToPODisplayOption = "S"
				CommodityCodeDisplayOption = "S"
				PurchaseClassesDisplayOption = "S"
				GenericNameDisplayOption = "S"
				InspectionRequiredDisplayOption = "S"
				CertificationRequiredDisplayOption = "S"
				CreatePODisplayOption = "S"
				AvailableQuantityDisplayUOM = "S"
				FillOrKillFlagDisplayOption = "S"
				ServiceInfoDisplayOption = "S"
				DefaultCommentTypeDisplayOption = "S"
				InventoryReturnsDisplayOption = "S"
				ConsignCodeDisplayOption = "S"
				VendorItemDisplayOption = "S"
				CostOptionDisplayOption = "S"
				ManufacturerDisplayOption = "S"
				ManufacturerNumberDisplayOption = "S"
				ContractDisplayOption = "S"
				UserFieldsDisplayOption = "S"
				EAMDescriptionDisplayOption = "S"
				AOCDisplayOption = "S"
				DisplayOnlyTransactionUOM = "N"
				StockOnHandDisplayOption = "S"
				CostDisplayOption = "S"
				AllowFilterOptionInCatalogSearch = "Y"
				AllowQuantityMultiplierOnShoppingList = "Y"
				EnableFavorites = "Y"
				AllowContractProposals = "Y"
				DistributionCodeDisplayOption = "S"
				VendorSearchOption = "A"
				GLEncumbranceReferenceDisplayOption = "S"
				GTINDisplayOption = "S"
				AllowRequestNewItem = "Y"
				AllowRequestNewVendor = "Y"

		RSSLPLInitializeRSSOptions is an Instance Action
			restricted
			confirmation required
				"Warning:RSSOptionsForThisRequesterWillBeUpdated.DoYouWantToContinue?"

			Action Rules
				ShowCatalogSearch = blank
				CatalogSearchPageSizeDisplayOption = blank
				CatalogSearchSortOrderDisplayOption = blank
				CatalogSearchTypeAheadDisplayOption = blank
				ShowShoppingList = blank
				ShoppingListPageSizeDisplayOption = blank
                ShoppingListSearchSortOrderDisplayOption = blank
				ShowSpecialServices = blank
				ShowPunchout = blank
				ShowSourcingEvent = blank
				AccountingDisplayOption = blank
				ProjectDisplayOption = blank
				AssetDisplayOption = blank
				ContractsOnly = blank
				InternalOnly = blank
				SpecialItemValidation = blank
				DuplicateItemValidation = blank
				RequesterDisplayOption = blank
				RequisitionDescriptionDisplayOption = blank
				PriorityDisplayOption = blank
				BillOnlyDetailDisplayOption = blank
				DropShipDisplayOption = blank
				VendorDisplayOption = blank
				PurchaseFromDisplayOption = blank
				BuyerDisplayOption = blank
				POCodeDisplayOption = blank
				TaxInfoDisplayOption = blank
				QuoteRequiredDisplayOption = blank
				SingleDocToPODisplayOption = blank
				PurchaseClassesDisplayOption = blank
				GenericNameDisplayOption = blank
				InspectionRequiredDisplayOption = blank
				CertificationRequiredDisplayOption = blank
				AvailableQuantityDisplayUOM = blank
				FillOrKillFlagDisplayOption = blank
				ServiceInfoDisplayOption = blank
				RequestedDeliveryDateDisplayOption = blank
				DeliverToDisplayOption = blank
				AllowAllCommentTypes = blank
				CommodityCodeDisplayOption = blank
				DefaultCommentTypeDisplayOption = blank
				InventoryReturnsDisplayOption = blank
				ConsignCodeDisplayOption = blank
				VendorItemDisplayOption = blank
				CostOptionDisplayOption = blank
				ManufacturerDisplayOption = blank
				ManufacturerNumberDisplayOption = blank
				UserFieldsDisplayOption = blank
				EAMDescriptionDisplayOption = blank
				AOCDisplayOption = blank
				DisplayOnlyTransactionUOM = blank
				StockOnHandDisplayOption = blank
				AllowQuantityMultiplierOnShoppingList = blank
				EnableFavorites = blank
				DistributionCodeDisplayOption = blank
				GLEncumbranceReferenceDisplayOption = blank
				GTINDisplayOption = blank
				if (Company.BillOnlyDetailDisplayOption.Show)
					AllowDisplayOfProcedureInfo = true
				else
				if (Company.BillOnlyDetailDisplayOption.Hide)
					AllowDisplayOfProcedureInfo = false

				if (Company.DropShipDisplayOption.Show)
					AllowDropship = true
					AllowAlternateShipToAddress = true
				else
				if (Company.DropShipDisplayOption.Hide)
					AllowDropship = false
					AllowAlternateShipToAddress = false
				CompanyDisplayOption = blank
				RequestingLocationDisplayOption = blank
				FromCompanyDisplayOption = blank
				FromLocationDisplayOption = blank
				CurrencyDisplayOption = blank

		RSSLPLSetRSSOptionsToBasicUser is an Instance Action
			restricted
			confirmation required
				"Warning:RSSOptionsForThisRequesterWillBeUpdated.DoYouWantToContinue?"

			Action Rules
				ShowCatalogSearch = "S"
				CatalogSearchPageSizeDisplayOption = "7"
				CatalogSearchSortOrderDisplayOption = "A"
				CatalogSearchTypeAheadDisplayOption = "H"
				ShowShoppingList = "H"
				ShoppingListPageSizeDisplayOption = "8"
                ShoppingListSearchSortOrderDisplayOption = "G"
				ShowSpecialServices = "H"
				ShowPunchout = "H"
				ShowSourcingEvent = "H"
				AccountingDisplayOption = "H"
				ProjectDisplayOption = "H"
				AssetDisplayOption = "H"
				ContractsOnly = "N"
				InternalOnly = "N"
				SpecialItemValidation = "S"
				DuplicateItemValidation = "S"
				AllowAllCommentTypes = "N"
				BillOnlyDetailDisplayOption = "H"
				VendorDisplayOption = "H"
				PurchaseFromDisplayOption = "H"
				BuyerDisplayOption = "H"
				TaxInfoDisplayOption = "H"
				RequisitionDescriptionDisplayOption = "H"
				DeliverToDisplayOption = "H"
				RequestedDeliveryDateDisplayOption = "H"
				PriorityDisplayOption = "H"
				DropShipDisplayOption = "H"
				POCodeDisplayOption = "H"
				QuoteRequiredDisplayOption = "H"
				SingleDocToPODisplayOption = "H"
				CommodityCodeDisplayOption = "H"
				PurchaseClassesDisplayOption = "H"
				GenericNameDisplayOption = "H"
				InspectionRequiredDisplayOption = "H"
				CertificationRequiredDisplayOption = "H"
				AvailableQuantityDisplayUOM = blank
				FillOrKillFlagDisplayOption = "H"
				ServiceInfoDisplayOption = "H"
				DefaultCommentTypeDisplayOption = "H"
				InventoryReturnsDisplayOption = "H"
				ConsignCodeDisplayOption = "H"
				VendorItemDisplayOption = "H"
				CostOptionDisplayOption = "H"
				ManufacturerDisplayOption = "H"
				ManufacturerNumberDisplayOption = "H"
				UserFieldsDisplayOption = "H"
				EAMDescriptionDisplayOption = "H"
				AOCDisplayOption = "H"
				DisplayOnlyTransactionUOM = "Y"
				StockOnHandDisplayOption = "H"
				AllowQuantityMultiplierOnShoppingList = "N"
				EnableFavorites = "N"
				DistributionCodeDisplayOption = "H"
				GLEncumbranceReferenceDisplayOption = "H"
				GTINDisplayOption = "H"
				CompanyDisplayOption = "H"
				RequestingLocationDisplayOption = "H"
				FromCompanyDisplayOption = "H"
				FromLocationDisplayOption = "H"
				CurrencyDisplayOption = "H"

		RSSLPLSetRSSOptionsToPowerUser is an Instance Action
			restricted
			confirmation required
				"Warning:RSSOptionsForThisRequesterWillBeUpdated.DoYouWantToContinue?"

			Action Rules
				ShowCatalogSearch = "S"
				CatalogSearchPageSizeDisplayOption = "7"
				CatalogSearchSortOrderDisplayOption = "A"
				CatalogSearchTypeAheadDisplayOption = "H"
				ShowShoppingList = "S"
				ShoppingListPageSizeDisplayOption = "8"
                ShoppingListSearchSortOrderDisplayOption = "G"
				ShowSpecialServices = "S"
				ShowPunchout = "S"
				ShowSourcingEvent = "S"
				AccountingDisplayOption = "F"
				ProjectDisplayOption = "S"
				AssetDisplayOption = "S"
				ContractsOnly = "N"
				InternalOnly = "N"
				SpecialItemValidation = "S"
				DuplicateItemValidation = "S"
				AllowAllCommentTypes = "Y"
				BillOnlyDetailDisplayOption = "S"
				VendorDisplayOption = "S"
				PurchaseFromDisplayOption = "S"
				BuyerDisplayOption = "S"
				TaxInfoDisplayOption = "S"
				RequisitionDescriptionDisplayOption = "S"
				DeliverToDisplayOption = "S"
				RequestedDeliveryDateDisplayOption = "S"
				PriorityDisplayOption = "S"
				DropShipDisplayOption = "S"
				POCodeDisplayOption = "S"
				QuoteRequiredDisplayOption = "S"
				SingleDocToPODisplayOption = "S"
				CommodityCodeDisplayOption = "S"
				PurchaseClassesDisplayOption = "S"
				GenericNameDisplayOption = "S"
				InspectionRequiredDisplayOption = "S"
				CertificationRequiredDisplayOption = "S"
				AvailableQuantityDisplayUOM = "S"
				FillOrKillFlagDisplayOption = "S"
				ServiceInfoDisplayOption = "S"
				DefaultCommentTypeDisplayOption = "S"
				InventoryReturnsDisplayOption = "S"
				ConsignCodeDisplayOption = "S"
				VendorItemDisplayOption = "S"
				CostOptionDisplayOption = "S"
				ManufacturerDisplayOption = "S"
				ManufacturerNumberDisplayOption = "S"
				UserFieldsDisplayOption = "S"
				EAMDescriptionDisplayOption = "S"
				AOCDisplayOption = "S"
				DisplayOnlyTransactionUOM = "N"
				StockOnHandDisplayOption = "S"
				AllowQuantityMultiplierOnShoppingList = "Y"
				EnableFavorites = "Y"
				DistributionCodeDisplayOption = "S"
				GLEncumbranceReferenceDisplayOption = "S"
				GTINDisplayOption = "S"
				CompanyDisplayOption = "S"
				RequestingLocationDisplayOption = "S"
				FromCompanyDisplayOption = "S"
				FromLocationDisplayOption = "S"
				CurrencyDisplayOption = "S"



		RSSCreateSpecialLine is an Instance Action
        	restricted
        	Local Fields
				LocalRequisitionView is a Requisition view
				LocalRequisitionLineView is a RequisitionLine view
							
			Parameters
 				PrmCompany						is an InventoryCompany
 				PrmRequestingLocation			is a RequestingLocation
 				PrmRequisitionDescription		is Alpha size 30
 				PrmBuyer						is a Buyer
				PrmRequestedDeliveryDate		is Date
				PrmQuantity						is like Quantity
				PrmTransactionCurrencyCode		is a Currency
				PrmUOM							is a UnitOfMeasure
				PrmDescription					is a Description
				PrmTransactionUnitCost			is an InternationalCost
				PrmItem							is an Item
				PrmVendorItem					is like VendorItem
				PrmItemType						is an ItemType
				PrmServiceCode					is a ServiceCode				
	            PrmToAccountingEntity			is a AccountingEntity	
	            PrmGeneralLedgerChartAccount	is a GeneralLedgerChartAccount	
	            PrmAccountingUnit				is like AccountingUnit
	            PrmProject						is a Project
				PrmFinanceDimension1			is a FinanceDimension1
				PrmFinanceDimension2			is a FinanceDimension2
				PrmFinanceDimension3			is a FinanceDimension3
				PrmFinanceDimension4			is a FinanceDimension4
				PrmFinanceDimension5			is a FinanceDimension5
				PrmFinanceDimension6			is a FinanceDimension6
				PrmFinanceDimension7			is a FinanceDimension7
				PrmFinanceDimension8			is a FinanceDimension8
				PrmFinanceDimension9			is a FinanceDimension9
				PrmFinanceDimension10			is a FinanceDimension10
		        PrmSourcingEventRequired		is Boolean		
	            PrmAsset						is an Asset
	            PrmAssetTemplate				is an AssetTemplate
	            PrmVendor						is like Vendor
	        	PrmPurchaseFromLocation			is like VendorLocation
	            PrmManufacturer					is AlphaUpper size 9
	            PrmManufacturerNumber			is a ManufacturerNumber
 				PrmFromCompany					is like InventoryCompany
	            PrmFromLocation 				is like InventoryLocation
	            PrmCostOption					is a CostOption
	            PrmDeliverTo					is a DeliverTo
	            PrmAllocationPriority		    is a AllocationPriority
	            PrmCommodityCode				is a CommCodes
	            PrmPOCode						is a POCode
	            PrmConsignCode					is a ConsignCode
	            PrmPurchaseTaxCode				is a TaxCode
	            PrmPurchaseTaxable				is Boolean
	            PrmMajorPurchasingClass			is a MajorPurchasingClass
	            PrmMinorPurchasingClass			is a MinorPurchasingClass
				PrmReqFromCompany				is like InventoryCompany
				PrmReqFromLocation				is like InventoryLocation
				PrmReqDeliveryDate				is Date
				PrmReqDeliveryTo				is like DeliverTo
				PrmReqAllocationPriority		is like AllocationPriority
				PrmReqVendor					is like Vendor				
				PrmReqPurchaseFrom				is like VendorLocation
				PrmReqCommodityCode				is like CommCodes
				PrmReqTaxCode					is like TaxCode
				PrmReqPurchaseTaxable			is Boolean
				PrmReqPOCode					is like POCode
	            PrmContract						is a Contract
	            PrmContractLine					is a ContractLine
	            PrmGLEncumbranceReference		is AlphaUpper size 60
				PrmGTIN							is an ItemGTIN
				PrmRSSPurchaseTaxable			is Numeric size 1
					States
						Yes						value is 1
						TaxExempt				value is 2
				
			Action Rules
				invoke Create Requisition
					assign result to LocalRequisitionView
					invoked.Company													= PrmCompany
					invoked.RequestingLocation										= PrmRequestingLocation
					invoked.FromCompanyLocation.FromCompany							= PrmReqFromCompany
					invoked.FromCompanyLocation.FromLocation						= PrmReqFromLocation
					invoked.RequisitionDescription									= PrmRequisitionDescription
					invoked.Buyer													= PrmBuyer
					invoked.RequestedDeliveryDate									= PrmReqDeliveryDate
					invoked.DeliverTo												= PrmReqDeliveryTo
					invoked.Vendor													= PrmReqVendor
					invoked.PurchaseFromLocation									= PrmReqPurchaseFrom
					invoked.AllocationPriority										= PrmReqAllocationPriority
					invoked.CommodityCode											= PrmReqCommodityCode
					invoked.PurchaseTaxCode											= PrmReqTaxCode
					invoked.PurchaseTaxable											= PrmReqPurchaseTaxable
					invoked.POCode													= PrmReqPOCode
					invoked.RequisitionSource  		            					= RqSource.RequisitionSelfService

				NewRequisition = LocalRequisitionView.Requisition
				
				invoke Create RequisitionLine
					assign result to LocalRequisitionLineView
					invoked.Company								= PrmCompany
					invoked.Requisition							= LocalRequisitionView.Requisition
					invoked.Description							= PrmDescription
					invoked.RequestedDeliveryDate				= PrmRequestedDeliveryDate
					invoked.Quantity							= PrmQuantity
					invoked.TransactionCurrencyCode				= PrmTransactionCurrencyCode
					invoked.EnteredUOM							= PrmUOM
					invoked.ItemType							= PrmItemType
					invoked.ServiceCode							= PrmServiceCode    
					invoked.TransactionUnitCost					= PrmTransactionUnitCost
					invoked.Item								= PrmItem
					invoked.VendorItem							= PrmVendorItem
   					invoked.EnteredToAccountingEntity   		= PrmToAccountingEntity
   					invoked.EnteredGeneralLedgerChartAccount	= PrmGeneralLedgerChartAccount
   					invoked.EnteredAccountingUnit				= PrmAccountingUnit
   					invoked.EnteredProject   		   			= PrmProject
					invoked.EnteredFinanceDimension1			= PrmFinanceDimension1
					invoked.EnteredFinanceDimension2			= PrmFinanceDimension2
					invoked.EnteredFinanceDimension3			= PrmFinanceDimension3
					invoked.EnteredFinanceDimension4			= PrmFinanceDimension4
					invoked.EnteredFinanceDimension5			= PrmFinanceDimension5
					invoked.EnteredFinanceDimension6			= PrmFinanceDimension6
					invoked.EnteredFinanceDimension7			= PrmFinanceDimension7
					invoked.EnteredFinanceDimension8			= PrmFinanceDimension8
					invoked.EnteredFinanceDimension9			= PrmFinanceDimension9
					invoked.EnteredFinanceDimension10			= PrmFinanceDimension10
					invoked.SourcingEventRequired				= PrmSourcingEventRequired
					invoked.EnteredAsset		   				= PrmAsset
					invoked.EnteredAssetTemplate				= PrmAssetTemplate
					invoked.Vendor								= PrmVendor
					invoked.PurchaseFromLocation				= PrmPurchaseFromLocation
					invoked.Manufacturer						= PrmManufacturer
					invoked.ManufacturerNumber		   			= PrmManufacturerNumber
                    invoked.RequisitionSource  		            = RqSource.RequisitionSelfService
					invoked.FromCompanyLocationBin.FromCompany	= PrmFromCompany
					invoked.FromCompanyLocationBin.FromLocation	= PrmFromLocation
					invoked.CostOption							= PrmCostOption
					invoked.DeliverTo							= PrmDeliverTo
					invoked.AllocationPriority					= PrmAllocationPriority
					invoked.CommodityCode						= PrmCommodityCode
					invoked.POCode								= PrmPOCode
					invoked.ConsignCode							= PrmConsignCode
					invoked.PurchaseTaxCode						= PrmPurchaseTaxCode				
					invoked.PurchaseTaxable						= PrmPurchaseTaxable				
					invoked.MajorPurchasingClass				= PrmMajorPurchasingClass
					invoked.MinorPurchasingClass				= PrmMinorPurchasingClass
					invoked.Contract  	 		                = PrmContract
					invoked.ContractLine	             		= PrmContractLine


                    invoked.EnteredGLEncumbranceReference		= PrmGLEncumbranceReference
					invoked.ItemGTIN							= PrmGTIN
					invoked.TransientPurchaseTaxable			= PrmRSSPurchaseTaxable
                    
                NewRequisitionLine = LocalRequisitionLineView.RequisitionLine    
				                    


        RSSAddSpecialLine is an Instance Action
        	restricted
 			Local Fields
				LocalRequisitionLineView is a RequisitionLine view
				        
			Parameters
				PrmCompany						is an InventoryCompany
				PrmRequisition					is a Requisition
				PrmRequestedDeliveryDate		is Date
				PrmQuantity						is like Quantity
				PrmTransactionCurrencyCode		is a Currency
				PrmUOM							is a UnitOfMeasure
				PrmDescription					is a Description
				PrmTransactionUnitCost			is an InternationalCost
				PrmItem							is an Item
				PrmVendorItem					is like VendorItem
				PrmItemType						is an ItemType
				PrmServiceCode					is a ServiceCode
	            PrmToAccountingEntity			is a AccountingEntity	
	            PrmGeneralLedgerChartAccount	is a GeneralLedgerChartAccount
	            PrmAccountingUnit				is like AccountingUnit	
	            PrmProject						is a Project
				PrmFinanceDimension1			is a FinanceDimension1
				PrmFinanceDimension2			is a FinanceDimension2
				PrmFinanceDimension3			is a FinanceDimension3
				PrmFinanceDimension4			is a FinanceDimension4
				PrmFinanceDimension5			is a FinanceDimension5
				PrmFinanceDimension6			is a FinanceDimension6
				PrmFinanceDimension7			is a FinanceDimension7
				PrmFinanceDimension8			is a FinanceDimension8
				PrmFinanceDimension9			is a FinanceDimension9
				PrmFinanceDimension10			is a FinanceDimension10
		        PrmSourcingEventRequired		is Boolean		
	            PrmAsset						is an Asset
	            PrmAssetTemplate				is an AssetTemplate
	            PrmVendor						is a Vendor
	        	PrmPurchaseFromLocation			is a VendorLocation
	            PrmManufacturer					is AlphaUpper size 9
	            PrmManufacturerNumber			is a ManufacturerNumber
 				PrmFromCompany					is like InventoryCompany
	            PrmFromLocation 				is like InventoryLocation
	            PrmCostOption					is a CostOption
	            PrmDeliverTo					is a DeliverTo
	            PrmAllocationPriority		    is a AllocationPriority
	            PrmCommodityCode				is a CommCodes
	            PrmPOCode						is a POCode
	            PrmConsignCode					is a ConsignCode
	            PrmPurchaseTaxCode				is a TaxCode
	            PrmPurchaseTaxable				is Boolean
	            PrmMajorPurchasingClass			is a MajorPurchasingClass
	            PrmMinorPurchasingClass			is a MinorPurchasingClass
	            PrmContract						is a Contract
	            PrmContractLine					is a ContractLine
	            PrmGLEncumbranceReference		is AlphaUpper size 60
				PrmGTIN							is an ItemGTIN
				PrmRSSPurchaseTaxable			is Numeric size 1
					States
						Yes						value is 1
						TaxExempt				value is 2

			Action Rules
				invoke Create RequisitionLine
					assign result to LocalRequisitionLineView
					invoked.Company								= PrmCompany
					invoked.Requisition							= PrmRequisition
					invoked.Description							= PrmDescription
					invoked.RequestedDeliveryDate				= PrmRequestedDeliveryDate
					invoked.Quantity							= PrmQuantity
					invoked.TransactionCurrencyCode				= PrmTransactionCurrencyCode
					invoked.EnteredUOM							= PrmUOM
					invoked.ItemType							= PrmItemType
					invoked.ServiceCode							= PrmServiceCode     
					invoked.TransactionUnitCost					= PrmTransactionUnitCost
					invoked.Item								= PrmItem
					invoked.VendorItem							= PrmVendorItem
   					invoked.EnteredToAccountingEntity   		= PrmToAccountingEntity
   					invoked.EnteredGeneralLedgerChartAccount	= PrmGeneralLedgerChartAccount
   					invoked.EnteredAccountingUnit				= PrmAccountingUnit
   					invoked.EnteredProject   		   			= PrmProject
					invoked.EnteredFinanceDimension1			= PrmFinanceDimension1
					invoked.EnteredFinanceDimension2			= PrmFinanceDimension2
					invoked.EnteredFinanceDimension3			= PrmFinanceDimension3
					invoked.EnteredFinanceDimension4			= PrmFinanceDimension4
					invoked.EnteredFinanceDimension5			= PrmFinanceDimension5
					invoked.EnteredFinanceDimension6			= PrmFinanceDimension6
					invoked.EnteredFinanceDimension7			= PrmFinanceDimension7
					invoked.EnteredFinanceDimension8			= PrmFinanceDimension8
					invoked.EnteredFinanceDimension9			= PrmFinanceDimension9
					invoked.EnteredFinanceDimension10			= PrmFinanceDimension10
					invoked.SourcingEventRequired				= PrmSourcingEventRequired
					invoked.EnteredAsset	 	  				= PrmAsset
					invoked.EnteredAssetTemplate				= PrmAssetTemplate
					invoked.Vendor								= PrmVendor
					invoked.PurchaseFromLocation				= PrmPurchaseFromLocation
					invoked.Manufacturer						= PrmManufacturer
					invoked.ManufacturerNumber		   			= PrmManufacturerNumber
                    invoked.RequisitionSource  		            = RqSource.RequisitionSelfService
					invoked.FromCompanyLocationBin.FromCompany	= PrmFromCompany
					invoked.FromCompanyLocationBin.FromLocation	= PrmFromLocation
					invoked.CostOption							= PrmCostOption
					invoked.DeliverTo							= PrmDeliverTo
					invoked.AllocationPriority					= PrmAllocationPriority					
					invoked.CommodityCode						= PrmCommodityCode
					invoked.POCode								= PrmPOCode
					invoked.ConsignCode							= PrmConsignCode
					invoked.PurchaseTaxCode						= PrmPurchaseTaxCode				
					invoked.PurchaseTaxable						= PrmPurchaseTaxable				
					invoked.MajorPurchasingClass				= PrmMajorPurchasingClass
					invoked.MinorPurchasingClass				= PrmMinorPurchasingClass
					invoked.Contract  	 		                = PrmContract
					invoked.ContractLine	             		= PrmContractLine


					invoked.EnteredGLEncumbranceReference		= PrmGLEncumbranceReference
					invoked.ItemGTIN							= PrmGTIN
					invoked.TransientPurchaseTaxable			= PrmRSSPurchaseTaxable
         
				NewRequisition = PrmRequisition
				NewRequisitionLine = LocalRequisitionLineView.RequisitionLine

	
		UpdateBODIdFields is an Instance Action
			restricted
			Parameters
				PrmAccountingEntity  is Alpha size 22
					default label is "AccountingEntity"
				PrmLocation          is Alpha size 22
					default label is "Location" 
				PrmDocumentID        is Alpha size 100
					default label is "DocumentID"
				PrmSystemOfRecord    is Alpha size 1
					default label is "SystemOfRecord"
				PrmVariationID       is Alpha size 22
					default label is "VariationID"	
			Action Rules
				if (bod id.AccountingEntity != PrmAccountingEntity)
					bod id.AccountingEntity 	= PrmAccountingEntity
				if (bod id.Location != PrmLocation)
					bod id.Location				= PrmLocation
				if (bod id.DocumentID != PrmDocumentID)
					bod id.DocumentID			= PrmDocumentID
				if (bod id.SystemOfRecord != PrmSystemOfRecord)
					bod id.SystemOfRecord		= PrmSystemOfRecord
				if (bod id.VariationID != PrmVariationID)
					bod id.VariationID			= PrmVariationID				
	
		BODDataInitialLoadContactMasterRQCriteria is a Set Action
			restricted
			Parameters
				PrmHROrganization			is a HROrganization
				PrmFromRequester			is a Requester
				PrmToRequester				is a Requester
			Parameter Rules
			Instance Selection			
				where  (((PrmHROrganization entered
				and		  PrmHROrganization = HROrganization)
				or		  PrmHROrganization not entered)	
				and    ((PrmFromRequester entered
				and		 PrmFromRequester <= Requester)
				or		 PrmFromRequester not entered)				
				and    ((PrmToRequester entered
				and		 PrmToRequester >= Requester)
				or		 PrmToRequester not entered)
				and		(Active = true))
		
			Action Rules														
				Instance Rules	
					if (Company.FinanceEnterpriseGroup.BODTrigger)
						ActionCode = ActionCode.Create
						include TriggerContactMasterRQServiceRules
						



						
		FixRequestingLocationValidationOption is a Set Action 
			run in background
			completion message is "FixRequestingLocationValidationOptionIsComplete.RequestersFixed:<RequesterCount>"
			Local Fields
				RequesterCount	is Numeric size 10
			
			Instance Selection	
				where (FirstRequesterRequestingLocationDisallowed)
				
			Action Rules				
				Instance Rules
					RequestingLocationValidationOption = RequestingLocationValidationOption.Disallowed
					increment RequesterCount
					invoke Update RequesterRequestingLocationsRel
						invoked.ValidationOption = 0


	
		TriggerContactMasterRQNativeLPLBOD is an Instance Action
			restricted
			Entrance Rules
			Parameters
			Action Rules
				if (DerivedConfigDocID = "Y")
					LocalMainUserTemplate = "IONContactMasterRQXML_CleanDoc_ST"
				else
					LocalMainUserTemplate = "IONContactMasterRQXML_ST"
				invoke NativeLPLBODTriggerChecks FSMBODConfigurationRel
					invoked.PrmVerb 					= 1
					invoked.PrmNoun						= "ContactMaster"
					invoked.PrmDirection				= 1
					invoked.PrmTriggerFrom				= "Requester"			
					invoked.PrmFinanceEnterpriseGroup	= Company.FinanceEnterpriseGroup
					invoked.PrmAccountingEntity			= Company.GeneralLedgerCompany.AccountingEntity
					invoked.PrmCompany 					= Company
					invoked.PrmMainUserTemplate 		= LocalMainUserTemplate
				NativeLPLBODTrigger = FSMBODConfigurationRel.NativeLPLBODTrigger
				LocalBODTrigger = true
				if (Company.FinanceEnterpriseGroup.BODTrigger and NativeLPLBODTrigger)
					if(FSMInboundBODTracker not entered)
						invoke Create FSMInboundBODTracker
							assign result to NewBODTracker
							invoked.Verb 					= 1
							invoked.Noun 					= "ContactMaster"					
							invoked.BODDocumentID			= DerivedDocumentID
							invoked.BODVariationID			= DerivedVariationID
							invoked.Status					= 1
							invoked.StartDate				= system current timestamp
							invoked.FinanceEnterpriseGroup	= DerivedFinanceEnterpriseGroup
							invoked.Direction				= 1
							invoked.BODAccountingEntity		= DerivedBODaccountingEntity
							invoked.Reference1				= HROrganization
							invoked.Reference2				= Requester
							invoked.Reference3				= "Requester"
							initialize invoked.Error			
							initialize invoked.ErrorMessage					
						LocalFSMInboundBODTracker	= NewBODTracker.FSMInboundBODTracker
					else 
						LocalFSMInboundBODTracker		= FSMInboundBODTracker
						invoke Update FSMInboundBODTrackerRel
							invoked.FinanceEnterpriseGroup	= DerivedFinanceEnterpriseGroup
							invoked.BODDocumentID			= DerivedDocumentID
							invoked.BODVariationID			= DerivedVariationID
							invoked.Status					= 1
							invoked.StartDate				= system current timestamp
							invoked.Direction				= 1
							invoked.BODAccountingEntity		= DerivedBODaccountingEntity
							invoked.Reference1				= HROrganization
							invoked.Reference2				= Requester
							invoked.Reference3				= "Requester"
							initialize invoked.Error			
							initialize invoked.ErrorMessage
					invoke SendContactMasterRQNativeLPLBOD
						resume on error
	                   		Error            							= true
	                        ErrorMessage     							= error message
	                if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 								= Error
							invoked.ErrorMessage 						= ErrorMessage
							invoked.Status								= 2
							invoked.CloseDate							= system current timestamp
							invoked.BODID								= DerivedbodID
							invoked.BODXML								= ContactMasterRQXMLBOD
					else
						invoke Update FSMInboundBODTrackerRel
							invoked.Status									= 3
							invoked.CloseDate								= system current timestamp
							invoked.BODID									= DerivedbodID
							invoked.BODXML									= ContactMasterRQXMLBOD			

		
		SendContactMasterRQNativeLPLBOD is an Instance Action
			restricted
			Entrance Rules
			Parameters
			Action Rules
				send ion bod
					bod is ContactMasterRQXMLBOD
					bod type is "Sync.ContactMaster"
					accounting entity is DerivedBODaccountingEntity
					document id is DerivedDocumentID
					variation id is DerivedVariationID

	Action Exit Rules
    	if (Company.FinanceEnterpriseGroup.BODTrigger and !LocalBODTrigger)
			if (!action type.Delete)
				if (action != "UpdateBODIdFields") 
					ActionCode = ActionCode.Update
					if (action type.Create)
						ActionCode = ActionCode.Create
					include TriggerContactMasterRQServiceRules
					



