TransferPricingEntityWeight is a BusinessClass
	owned by transpricing
	
	prefix is TRPEW
	
	Ontology
		symbolic key is TransferPricingEntityWeight
	
	Persistent Fields
		Weight					is a InternationalAmount
		
	Field Rules
						
	Conditions
		EntityExists
			restricted
			when (TransferPricingEntityRel exists
			or    TransferPricingAdditionalEntityExistsRel exists)
		GlobalEntityExists
			restricted
			when (TransferPricingGlobalEntitiesRel exists
			or    TransferPricingGlobalAdditionalEntitiesRel exists)
	
	Relations		
		GeneralLedgerCalendarPeriodByYearRel
			one-to-many relation to GeneralLedgerCalendarPeriod
			Field Mapping uses ByTopNode
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
				related.TopNode		 				= TransferPricing.Calendar.TopNode
			Instance Selection
				where (related.PeriodType			= TransferPricing.PeriodType.Year)
		
		GeneralLedgerCalendarPeriodByQuarterRel
			one-to-many relation to GeneralLedgerCalendarPeriod
			Field Mapping uses ByTopNode
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
				related.TopNode		 				= TransferPricing.Calendar.TopNode
			Instance Selection
				where (related.PeriodType			= TransferPricing.PeriodType.Quarter)
				
		GeneralLedgerCalendarPeriodByMonthRel
			one-to-many relation to GeneralLedgerCalendarPeriod
			Field Mapping uses ByTopNode
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
				related.TopNode		 				= TransferPricing.Calendar.TopNode
			Instance Selection
				where (related.PeriodType			= TransferPricing.PeriodType.Month)
				
		GeneralLedgerCalendarPeriodByWeekRel
			one-to-many relation to GeneralLedgerCalendarPeriod
			Field Mapping uses ByTopNode
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
				related.TopNode		 				= TransferPricing.Calendar.TopNode
			Instance Selection
				where (related.PeriodType			= TransferPricing.PeriodType.Week)
				
		TransferPricingEntityRel
			one-to-many relation to TransferPricingEntity
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
				related.TransferPricing		 		= TransferPricing
			Instance Selection
				where (related.Company.AccountingEntity	= AccountingEntity)
		
		TransferPricingAdditionalEntityExistsRel
			one-to-many relation to TransferPricingAdditionalEntity
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.TransferPricing				= TransferPricing
			Instance Selection
				where (related.AdditionalEntity		= AccountingEntity)
				
		TransferPricingGlobalEntitiesRel 
			one-to-many relation to TransferPricingGlobalEntity
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
			Instance Selection
				where (related.Company.AccountingEntity	= AccountingEntity)
				
		TransferPricingGlobalAdditionalEntitiesRel 
			one-to-many relation to TransferPricingGlobalAdditionalEntity
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
			Instance Selection
				where (related.AdditionalEntity		= AccountingEntity)
				
	Action Exit Rules
		invoke UpdateChanged TransferPricing			
		
	Actions
		Create is a Create Action
			Action Rules
				if (AccountingEntity entered)
					if (not TransferPricing.AllEntities)
						constraint (EntityExists)
							"AccountingEntitySelectedIsNotABillToEntity."
					else
						constraint (GlobalEntityExists)
							"AccountingEntitySelectedIsNotABillToEntity."
						
		Update is an Update Action
			
		Delete is a Delete Action
				
