MethodFormula is a BusinessClass
	owned by am
	
	prefix is AMCMP
	
	Ontology
		symbolic key is MethodFormula

    Patterns
        implements StaticJava
		disable EffectiveDated
		disable AsOfDateProcessing
		
	Context Fields
		Asset
		Book
		
	Persistent Fields
		Description			is Alpha 60
			translatable
		Active
		MethodCompute		is an AssetBook compute in subject AssetMethodFormula

    Derived Fields
    	MethodComputeOutput is a DerivedField	
    		type is like InternationalAmount
    		restricted
    		return MethodCompute compute value for AssetBookRel	
    		
    Conditions	
    	IsDepreciationFormula
    		when (DepreciationMethodRel exists)		

    Relations
		AssetBookRel
			one-to-one relation to AssetBook
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.Asset						= Asset 	
		      	related.Book						= Book	

		DepreciationMethodRel
			one-to-many relation to Method
			Field Mapping uses ByMethodFormula
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.MethodFormula				= MethodFormula
				related.MethodType					= "D"


		      	
	Attach Rules
		constraint (Active)
			"ComputeIsNotActive"
			
	Field Rules
		Description 
			default to MethodFormula
		
		MethodCompute
			required
			if (MethodCompute = "200DB")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "175DB")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "150DB")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "125DB")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "200DB20%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "150DB20%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SL20%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "200DB30%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "150DB30%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SL")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SL30%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "200DB40%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "150DB40%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SL40%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "200DB50%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "150DB50%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SL50%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "200DB60%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "150DB60%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SL60%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "200DB75%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "150DB75%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SL75%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "200DB80%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "150DB80%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SL80%")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "SYD")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "ACCT-LEVEL")			
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
			if (MethodCompute = "100%BONUS")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
            if (MethodCompute = "SLBZERO")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"
            if (MethodCompute = "Migration")
				constraint (MethodFormula = MethodCompute)
					"CannotAssignSystemDefinedComputeToANewFormula"		
	Actions
		Create is a Create Action

		Update is an Update Action

		Delete is a Delete Action
					

			
