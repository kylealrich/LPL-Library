WarehouseShipmentTracking is a BusinessClass
    owned by wh
    prefix is WHT
	classic name is WHSHTRK

    Ontology
        symbolic key is WarehouseShipmentTracking
        	classic set name is WHTSET1
			classic name for WarehouseShipmentTracking is TRACKING-NBR
			classic name for WarehouseShipment is SHIPMENT-NBR

    Patterns
        implements StaticJava
        disable AuditIndex
		implements Archivable

    Persistent Fields
        ContainerType
        PickingSource     is Numeric size 1
            States
                ThirdPartyWMS        value is 1
                PickedInternallyInWH value is 2
		LastTrackingDetail is a LineNumber
			classic name is LAST-LINE-NBR
			
	Relations
		PurgeWarehouseShipmentTrackingDetailRel is a WarehouseShipmentTrackingDetail set
			Instance Selection
				include deleted records
		
	Conditions
		IsShipmentPrintedPickedOrPacked
			restricted
			when (WarehouseShipment.Status.Printed
			or	  WarehouseShipment.Status.Picked
			or 	  WarehouseShipment.Status.Packed)
			
		RecordExists
			restricted
			when (WarehouseShipmentTracking exists)

	Actions
		Create is a Create Action
			valid when (IsShipmentPrintedPickedOrPacked)
			Action Rules
				constraint (IsShipmentPrintedPickedOrPacked)
					"CannotCreate;ShipmentHasBeen<WarehouseShipment.Status>"				//"WH39.107"

		QuickCreate is a Create Action
			restricted
		
		Update is an Update Action
			valid when (IsShipmentPrintedPickedOrPacked)
			Action Rules
				constraint (IsShipmentPrintedPickedOrPacked)
					"CannotUpdate;ShipmentHasBeen<WarehouseShipment.Status>"				//"WH39.107"
				
		Delete is a Delete Action
			valid when (IsShipmentPrintedPickedOrPacked)
			Entrance Rules
				constraint (IsShipmentPrintedPickedOrPacked)
					"CannotDelete;ShipmentHasBeen<WarehouseShipment.Status>"				//"WH39.107"

		Purge is a Purge Action
			restricted
			Entrance Rules
				invoke Purge PurgeWarehouseShipmentTrackingDetailRel
			
