DunningTextCode is a BusinessClass
    owned by ar
    prefix is ATX
    classic name is ARDUNTXTCD

    Ontology
        symbolic key is DunningTextCode
            classic set name is ATXNEWPRIMARYINDEX
            classic name is DUN-TEXT-CODE

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        DunningText is a DunningTextX6InArduntxtcd
	
	Transient Fields
		TransientEditNotes 		is Boolean
		TransientNotes			is Text
			derive value from TransientNotesDerived

	Local Fields

		LocalNotes	 			is Text
		LocalNotesLineLimit		is Numeric size 2
		LocalNotesLineTextLimit	is Numeric size 2
		LocalAssignCode			is Numeric size 3
		LocalValidateNotes		is Boolean


	Derived Fields
		AssignNotes				is a NativeField
			type is Numeric size 3
			restricted

		TransientNotesDerived	is a DerivedField
			type is Text
			restricted
			initialize LocalAssignCode
			LocalValidateNotes = false
			LocalAssignCode = AssignNotes
			return LocalNotes
		
		ExcessLineMessageText is a MessageField
			restricted
			"ExceededMaximumLinesAllowed;LimitIs<LocalNotesLineLimit>"
		
		ExcessLineTextMessageText is a MessageField
			restricted
			"ExceededMaximumAllowedCharactersInALine;LimitIs<LocalNotesLineTextLimit>"
		
		AssignErrorMessage is a DerivedField
			type is MessageField
			restricted
			if (LocalAssignCode = 101)
				return ExcessLineMessageText
			if (LocalAssignCode = 102)
				return ExcessLineTextMessageText
			return blank
	
	Field Rules
		TransientEditNotes
			initial value is true
		TransientNotes
			required
				"AtLeastOneLineOfTextRequired"
			if (TransientNotes entered)
				initialize LocalAssignCode
				LocalValidateNotes = true
				LocalAssignCode = AssignNotes
				constraint (LocalAssignCode = 100)
					"<AssignErrorMessage>"

    Sets

        Set1
            not indexed
            Sort Order
                DunningTextCode
                IsoLocale





	Relations
		DunningTextCodeRel
			one-to-one relation to DunningTextCode
			Field Mapping uses symbolic key
				related.IsoLocale			= IsoLocale
				related.DunningTextCode		= DunningTextCode

		DunningProcessCodesRel
			one-to-many relation to DunningProcessCode
			Field Mapping uses symbolic key
			

    Actions
        Create is a Create Action
		T2VCreate is a Create Action				
			restricted 
			default label is untranslatable 
			bypass field rules 
			
        Update is an Update Action
        Delete is a Delete Action
