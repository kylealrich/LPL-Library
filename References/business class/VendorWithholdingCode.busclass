VendorWithholdingCode is a BusinessClass
	owned by ap
	prefix is VWCD

	Ontology
		symbolic key is VendorWithholdingCode

	Patterns
		implements StaticJava
		disable AuditIndex
		
	Persistent Fields
		IncomeWithholdingPercent		is a  Percent
		DefaultWithholdingCode			is Boolean
		
	Field Rules

		DefaultWithholdingCode
			if (DefaultWithholdingCode)
				constraint (VendorWithholdingCodesAsDefaultRel not exists)
					"DefaultWithholdingCodeAlreadyDefinedForCompany"

	Conditions
    	RecordExists
    		restricted
    		when (VendorWithholdingCode.IncomeWithholdingCode entered)
				
	Relations

		VendorWithholdingCodesAsDefaultRel
            one-to-many relation to VendorWithholdingCode
            Field Mapping uses symbolic key
            	related.VendorGroup						= VendorGroup
            	related.Vendor							= Vendor
				related.Company							= Company
            Instance Selection    
				where (related.DefaultWithholdingCode
				and    related.IncomeWithholdingCode   != IncomeWithholdingCode)

    Sets
                 
	Rule Blocks		
        							
	Actions
		Create is a Create Action

		Update is an Update Action

		Delete is a Delete Action

