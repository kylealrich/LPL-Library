OrderEntryOrderComment is a BusinessClass
    owned by oe
    prefix is OOC
    classic name is OEORDCMNT

    Ontology
        symbolic key is OrderEntryOrderComment
            classic set name is OOCSET1

            classic name for OrderEntryStandardOrder is STD-ORDER-NBR
            classic name for CustomerOrder is ORDER-NBR

    Patterns
        implements StaticJava

        disable AuditIndex
		implements Archivable

    Persistent Fields

        PrintCode						is an OrderEntryPrintCode	
        Pick				is Boolean
	    Invoice  			is Boolean
        CommentTitle		is a CommentName
        CommentText
        Attachment
 	
	Conditions
	
		HasAttachment
			when (Attachment entered)

 	Relations
 		OrderEntryOrderCommentsForLineRel
       		one-to-one relation to CustomerOrderLine
       		Field Mapping uses symbolic key
                related.Company						= Company
            	related.CustomerOrder				= CustomerOrder
            	related.CustomerOrderLine			= CustomerOrderLine 
 
    Field Rules

        Invoice           
            if (PrintCode.DisplayOnly)
            	constraint (!Invoice)
            		"InvoiceIsNotCompatibleWithPrintCode" 					
            else
            	default to true
	
        Pick        
            
            if (PrintCode.DisplayOnly)    

            	constraint (!Pick)
            		"PickIsNotCompatibleWithPrintCode" 						
            else
            	default to true

        PrintCode
            default to "B" 
            
        Customer
        	default to CustomerOrderLine.Customer
        	display "CustomerOrderLine.Customer=<CustomerOrderLine.Customer>"
        	display "CustomerOrder.Customer=<CustomerOrder.Customer>"
        		
	Actions
        Create is a Create Action
        				
       	Update is an Update Action
		
		Delete is a Delete Action	
		
		CopyFromStandardComments is an Instance Action
			Parameters
				PrmCompany 					is a Company
				PrmBillingHeader			is a BillingStandardCommentHeader
				PrmBillingStandardComment	is a BillingStandardComment
				
			Parameter Rules
				PrmCompany 
					required
				PrmBillingHeader
					required
				PrmBillingStandardComment
					required
					
			Action Rules
				invoke Create 
					fill in fields from PrmBillingStandardComment
					invoked.Company			= PrmCompany
					
		Purge is a Purge Action
			restricted
