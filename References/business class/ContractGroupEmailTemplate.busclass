ContractGroupEmailTemplate is a BusinessClass
	owned by po
	
	prefix is Ctpl
	
	Ontology
		symbolic key is ContractGroupEmailTemplate
		
	Patterns
		implements Proxy for ContractGroup
		
	Persistent Fields
		ContractNotifySupplierEmailSubject 		is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		ContractNotifySupplierEmailContent    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate    		      						
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		ContractActivatedSomeErrorsEmailSubject is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		ContractActivatedSomeErrorsEmailContent	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate     		      						
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		ContractActivatedAllErrorsEmailSubject	is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		ContractActivatedAllErrorsEmailContent 	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate     		      						
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		TermsForReviewEmailSubject      		is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		TermsForReviewEmailContent   	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				PrimaryContact                  value is Contract.PrimaryContact
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate     		      						
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		TermsUpdatedEmailSubject         		is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		TermsUpdatedEmailContent    	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				PrimaryContact                  value is Contract.PrimaryContact
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate     		      						
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		TermsApprovedEmailSubject       		is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		TermsApprovedEmailContent   	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate    		      						
				PrimaryContact                  value is Contract.PrimaryContact
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		TermsDisapprovedEmailSubject       		is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		TermsDisapprovedEmailContent   	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				PrimaryContact                  value is Contract.PrimaryContact
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate     		      						
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		TermsRejectedEmailSubject        		is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
		TermsRejectedEmailContent   	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				PrimaryContact                  value is Contract.PrimaryContact 
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate    		      						
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
		MilestoneAdhocEmailSubject              is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
 				MilestoneName                   value is ContractMilestone.Name    
		MilestoneAdhocEmailContent   	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				MilestoneName                   value is ContractMilestone.Name
				MilestoneDate                   value is ContractMilestone.MilestoneDate
				SupplierName                    value is Contract.Supplier.SupplierName
		MilestoneAlertEmailSubject              is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
 				MilestoneName                   value is ContractMilestone.Name    
		MilestoneAlertEmailContent   	    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				MilestoneName                   value is ContractMilestone.Name
				MilestoneDate                   value is ContractMilestone.MilestoneDate
				MilestoneResponsiblePerson      value is ContractMilestone.PersonResponsible
				SupplierName                    value is Contract.Supplier.SupplierName
		AddendumNotifySupplierEmailSubject 		is Alpha size 255
			Text Variables
 				Contract    					value is Contract
 				ContractName    				value is Contract.Name
 				ContractVersion					value is ContractVersion
		AddendumNotifySupplierEmailContent    	is RichText
			Text Variables
				Contract						value is Contract
				ContractName                    value is Contract.Name
				ContractReviewDate              value is Contract.ContractReviewDate
		  		EffectiveDate                   value is Contract.EffectiveDate
				ExpirationDate        			value is Contract.ExpirationDate
				SupplierName                    value is Contract.Supplier.SupplierName
				WorkingContractID               value is Contract.WorkingContractID
 				ContractVersion					value is ContractVersion
		
				
	Derived Fields
		FinalContractNotifySupplierEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return ContractNotifySupplierEmailSubject text
			
		FinalContractNotifySupplierEmailContent is a DerivedField
			type is RichText
			restricted
			return ContractNotifySupplierEmailContent text	
			
		FinalContractActivatedSomeErrorsEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return ContractActivatedSomeErrorsEmailSubject text
			
		FinalContractActivatedSomeErrorsEmailContent is a DerivedField
			type is RichText
			restricted
			return ContractActivatedSomeErrorsEmailContent text
			
		FinalContractActivatedAllErrorsEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return ContractActivatedAllErrorsEmailSubject text
			
		FinalContractActivatedAllErrorsEmailContent is a DerivedField
			type is RichText
			restricted
			return ContractActivatedAllErrorsEmailContent text
			
		FinalTermsForReviewEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return TermsForReviewEmailSubject text
			
		FinalTermsForReviewEmailContent is a DerivedField
			type is RichText
			restricted
			return TermsForReviewEmailContent text
			
		FinalTermsUpdatedEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return TermsUpdatedEmailSubject text
			
		FinalTermsUpdatedEmailContent is a DerivedField
			type is RichText
			restricted
			return TermsUpdatedEmailContent text
			
		FinalTermsApprovedEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return TermsApprovedEmailSubject text
			
		FinalTermsApprovedEmailContent is a DerivedField
			type is RichText
			restricted
			return TermsApprovedEmailContent text
			
		FinalTermsDisapprovedEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return TermsDisapprovedEmailSubject text
			
		FinalTermsDisapprovedEmailContent is a DerivedField
			type is RichText
			restricted
			return TermsDisapprovedEmailContent text
			
		FinalTermsRejectedEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return TermsRejectedEmailSubject text
			
		FinalTermsRejectedEmailContent is a DerivedField
			type is RichText
			restricted
			return TermsRejectedEmailContent text
			
		FinalMilestoneAdhocEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return MilestoneAdhocEmailSubject text
			
		FinalMilestoneAdhocEmailContent is a DerivedField
			type is RichText
			restricted
			return MilestoneAdhocEmailContent text
			
		FinalMilestoneAlertEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return MilestoneAlertEmailSubject text

		FinalMilestoneAlertEmailContent is a DerivedField
			type is RichText
			restricted
			return MilestoneAlertEmailContent text
			
		FinalAddendumNotifySupplierEmailSubject is a DerivedField
			type is Alpha size 255
			restricted
			return AddendumNotifySupplierEmailSubject text
			
		FinalAddendumNotifySupplierEmailContent is a DerivedField
			type is RichText
			restricted
			return AddendumNotifySupplierEmailContent text

	Context Fields
		Contract
		ContractMilestone
		ContractVersion

	Field Rules
	
		ContractNotifySupplierEmailSubject
			initial value is "Please review contract {Contract}: {ContractName}"
			default to "Please review contract {Contract}: {ContractName}"

		ContractNotifySupplierEmailContent
			initial value is "Please review the attached contract documentation for {Contract}: {ContractName}."
			default to "Please review the attached contract documentation for {Contract}: {ContractName}."

		ContractActivatedSomeErrorsEmailSubject
			initial value is "Contract {Contract}: {ContractName} has been activated and contains lines that have errors"
			default to "Contract {Contract}: {ContractName} has been activated and contains lines that have errors"

		ContractActivatedSomeErrorsEmailContent
			initial value is "Contract {Contract}: {ContractName} has been activated and contains lines that have errors."
			default to "Contract {Contract}: {ContractName} has been activated and contains lines that have errors."

		ContractActivatedAllErrorsEmailSubject
			initial value is "Contract {Contract}: {ContractName} cannot be activated; all lines have errors"
			default to "Contract {Contract}: {ContractName} cannot be activated; all lines have errors"

		ContractActivatedAllErrorsEmailContent
			initial value is "Contract {Contract}: {ContractName} cannot be activated; all lines have errors."
			default to "Contract {Contract}: {ContractName} cannot be activated; all lines have errors."

		TermsForReviewEmailSubject
			initial value is "Contract {Contract} terms and conditions ready for review"
			default to "Contract {Contract} terms and conditions ready for review"

		TermsForReviewEmailContent
			initial value is "The terms and conditions for contract {Contract} - {ContractName} are ready for review; Contract primary contact is {PrimaryContact}."
			default to "The terms and conditions for contract {Contract} - {ContractName} are ready for review; Contract primary contact is {PrimaryContact}."

		TermsUpdatedEmailSubject
			initial value is "Contract {Contract} terms and conditions have been updated"
			default to "Contract {Contract} terms and conditions have been updated"

		TermsUpdatedEmailContent
			initial value is "The terms and conditions for contract {Contract}- {ContractName} have been updated by {PrimaryContact} and are ready for review."
			default to "The terms and conditions for contract {Contract}- {ContractName} have been updated by {PrimaryContact} and are ready for review."

		TermsApprovedEmailSubject
			initial value is "Contract {Contract} terms and conditions approved"
			default to "Contract {Contract} terms and conditions approved"

		TermsApprovedEmailContent
			initial value is "The terms and conditions for contract {Contract}: {ContractName} have been approved by {PrimaryContact}."
			default to "The terms and conditions for contract {Contract}: {ContractName} have been approved by {PrimaryContact}."

		TermsDisapprovedEmailSubject
			initial value is "Contract {Contract} terms and conditions disapproved"
			default to "Contract {Contract} terms and conditions disapproved"

		TermsDisapprovedEmailContent
			initial value is "Contract {Contract}: {ContractName} terms and conditions have been disapproved by {PrimaryContact}."
			default to "Contract {Contract}: {ContractName} terms and conditions have been disapproved by {PrimaryContact}."

		TermsRejectedEmailSubject
			initial value is "Contract {Contract} terms and conditions rejected"
			default to "Contract {Contract} terms and conditions rejected"

		TermsRejectedEmailContent
			initial value is "Contract {Contract}: {ContractName} terms and conditions have been rejected by {PrimaryContact}."
			default to "Contract {Contract}: {ContractName} terms and conditions have been rejected by {PrimaryContact}."

		MilestoneAdhocEmailSubject
			initial value is "Contract {Contract} has milestone: {MilestoneName}; please review it"
			default to "Contract {Contract} has milestone: {MilestoneName}; please review it"

		MilestoneAdhocEmailContent
			initial value is "Contract {Contract}: {ContractName} has milestone: {MilestoneName} which has a milestone date of {MilestoneDate}."
			default to "Contract {Contract}: {ContractName} has milestone: {MilestoneName} which has a milestone date of {MilestoneDate}."

		MilestoneAlertEmailSubject
			initial value is "Contract {Contract} milestone: {MilestoneName} alert"
			default to "Contract {Contract} milestone: {MilestoneName} alert"

		MilestoneAlertEmailContent
			initial value is "Alert: contract {Contract}: {ContractName} has milestone: {MilestoneName} which has a milestone date of {MilestoneDate}; responsible person is {MilestoneResponsiblePerson}."
			default to "Alert: contract {Contract}: {ContractName} has milestone: {MilestoneName} which has a milestone date of {MilestoneDate}; responsible person is {MilestoneResponsiblePerson}."
			
		AddendumNotifySupplierEmailSubject
			initial value is "Please review contract {Contract}: {ContractName} - version {ContractVersion}"
			default to "Please review contract {Contract}: {ContractName} - version {ContractVersion}"

		AddendumNotifySupplierEmailContent
			initial value is "Please review the attached addendum documentation for contract {Contract}: {ContractName} - version {ContractVersion}."
			default to "Please review the attached addendum documentation for contract {Contract}: {ContractName} - version {ContractVersion}."
