AssetBookAdjustment is a BusinessClass
    owned by am
    prefix is ABA
    classic name is AMASTBKADJ

    Ontology
        symbolic key is AssetBookAdjustment
            classic set name is ABASET1
            classic name for AssetAdjustment is PROCESS-SEQ

    Patterns
        implements ContextualParent
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        AdjustmentDate                      is Date
            classic name is ADJUST-DATE
        Compute
        Active                              is Boolean
            classic name is BOOK-STATUS
        ToActive                            is Boolean
            classic name is TO-BOOK-STATUS
        Life
        ToLife                              is a Life
        LifeRemaining
            classic name is LIFE-REM
        ToLifeRemaining                     is a LifeRemaining
            classic name is TO-LIFE-REM
        Basis                               is an InternationalAmount
            classic name is BOOK-BASIS
        ToBasis                             is an InternationalAmount
            classic name is TO-BOOK-BASIS
        Method
        ToMethod                            is a Method
        DepreciationMethodSwitched          is Boolean
            classic name is METH-SWITCHED
        ToDepreciationMethodSwitched        is Boolean
            classic name is TO-METH-SWITCH
        InServiceDate                       is Date
            classic name is INSRV-DATE
        ToInServiceDate                     is Date
            classic name is TO-INSRV-DATE
        YearPlacedInService
            classic name is METH-TABLE-YR
        ToYearPlacedInService               is a YearPlacedInService
            classic name is TO-METH-TBL-YR
        Convention
        ToConvention                        is a Convention
        DepreciationStartDate               is Date
            classic name is DEPR-STARTDATE
        LifeInYears
            classic name is LIFE-YEARS
        ToLifeInYears                       is a LifeInYears
            classic name is TO-LIFE-YEARS
        CurrentPeriodDepreciationCalculated is Boolean
            sql name is CPeriodDepreciationCalculated
            classic name is STATUS-CP-CALC
        CurrentPeriodPortionOfLife
            classic name is LIFE-CP
        TransactionNumberOfDecimals         is a CurrencyNumberOfDecimals
            classic name is TRAN-ND
        CurrentPeriodDepreciation           is an InternationalAmount
            classic name is DEPR-CP
        CurrentPeriodDepreciationAllowed    is an InternationalAmount
            sql name is CPeriodDepreciationAllowed
            classic name is DEPR-CP-ALLOW
        YearToDateDepreciation              is an InternationalAmount
            classic name is DEPR-YTD
        ToYearToDateDepreciation            is an InternationalAmount
            classic name is TO-DEPR-YTD
        YearToDateDepreciationAllowed       is an InternationalAmount
            classic name is DEPR-YTD-ALLOW
        YearToDateDepreciationOverride      is an InternationalAmount
            classic name is DEPR-YTD-OVRRD
        ToYearToDateDepreciationOverride    is an InternationalAmount
            sql name is TYToDateDepreciationOverride
            classic name is TO-DP-YTD-OVRD
        LifeToDateDepreciation              is an InternationalAmount
            classic name is DEPR-LTD
        ToLifeToDateDepreciation            is an InternationalAmount
            classic name is TO-DEPR-LTD
        LifeToDateDepreciationAllowed       is an InternationalAmount
            classic name is DEPR-LTD-ALLOW
        LastClosedPeriodBalance             is an InternationalAmount
            classic name is LAST-CLOSE
        FirstAndLastYear
            classic name is FIRST-LAST-FL
        InactivateDate                      is Date
            classic name is INACT-CHG-DATE
        YearToDateInactiveMonths
            classic name is INACT-YTD
        LifeToDateInactiveMonths
            classic name is INACT-LTD
        SalvageValue                        is an InternationalAmount
        ToSalvageValue                      is an InternationalAmount
            classic name is TO-SALV-VALUE
        BusinessPercent
            classic name is BUS-PERCENT
        ToBusinessPercent                   is a BusinessPercent
            classic name is TO-BUS-PERCENT
        PersonalUseCode
            classic name is PERSONAL-USE
        ToPersonalUseCode                   is AlphaUpper size 10
            classic name is TO-PERSONL-USE
        FirstYearExpenseAmount              is an InternationalAmount
            classic name is YR1-EXP
        ToFirstYearExpenseAmount            is an InternationalAmount
            classic name is TO-YR1-EXP
        AssetTaxCreditTable
            classic name is TC-TABLE
        ToAssetTaxCreditTable               is an AssetTaxCreditTable
            classic name is TO-TC-TABLE
        TaxCreditPropertyAmount             is an InternationalAmount
            classic name is TC-PROPERTY
        ToTaxCreditPropertyAmount           is an InternationalAmount
            classic name is TO-TC-PROPERTY
        TaxCredit                           is an InternationalAmount
        ToTaxCredit                         is an InternationalAmount
        InsuranceCalculationMethod          is a Method
            classic name is INS-METHOD
        ToInsuranceCalculationMethod        is a Method
            classic name is TO-INS-METHOD
        ActualInsuranceValue                is an InternationalAmount
            classic name is INS-ACT-VAL
        ToActualInsuranceValue              is an InternationalAmount
            classic name is TO-INS-ACT-VAL
        CalculatedInsuranceValue            is an InternationalAmount
            classic name is INS-CMPTD-VAL
        ToCalculatedInsuranceValue          is an InternationalAmount
            classic name is TO-INS-CMPTD
        ReplacementCalculationMethod        is a Method
            classic name is RPL-METHOD
        ToReplacementCalculationMethod      is a Method
            classic name is TO-RPL-METHOD
        CalculatedReplacementValue          is an InternationalAmount
            classic name is RPL-CMPTD-VAL
        ToCalculatedReplacementValue        is an InternationalAmount
            classic name is TO-RPL-CMPTD
        YearToDateDisposedMonths
            classic name is DSP-YTD
        AssetBook
        	delete ignored
        BookRegulation						is like BookRegulation
        ToBookRegulation					is a BookRegulation 
			delete ignored
		IndianReservation					is Boolean
		ToIndianReservation					is Boolean
		PropertyType						is Numeric 2
			States
				1245				value is 01
					default label is "1245"
				1250				value is 02	
					default label is "1250"
		ToPropertyType						is Numeric 2
			States
				1245				value is 01
					default label is "1245"
				1250				value is 02	
					default label is "1250"
		QualifiedImprovement				is Numeric 2
		ToQualifiedImprovement				is Numeric 2
		ForeignProperty						is Boolean
		ToForeignProperty					is Boolean		
		CostRecoverySystem					is Numeric 2
			States
				ACRS				value is 1
				MACRS				value is 2
		ToCostRecoverySystem				is Numeric 2
			States
				ACRS				value is 1
				MACRS				value is 2
		ClassificationOfProperty			is AlphaUpper 5
			States
				Blank									value is " "		
				3YearProperty							value is "03"
				5YearProperty							value is "05"
				7YearProperty							value is "07"
				10YearProperty							value is "10"
				12YearProperty							value is "12"
				15YearProperty							value is "15"
				RealProperty18							value is "18"
					default label is "Real Property (3/17/84 To 5/9/85)"
				RealProperty19 							value is "19"
					default label is "Real Property (3/10/85 To 12/31/86)"	
				20YearProperty							value is "20"
				25YearProperty							value is "25"
				ResidentialReal27						value is "27"	
					default label is "Residential Real 27.5"
			 	NonResidentialReal30					value is "31"	
			 		default label is "NonResidential Real 31.5 (1/1/87 To 5/12/93)"
				NonResidentialReal40 					value is "39"	
					default label is "NonResidential Real 39/40"	
		ToClassificationOfProperty			is AlphaUpper 5		
			States
				Blank									value is " "		
				3YearProperty							value is "03"
				5YearProperty							value is "05"
				7YearProperty							value is "07"
				10YearProperty							value is "10"
				12YearProperty							value is "12"
				15YearProperty							value is "15"
				RealProperty18							value is "18"
					default label is "Real Property (3/17/84 To 5/9/85)"
				RealProperty19 							value is "19"
					default label is "Real Property (3/10/85 To 12/31/86)"	
				20YearProperty							value is "20"
				25YearProperty							value is "25"
				ResidentialReal27						value is "27"	
					default label is "Residential Real 27.5"
			 	NonResidentialReal30					value is "31"	
			 		default label is "NonResidential Real 31.5 (1/1/87 To 5/12/93)"
				NonResidentialReal40 					value is "39"
					default label is "NonResidential Real 39/40"
		NonConforming						is Boolean				
		ToNonConforming						is Boolean
		Used								is Boolean
		ToUsed								is Boolean
		Farming								is Boolean
		ToFarming							is Boolean		
		Section179							is Boolean
		ToSection179						is Boolean		
		Listed								is Boolean
		ToListed							is Boolean
		DepreciableIntangible				is Numeric 1
			States
				Blank					value is 0
				DepreciableIntangible	value is 1
				AmortizedIntangible		value is 2	
		ToDepreciableIntangible				is Numeric 1
			States
				Blank					value is 0
				DepreciableIntangible	value is 1
				AmortizedIntangible		value is 2					
		AdjustPriorYearHistoryTransactions	is Numeric 1
			States
				YesWithoutTransactions	value is 0
				YesWithTransactions		value is 1
				NoPriorYearAdjustment	value is 2
		ToAdjustPriorYearHistoryTransactions	is Numeric 1
			States
				YesWithoutTransactions	value is 0
				YesWithTransactions		value is 1
				NoPriorYearAdjustment	value is 2
		HistoryPostingDate					is Numeric 1
			States
				PriorYearEndDate			value is 0
				DefaultPostingDate			value is 1
		ToHistoryPostingDate					is Numeric 1
			States
				PriorYearEndDate			value is 0
				DefaultPostingDate			value is 1					
		Section179Expense					is an InternationalAmount
		ToSection179Expense					is an InternationalAmount
		MineralReserves						is Boolean
		ToMineralReserves					is Boolean
		LowIncomeHousing					is Boolean 	
		ToLowIncomeHousing					is Boolean 					
		TransitionalRuleFlag				is Boolean	
		ToTransitionalRuleFlag				is Boolean								
		BonusAmount							is an InternationalAmount
		ToBonusAmount						is an InternationalAmount
		SpreadOverRemainingLife				is Boolean
		ToSpreadOverRemainingLife			is Boolean		
         
        	
	Local Fields		
		LocalBook						is like Book

		LocalAsset						is like Asset
		LocalFinanceEnterpriseGroup		is like FinanceEnterpriseGroup
		
	Relations
		AssetBookPurgeRel
			one-to-many relation to AssetBook
			Field Mapping uses Set2
				related.FinanceEnterpriseGroup		= LocalFinanceEnterpriseGroup
		      	related.Book						= LocalBook
		    Instance Selection
		    	include deleted records
		
		UnreleasedAssetTransactionsRel
			one-to-many relation to AssetTransaction
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.Asset							= Asset
				related.Book							= Book
			Instance Selection
				where (related.AssetTransaction.TransactionStatus.Unreleased)
		
		UnreleasedAssetBookTransactionsRel		
			one-to-many relation to AssetBookTransaction
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.Asset							= Asset
				related.Book							= Book
			Instance Selection
				where (related.AssetBookTransaction.TransactionStatus.Unreleased)
				
		BookRegulationsRel
			one-to-many relation to BookRegulation
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup

    Derived Fields

        BookCurrency              is a StringField
            type is Alpha size 5
            restricted
            Book.Currency

        AssetTagNumber            is a StringField
            type is Alpha size 12
            restricted
            classic name is AST-TAG-NBR
            AssetAdjustment.TagNumber

        AssetTransferAssetGroup   is a StringField
            type is Alpha size 10
            restricted
            classic name is AST-ASSET-GRP
            AssetAdjustment.AssetGroup

        AssetDescription          is a StringField
            type is Alpha size 30
            restricted
            classic name is AST-DESCRIP
            AssetAdjustment.Description

        AssetAdjustmentCreateDate is a StringField
            type is Alpha size 8
            restricted
            classic name is ADJ-CREAT-DATE
            AssetAdjustment.CreationDate date

        AssetAdjustmentCreateTime is a StringField
            type is Alpha size 6
            restricted
            classic name is ADJ-CREAT-TIME
            AssetAdjustment.CreationDate time

        AssetAdjustmentCreatedBy  is a StringField
            type is Alpha size 10
            restricted
            classic name is ADJ-CREATOR-ID
            AssetAdjustment.CreatedBy
            
       	ChangeInBasis is a ComputeField
			type is like InternationalAmount
			(ToBasis - Basis)     



    Conditions

		IsAdjustPriorYearHistoryTransactionsAdjusted
			when((!(AdjustPriorYearHistoryTransactions not entered and ToAdjustPriorYearHistoryTransactions not entered))
			and (AdjustPriorYearHistoryTransactions != ToAdjustPriorYearHistoryTransactions))
		IsActiveAdjusted
			when ((!(Active not entered and ToActive not entered))
			and (Active != ToActive))
		IsSpreadOverRemainingLifeAdjusted
			restricted
			when ((!(SpreadOverRemainingLife not entered and ToSpreadOverRemainingLife not entered))
			and (SpreadOverRemainingLife != ToSpreadOverRemainingLife))
		IsLifeAdjusted
			when ((!(Life not entered and ToLife not entered))
			and (Life != ToLife))
		IsLifeRemainingAdjusted
			when ((!(LifeRemaining not entered and ToLifeRemaining not entered))
			and (LifeRemaining != ToLifeRemaining))
		IsBasisAdjusted
			when ((!(Basis not entered and ToBasis not entered))
			and (Basis != ToBasis))
		IsMethodAdjusted
			when ((!(Method not entered and ToMethod not entered))
			and (Method != ToMethod))
		IsDepreciationMethodSwitchedAdjusted
			when ((!(DepreciationMethodSwitched not entered and ToDepreciationMethodSwitched not entered))
			and (DepreciationMethodSwitched != ToDepreciationMethodSwitched))
		IsInServiceDateAdjusted
			when ((!(InServiceDate not entered and ToInServiceDate not entered))
			and (InServiceDate != ToInServiceDate))
		IsYearPlacedInServiceAdjusted
			when ((!(YearPlacedInService not entered and ToYearPlacedInService not entered))
			and (YearPlacedInService != ToYearPlacedInService))
		IsConventionAdjusted
			when ((!(Convention not entered and ToConvention not entered))
			and (Convention != ToConvention))
		IsLifeInYearsAdjusted
			when ((!(LifeInYears not entered and ToLifeInYears not entered))
			and (LifeInYears != ToLifeInYears))
		IsYearToDateDepreciationAdjusted
			when ((!(YearToDateDepreciation not entered and ToYearToDateDepreciation not entered))
			and (YearToDateDepreciation != ToYearToDateDepreciation))
		IsYearToDateDepreciationOverrideAdjusted
			when ((!(YearToDateDepreciationOverride not entered and ToYearToDateDepreciationOverride not entered))
			and (YearToDateDepreciationOverride != ToYearToDateDepreciationOverride))
		IsLifeToDateDepreciationAdjusted
			when ((!(LifeToDateDepreciation not entered and ToLifeToDateDepreciation not entered))
			and (LifeToDateDepreciation != ToLifeToDateDepreciation))
		IsSalvageValueAdjusted
			when ((!(SalvageValue not entered and ToSalvageValue not entered))
			and (SalvageValue != ToSalvageValue))
		IsBusinessPercentAdjusted
			when ((!(BusinessPercent not entered and ToBusinessPercent not entered))
			and (BusinessPercent != ToBusinessPercent))
		IsPersonalUseCodeAdjusted
			when ((!(PersonalUseCode not entered and ToPersonalUseCode not entered))
			and (PersonalUseCode != ToPersonalUseCode))
		IsFirstYearExpenseAmountAdjusted
			when ((!(FirstYearExpenseAmount not entered and ToFirstYearExpenseAmount not entered))
			and (FirstYearExpenseAmount != ToFirstYearExpenseAmount))
		IsAssetTaxCreditTableAdjusted
			when ((!(AssetTaxCreditTable not entered and ToAssetTaxCreditTable not entered))
			and (AssetTaxCreditTable != ToAssetTaxCreditTable))
		IsTaxCreditPropertyAmountAdjusted
			when ((!(TaxCreditPropertyAmount not entered and ToTaxCreditPropertyAmount not entered))
			and (TaxCreditPropertyAmount != ToTaxCreditPropertyAmount))
		IsTaxCreditAdjusted
			when ((!(TaxCredit not entered and ToTaxCredit not entered))
			and (TaxCredit != ToTaxCredit))
		IsInsuranceCalculationMethodAdjusted
			when ((!(InsuranceCalculationMethod not entered and ToInsuranceCalculationMethod not entered))
			and (InsuranceCalculationMethod != ToInsuranceCalculationMethod))
		IsActualInsuranceValueAdjusted
			when ((!(ActualInsuranceValue not entered and ToActualInsuranceValue not entered))
			and (ActualInsuranceValue != ToActualInsuranceValue))
		IsCalculatedInsuranceValueAdjusted
			when ((!(CalculatedInsuranceValue not entered and ToCalculatedInsuranceValue not entered))
			and (CalculatedInsuranceValue != ToCalculatedInsuranceValue))
		IsReplacementCalculationMethodAdjusted
			when ((!(ReplacementCalculationMethod not entered and ToReplacementCalculationMethod not entered))
			and (ReplacementCalculationMethod != ToReplacementCalculationMethod))
		IsCalculatedReplacementValueAdjusted
			when ((!(CalculatedReplacementValue not entered and ToCalculatedReplacementValue not entered))
			and (CalculatedReplacementValue != ToCalculatedReplacementValue))
		IsBookRegulation
			when (BookRegulationsExist
			and (!(BookRegulation not entered and ToBookRegulation not entered))
			and (BookRegulation != ToBookRegulation))
		IsIndianReservation
			when ((!(IndianReservation not entered and ToIndianReservation not entered))
			and (IndianReservation != ToIndianReservation))
		IsPropertyType
			when ((!(PropertyType not entered and ToPropertyType not entered))
			and (PropertyType != ToPropertyType))
		IsQualifiedImprovement
			when ((!(QualifiedImprovement not entered and ToQualifiedImprovement not entered))
			and (QualifiedImprovement != ToQualifiedImprovement))
		IsForeignProperty
			when ((!(ForeignProperty not entered and ToForeignProperty not entered))
			and (ForeignProperty != ToForeignProperty))
		IsCostRecoverySystem
			when ((!(CostRecoverySystem not entered and ToCostRecoverySystem not entered))
			and (CostRecoverySystem != ToCostRecoverySystem))
		IsClassificationOfProperty
			when ((!(ClassificationOfProperty not entered and ToClassificationOfProperty not entered))
			and (ClassificationOfProperty != ToClassificationOfProperty))
		IsNonConforming
			when ((!(NonConforming not entered and ToNonConforming not entered))
			and (NonConforming != ToNonConforming))
		IsUsed
			when ((!(Used not entered and ToUsed not entered))
			and (Used != ToUsed))
		IsFarming
			when ((!(Farming not entered and ToFarming not entered))
			and (Farming != ToFarming))
		IsSection179
			when ((!(Section179 not entered and ToSection179 not entered))
			and (Section179 != ToSection179))
		IsListed
			when ((!(Listed not entered and ToListed not entered))
			and (Listed != ToListed))
		IsHistoryPostingDate
			when ((!(HistoryPostingDate not entered and ToHistoryPostingDate not entered))
			and (HistoryPostingDate != ToHistoryPostingDate))
		IsDepreciableIntangible
			when ((!(DepreciableIntangible not entered and ToDepreciableIntangible not entered))
			and (DepreciableIntangible != ToDepreciableIntangible))
		IsSection179Expense
			when ((!(Section179Expense not entered and ToSection179Expense not entered))
			and (Section179Expense != ToSection179Expense))
		IsMineralReserves
			when ((!(MineralReserves not entered and ToMineralReserves not entered))
			and (MineralReserves != ToMineralReserves))
		IsLowIncomeHousing
			when ((!(LowIncomeHousing not entered and ToLowIncomeHousing not entered))
			and (LowIncomeHousing != ToLowIncomeHousing))
		IsTransitionalRuleFlag
			when ((!(TransitionalRuleFlag not entered and ToTransitionalRuleFlag not entered))
			and (TransitionalRuleFlag != ToTransitionalRuleFlag))
		IsBonusAmount
			when ((!(BonusAmount not entered and ToBonusAmount not entered))
			and (BonusAmount != ToBonusAmount))	


        IsAdjust
        	restricted
            when (Asset entered)

		BookRegulationsExist
			restricted
			when (BookRegulationsRel exists)	

    Sets

        Set2
            indexed
            Sort Order
				FinanceEnterpriseGroup	
                Asset
                Book
                AssetAdjustment


	Actions
		Create is a Create Action
			restricted
			
		Update is an Update Action
			restricted
		
		UpdatePostingDate is an Instance Action
			Parameters
				NewPostingDate is Date
			Action Rules
				if (UnreleasedAssetTransactionsRel exist)
					for each UnreleasedAssetTransactionsRel
						invoke UpdateTransactionDate each
							invoked.PostingDate = NewPostingDate

				if (UnreleasedAssetBookTransactionsRel exist)
					for each UnreleasedAssetBookTransactionsRel
						invoke UpdateTransactionDate each
							invoked.PostingDate = NewPostingDate

		Delete is a Delete Action
			restricted
			
		Purge is a Purge Action
			restricted

		ResetAdjustment is an Instance Action
			restricted
			Action Rules
				if (AssetBook not exists)
					invoke Create AssetBook
						fill in fields from this instance
				else








                    
                    if(InServiceDate not entered)

						invoke Delete AssetBook
						invoke Delete

					else
						invoke Update AssetBook
							invoked.LocalComputeOption					= Compute
							invoked.Active								= Active

							invoked.Life								= Life
							invoked.LifeRemaining						= LifeRemaining
							invoked.SpreadOverRemainingLife				= SpreadOverRemainingLife
							invoked.Basis								= Basis
							invoked.Method								= Method
							invoked.DepreciationMethodSwitched			= DepreciationMethodSwitched
							invoked.InServiceDate						= InServiceDate
							invoked.YearPlacedInService					= YearPlacedInService
							invoked.Convention							= Convention
							invoked.DepreciationStartDate				= DepreciationStartDate
							invoked.LifeInYears							= LifeInYears
							invoked.CurrentPeriodDepreciationCalculated	= CurrentPeriodDepreciationCalculated
							invoked.CurrentPeriodPortionOfLife			= CurrentPeriodPortionOfLife
							invoked.TransactionNumberOfDecimals			= TransactionNumberOfDecimals
							invoked.CurrentPeriodDepreciation			= CurrentPeriodDepreciation
							invoked.CurrentPeriodDepreciationAllowed	= CurrentPeriodDepreciationAllowed
							invoked.YearToDateDepreciation				= YearToDateDepreciation
							invoked.YearToDateDepreciationAllowed		= YearToDateDepreciationAllowed
							invoked.YearToDateDepreciationOverride		= YearToDateDepreciationOverride
							invoked.LifeToDateDepreciation				= LifeToDateDepreciation
							invoked.LifeToDateDepreciationAllowed		= LifeToDateDepreciationAllowed
							invoked.LastClosedPeriodBalance				= LastClosedPeriodBalance
							invoked.FirstAndLastYear					= FirstAndLastYear

							invoked.AdjustPriorYearHistoryTransactions	= AdjustPriorYearHistoryTransactions
							invoked.HistoryPostingDate					= HistoryPostingDate



							invoked.SalvageValue						= SalvageValue
							invoked.BusinessPercent						= BusinessPercent
							invoked.PersonalUseCode						= PersonalUseCode
							invoked.FirstYearExpenseAmount				= FirstYearExpenseAmount
							invoked.AssetTaxCreditTable					= AssetTaxCreditTable
							invoked.TaxCreditPropertyAmount				= TaxCreditPropertyAmount
							invoked.TaxCredit							= TaxCredit
							invoked.InsuranceCalculationMethod			= InsuranceCalculationMethod
							invoked.ActualInsuranceValue				= ActualInsuranceValue
							invoked.CalculatedInsuranceValue			= CalculatedInsuranceValue
							invoked.ReplacementCalculationMethod		= ReplacementCalculationMethod
							invoked.CalculatedReplacementValue			= CalculatedReplacementValue
							invoked.YearToDateDisposedMonths			= YearToDateDisposedMonths
							invoked.BookRegulation						= BookRegulation
							invoked.IndianReservation					= IndianReservation
							invoked.PropertyType						= PropertyType
							invoked.QualifiedImprovement				= QualifiedImprovement
							invoked.ForeignProperty						= ForeignProperty
							invoked.CostRecoverySystem					= CostRecoverySystem
							invoked.ClassificationOfProperty			= ClassificationOfProperty
							invoked.NonConforming						= NonConforming
							invoked.Used								= Used
							invoked.Farming								= Farming
							invoked.Section179							= Section179
							invoked.Listed								= Listed
							invoked.DepreciableIntangible				= DepreciableIntangible
							invoked.Section179Expense					= Section179Expense
							invoked.MineralReserves						= MineralReserves
							invoked.LowIncomeHousing					= LowIncomeHousing
							invoked.TransitionalRuleFlag				= TransitionalRuleFlag
							invoked.BonusAmount							= BonusAmount
							invoked.ResetAdjustment						= true
							
						invoke Delete

		AssetBookAdjustmentPurge is a Set Action
			restricted
			Parameters
				PrmFinanceEnterpriseGroup		is a FinanceEnterpriseGroup
				PrmAsset						is like Asset				
				PrmBook							is like Book
				PrmPurgeOption					is Numeric 1
					default label is "ActionOption"
					States
						PurgeRecords 	value is 1
						ReportOnly		value is 2
		        PrmCompany                 		is like Company
	
			Parameter Rules
				PrmFinanceEnterpriseGroup
					LocalFinanceEnterpriseGroup 		= PrmFinanceEnterpriseGroup
				PrmBook
					LocalBook 							= PrmBook
				PrmAsset
					LocalAsset 							= PrmAsset
				PrmCompany

			Instance Selection
				include deleted records
				where(FinanceEnterpriseGroup			= PrmFinanceEnterpriseGroup
				and	  Book								= PrmBook
				and   Asset.Company						= PrmCompany
				and  (PrmAsset not entered 
				or   (Asset								= PrmAsset)))
				
			Action Rules
				Instance Rules
					if (PrmPurgeOption.PurgeRecords)
						invoke Purge
