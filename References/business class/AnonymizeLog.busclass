AnonymizeLog is a BusinessClass
    owned by ap
    prefix is APAL	

    Ontology
		symbolic key is AnonymizeLog

    Patterns
		disable EffectiveDated		
        disable AsOfDateProcessing	

		
    Persistent Fields
		CreateDate              		is TimeStamp
		Operator
		Status							is Numeric 2
			States
				Anonymized			value is 1
				AuditLogPurged		value is 2
		AffectedBusinessClass			is Alpha 5
			States

				Vendor							value is AP1	
				VendorAddress					value is AP2	
				VendorContact					value is AP3	
				VendorLocation					value is AP4	
				VendorMappingTableInterface		value is AP5	

				PurchasingVendor				value is PO1	
				PurchaseFromLocation			value is PO2	
				ContractAttachedContact			value is PO3	

				Customer						value is AR1	
				CompanyCustomer					value is AR2	
				CompanyCustomerContact			value is AR3	
				CustomerBillTo					value is AR4	
				CustomerRepresentative 			value is AR5	
  				CustomerRepresentativeContact	value is AR6	
  				CustomerShipTo					value is AR7	
  				ReceivableOperator				value is AR9	
  				SalesRepresentative				value is AR10	
  				CreditAnalyst 					value is AR11	
				CustomerMappingTableInterface	value is AR12

  				OrderEntryOperator				value is OE1	

  				Supplier						value is PC1	
				SupplierSourceId				value is PC2	

		VendorGroup						is like VendorGroup
		Vendor							is like Vendor
		VendorContactCode				is like VendorContactCode
		VendorLocation					is like VendorLocation
		ContactLevel					is like ContactLevel
		OldVendor						is like Vendor

		ContractGroup					is like ContractGroup
		Contract						is like Contract
		PurchasingVendor				is like PurchasingVendor
		PurchaseFromLocation			is like PurchaseFromLocation
		ContractAttachedContact			is like ContractAttachedContact

		CustomerGroup					is like CustomerGroup
		Customer						is like Customer
		ReceivableCompany				is like GeneralLedgerCompany
        CompanyCustomer					is like CompanyCustomer
        CompanyCustomerContact			is like VendorGroup
        CustomerBillTo					is like CompanyCustomerContact
        CustomerRepresentative			is like CustomerRepresentative
        CustomerRepresentativeContact	is like CustomerRepresentativeContact
		CustomerShipTo					is like CustomerShipTo
		ReceivableOperator				is like ReceivableOperator
		SalesRepresentative				is like SalesRepresentative
		CreditAnalyst					is like CreditAnalyst
		CustomerMappingTableInterface	is like CustomerMappingTableInterface

		OrderEntryOperator				is like OrderEntryOperator
		BillingCompany					is like GeneralLedgerCompany

		SupplierGroup					is like SupplierGroup
		Supplier						is like Supplier
		SupplierSourceId				is like SupplierSourceId
		
		
	Derived Fields

	Field Rules
		Operator
			default to actor
			
		CreateDate
			default to current timestamp
			
	Conditions

		VendorGroupEntered
			restricted
			when (VendorGroup entered)
		VendorEntered
			restricted
			when (Vendor entered)
		VendorContactCodeEntered
			restricted
			when (VendorContactCode entered)
		VendorLocationEntered
			restricted
			when (VendorLocation entered)
		ContactLevelEntered
			restricted
			when (ContactLevel entered)
		OldVendorEntered
			restricted
			when (OldVendor entered)

		BillingCompanyEntered
			restricted
			when (BillingCompany entered)
		OrderEntryOperatorEntered
			restricted
			when (OrderEntryOperator entered)

		CustomerGroupEntered
			restricted
			when (CustomerGroup entered)
        CustomerEntered	
			restricted
			when (Customer entered)
		ReceivableCompanyEntered
			restricted
			when (ReceivableCompany entered)
        CompanyCustomerContactEntered
			restricted
			when (CompanyCustomerContact entered)			
        CustomerBillToEntered
			restricted
			when (CustomerBillTo entered)				
        CustomerRepresentativeEntered
			restricted
			when (CustomerRepresentative entered)			
        CustomerRepresentativeContactEntered
			restricted
			when (CustomerRepresentativeContact entered)
        CustomerShipToEntered
			restricted
			when (CustomerShipTo entered)
        ReceivableOperatorEntered
			restricted
			when (ReceivableOperator entered)		
        SalesRepresentativeEntered
			restricted
			when (SalesRepresentative entered)		
        CreditAnalystEntered
			restricted
			when (CreditAnalyst entered)
        CustomerMappingTableInterfaceEntered
			restricted
			when (CustomerMappingTableInterface entered)
		
		ContractEntered
			restricted
			when (Contract entered)
		SupplierEntered
			restricted
			when (Supplier entered)
		SupplierSourceIdEntered
			restricted
			when (SupplierSourceId entered)

		VendorRelated
			when (AffectedBusinessClass.Vendor
			or    AffectedBusinessClass.VendorAddress
			or    AffectedBusinessClass.VendorContact
			or    AffectedBusinessClass.VendorLocation
			or    AffectedBusinessClass.VendorMappingTableInterface
			or    AffectedBusinessClass.PurchasingVendor
			or    AffectedBusinessClass.PurchaseFromLocation)

		ContractContactRelated
			when (AffectedBusinessClass.ContractAttachedContact)

		CustomerRelated
			when (AffectedBusinessClass.Customer
			or    AffectedBusinessClass.CompanyCustomer
			or    AffectedBusinessClass.CompanyCustomerContact
			or    AffectedBusinessClass.CustomerBillTo
			or    AffectedBusinessClass.CustomerRepresentative
			or    AffectedBusinessClass.CustomerRepresentativeContact
			or    AffectedBusinessClass.CustomerShipTo
			or    AffectedBusinessClass.ReceivableOperator
			or    AffectedBusinessClass.SalesRepresentative
			or    AffectedBusinessClass.CreditAnalyst
			or    AffectedBusinessClass.CustomerMappingTableInterface)

		OrderEntryRelated
			when (AffectedBusinessClass.OrderEntryOperator)

		SupplierRelated
			when (AffectedBusinessClass.Supplier
			or    AffectedBusinessClass.SupplierSourceId)

	Relations
	
	Sets

    	ByCreateDate
    		Sort Order
    			CreateDate				descending
    			AffectedBusinessClass
    			AnonymizeLog

    	ByAffectedBusinessClass
    		Sort Order
    			AffectedBusinessClass
    			CreateDate				descending
				AnonymizeLog
					
		ByVendor
			indexed
			Instance Selection
				where (AffectedBusinessClass.Vendor)
			Sort Order
				FinanceEnterpriseGroup
				VendorGroup
                Vendor
                AnonymizeLog
 
 		ByVendorContact
			indexed
			Instance Selection
				where (AffectedBusinessClass.VendorContact)
			Sort Order
				FinanceEnterpriseGroup
				VendorGroup
                Vendor
                VendorLocation
                AnonymizeLog

		BySupplier
			indexed
			Instance Selection
				where (AffectedBusinessClass.Supplier)
			Sort Order
				FinanceEnterpriseGroup
				SupplierGroup
                Supplier
                AnonymizeLog
		
		BySupplierSourceId
			indexed
			Instance Selection
				where (AffectedBusinessClass.SupplierSourceId)
			Sort Order
				FinanceEnterpriseGroup
				SupplierGroup
                Supplier
                SupplierSourceId
                AnonymizeLog
		
		ByContractContact
			indexed
			Instance Selection
				where (AffectedBusinessClass.ContractAttachedContact)
			Sort Order
				FinanceEnterpriseGroup
				ContractGroup
                Contract
                ContractAttachedContact
                AnonymizeLog
		
		ByOrderEntryOperator
			indexed
			Instance Selection
				where (AffectedBusinessClass.OrderEntryOperator)
			Sort Order
				FinanceEnterpriseGroup
				BillingCompany
                OrderEntryOperator
                AnonymizeLog
                                
		ByCustomer
			indexed
			Instance Selection
				where (AffectedBusinessClass.Customer)
			Sort Order
				FinanceEnterpriseGroup
				CustomerGroup
                Customer
                AnonymizeLog

	Actions
		Create is a Create Action
			restricted

		Update is an Update Action
			restricted
		
		Delete is a Delete Action
			restricted
			
		Purge is a Purge Action
			restricted
				
