RemittanceApplyDistribution is a BusinessClass
	owned by ar
	prefix is RAD

	Ontology
		symbolic key is RemittanceApplyDistribution
    
    Patterns
        implements Archivable

	Persistent Fields
		ApplyFundDistributionAccount        is a FinanceCodeBlock
        OriginalCurrency					is a FromCurrency
        DistributionAmount                  is a FinanceCurrencyAmountGroup
        OriginalLastDistributionSequence    is a DistSeq
        OriginalReceivableGLDistribution    is like ReceivableGLDistribution 
        InvoiceCompany					    is like ReceivableCompany
        Customer
        ReceivableInvoiceType			    is AlphaUpper size 1 
			States
				Invoice			value is "I"
				CreditMemo		value is "C"
					default label is "Credit memo"
				DebitMemo		value is "D"
				MixedSignLines	value is "M"
		ReceivableInvoice				    is like ReceivableInvoice
        InvoiceDetail					    is a Sequence

    Transient Fields
        BypassNegativeRateEdit
            derive value from true

    Relations		

        ReceivableGLDistributionRel
			one-to-one relation to ReceivableGLDistribution
			Field Mapping uses Set2
				related.ReceivableCompanyDataGroup.TransactionCompany				 = InvoiceCompany
				related.BatchNumber													 = ReceivablePaymentRemittance.InvoiceCompanyReceivableInvoiceRel.BatchNumber
				related.TransType													 = ReceivablePaymentRemittance.InvoiceCompanyReceivableInvoiceRel.ReceivableInvoiceType
				related.Invoice														 = ReceivableInvoice	
				related.ReceivableCompanyDataGroup.Customer							 = Customer	
                related.LastDistributionSequence                                     = OriginalLastDistributionSequence
                related.ReceivableGLDistribution                                     = OriginalReceivableGLDistribution

    Sets

		ByReceivableGLDistribution
			indexed
			Sort Order
                Company
                ReceivablePaymentHeader
                ReceivablePayment
                InvoiceCompany
                ReceivableInvoiceType
                ReceivableInvoice
                InvoiceDetail
                OriginalLastDistributionSequence
                OriginalReceivableGLDistribution

        RemittanceApplyDistributionDescending
			indexed
			Sort Order
                Company
                ReceivablePaymentHeader
                ReceivablePayment
				InvoiceCompany
                ReceivableInvoiceType
                ReceivableInvoice
                InvoiceDetail
                RemittanceApplyDistribution descending

        ByInvoice
            indexed
			Sort Order
                InvoiceCompany
                ReceivableInvoiceType
                ReceivableInvoice
                OriginalLastDistributionSequence
                OriginalReceivableGLDistribution
                InvoiceDetail
                Company
                ReceivablePaymentHeader
                ReceivablePayment

	Actions
        
        Create is a Create Action
			restricted
            			
		Update is an Update Action
			restricted
                       
        Delete is a Delete Action
			restricted

        Purge is a Purge Action 
            restricted
