AnalyticsPeriodHierarchy is a BusinessClass
	owned by analytics
	
	prefix is ANPHy
	
	Ontology
		part of AnalyticsCalendarPeriod
			relative key is SubordinatePeriod is a AnalyticsCalendarPeriod
			
	Patterns
	
	Persistent Fields
		TopNode					is AlphaUpper 20
		Weight				 	is Percent 6.3
	
	Transient Fields
		TransientWeight			is Percent 6.3
		
	Field Rules
		Weight
			if (SubordinatePeriod.PeriodType.EndDate
			or  SubordinatePeriod.PeriodType.Year)
				Weight = 1
			else
			if (SubordinatePeriod like "*_YTD")
				if (SubordinatePeriod.PeriodType.Month)
					if (SubordinatePeriod.Month.Period12)
						Weight = 1
				else
				if (SubordinatePeriod.PeriodType.Quarter)
					if (SubordinatePeriod.Quarter.Quarter4)
						Weight = 1
				else
					Weight = 1
			else
				Weight = 1	

			if (TransientWeight entered)
				Weight = TransientWeight

	Derived Fields
			
	Sets
		ByParent
			Sort Order
				FinanceEnterpriseGroup
				AnalyticsCalendarPeriod
				SubordinatePeriod
		
		ByParentInTopNode
			Sort Order
				FinanceEnterpriseGroup
				TopNode
				AnalyticsCalendarPeriod
				SubordinatePeriod
								
		BySubordinate
			Sort Order
				FinanceEnterpriseGroup
				SubordinatePeriod				
				AnalyticsCalendarPeriod
				
		SubordinatesByTopNode
			Sort Order
				FinanceEnterpriseGroup
				TopNode
				SubordinatePeriod
				AnalyticsCalendarPeriod
