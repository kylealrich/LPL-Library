GLReport is a BusinessClass
	owned by GeneralLedger
	prefix is GLRPT

	Ontology
		symbolic key is GLReport

	Patterns
	
	Context Fields
		ReportingBasis
		Actor
		
	Persistent Fields
		ReportTitle			is Alpha 60
		ReportTitle2		is Alpha 60
		ReportTitle3		is Alpha 60
		Description			is Text
		CompositeReport		is Boolean
		RowView				is a GLRowView
		ColumnView			is a GLColumnView
		IntegrationStatus	is Numeric 1
			States
				NotGenerated	value is 0
				Generated		value is 1
				OutOfSync       value is 2
		InstanceSelection	is LPLText
			is condition for "GeneralLedgerTotal"
		Lock				is Boolean
		GrandTotal				is Boolean
		ShowReportDate			is Boolean
		UseTitleParameter1		is Boolean
		UseTitleParameter2		is Boolean
		GLReportFilterParam1 	is a GLReportFilterParam
		GLReportFilterParam2 	is a GLReportFilterParam
		ZeroSuppression			is Boolean
			
	Field Rules
		GLReport
			LocalReportRegex = "^([A-Za-z0-9 _-])*$"
			constraint (GLReport matches LocalReportRegex)
				"ReportIDAllowsWhiteSpacesAndSpecialChars__Underscore_and__Hyphen-Only"

		ReportTitle
			required
			LocalReportRegex = "^([A-Za-z0-9 _-])*$"
			constraint (ReportTitle matches LocalReportRegex)
				"ReportTitleAllowsWhiteSpacesAndSpecialChars__Underscore_and__Hyphen-Only"

		ReportTitle2
			LocalReportRegex = "^([A-Za-z0-9 _-])*$"
			constraint (ReportTitle2 matches LocalReportRegex)
				"ReportTitleAllowsWhiteSpacesAndSpecialChars__Underscore_and__Hyphen-Only"

		ReportTitle3
			constraint(UseTitleParameter1 or (ReportTitle2 entered))
				"CannotEnter_Title_3If_Title_2IsNotEntered"
			LocalReportRegex = "^([A-Za-z0-9 _-])*$"
			constraint (ReportTitle3 matches LocalReportRegex)
				"ReportTitleAllowsWhiteSpacesAndSpecialChars__Underscore_and__Hyphen-Only"
					
	
		RowView
			if (!CompositeReport)
				required
		
		ColumnView
			if (!CompositeReport)
				required

		CompositeReport
			cannot be changed
		
		Lock
			if (ApplicationAdministratorActorRoleRel not exists)
				if (!create stamp.actor = actor)
					cannot be changed

		GrandTotal
			constraint (!CompositeReport)
				"Grand_TotalIsNotValidFor_Composite_Report"	
			constraint (DerivedGrandTotalIsValid)
				"Grand_TotalIsNotValidForSummaryLevel"



	Transient Fields
		AdvancedFilter is Boolean

	Local Fields
		LocalUpdateMessage					is Text
		LocalReportURL						is Alpha 5000
		LocalRefreshReportURL				is Boolean
		LocalReportingBasis					is a ReportingBasis
		LocalActor							is an Actor
		LocalCalendarTopNode				is AlphaUpper 20
		LocalCalendarPeriodType				is Numeric 1
		LocalCalendarPeriodYear				is Numeric 4
		LocalCalendarPeriodQtr				is Numeric 2		
		LocalCalendarPeriodMonth			is Numeric 2
		LocalLocalAccountingUnitType		is Numeric 1
		LocalGLChartAccountChartType		is Numeric 1
		LocalAccountingEntityType			is Numeric 1
		LocalAccountingUnitType				is Numeric 1
		LocalProjectType					is Numeric 1
		LocalFinDim1Type					is Numeric 1
		LocalFinDim2Type					is Numeric 1
		LocalFinDim3Type					is Numeric 1
		LocalFinDim4Type					is Numeric 1
		LocalFinDim5Type					is Numeric 1
		LocalFinDim6Type					is Numeric 1
		LocalFinDim7Type					is Numeric 1
		LocalFinDim8Type					is Numeric 1
		LocalFinDim9Type					is Numeric 1
		LocalFinDim10Type					is Numeric 1
		LocalReportingChart					is like ReportingChart
		LocalAccountingEntityStructure		is like AccountingEntity
		LocalAccountingUnitStructure		is like AccountingUnitStructure
		LocalProjectStructure				is like ProjectStructure
		LocalProject						is like Project
		LocalLedgerTopNode					is like Ledger		
		LocalAccountingEntityLevel			is Numeric 3
		LocalGLChartAccountLevel			is Numeric 3		
		LocalFinDim1Structure				is AlphaUpper 15
		LocalFinDim2Structure				is AlphaUpper 15
		LocalFinDim3Structure				is AlphaUpper 15
		LocalFinDim4Structure				is AlphaUpper 15
		LocalFinDim5Structure				is AlphaUpper 15
		LocalFinDim6Structure				is AlphaUpper 15
		LocalFinDim7Structure				is AlphaUpper 15
		LocalFinDim8Structure				is AlphaUpper 15
		LocalFinDim9Structure				is AlphaUpper 15
		LocalFinDim10Structure				is AlphaUpper 15
		LocalFinDim1Level					is Numeric 3
		LocalFinDim2Level					is Numeric 3
		LocalFinDim3Level					is Numeric 3
		LocalFinDim4Level					is Numeric 3
		LocalFinDim5Level					is Numeric 3
		LocalFinDim6Level					is Numeric 3
		LocalFinDim7Level					is Numeric 3
		LocalFinDim8Level					is Numeric 3
		LocalFinDim9Level					is Numeric 3
		LocalFinDim10Level					is Numeric 3
		LocalProjectLevel					is Numeric 3
		LocalAcctUnitLevel					is Numeric 3
		LocalDimensionName					is Alpha 200
		LocalFieldName						is Alpha 200
		LocalFilterValue					is Alpha 100
		LocalFilterDisplayValue				is Alpha 100
		LocalIsLeafLevel					is Boolean
		LocalDimensionLevel					is Numeric 2
		LocalStructureFilter				is Alpha 50
		LocalStructureDimension				is Alpha 200
		LocalStructureField					is Alpha 200
		LocalError							is Boolean
		LocalGLReportProcessingResultView	is a GLReportProcessingResult view
		LocalReportRegex					is Alpha 200
		LocalReportDistributionGroup		is a ReportDistributionGroup
		LocalReportDistributionProfile		is a ReportDistributionProfile
		LocalActorGroup						is an ActorGroup
		LocalContextAccountingEntity		is a AccountingEntity
		LocalDimensionGroupType				is Numeric size 2
			States
				AccountingEntity	value is 1
				Company				value is 2
				FinanceDimension1	value is 3
				FinanceDimension2	value is 4
				FinanceDimension3	value is 5
				FinanceDimension4	value is 6
				FinanceDimension5	value is 7
				FinanceDimension6	value is 8
				FinanceDimension7	value is 9
				FinanceDimension8	value is 10
				FinanceDimension9	value is 11
				FinanceDimension10	value is 12
				Project				value is 13
				ChartAccount		value is 14
		LocalFiscalMonth					is Numeric 2
		LocalFiscalQuarter					is Numeric 1
		LocalFiscalYear                     is Numeric 4
		LocalCalendarPeriodTopNode			is like GeneralLedgerCalendarPeriod
		LocalGLCalendarPeriod				is like GeneralLedgerCalendarPeriod
		LocalMaxColumnLeft					is Integer 4
		LocalColumnLeft						is Integer 4
		LocalStartingLevel					is Numeric 2
		LocalEndingLevel					is Numeric 2
		LocalTotalMeasureColumnSize			is Numeric 4
		I1									is Integer 2
		LocalColumnView						is like GLColumnView
		LocalYearShift						is Alpha 200	
		LocalYearShiftInt					is Integer 2
		LocalHasRowDimension				is Boolean
		LocalHasMultiLevelRowDimension		is Boolean
		LocalFinanceEnterpriseGroup			is like FinanceEnterpriseGroup
		LocalPreviewLimit					is Numeric 10
		LocalHasMultiSelectFilter			is Boolean
		LocalDimension						is Alpha 200
		LocalTitleParameter1				is Alpha 100
		LocalTitleParameter2				is Alpha 100
		LocalParamName						is Alpha 100
		LocalParamValue						is Alpha 500
		LocalAccountingEntityDesc			is like Description
		LocalAccountDesc					is like Description
		LocalAccountingUnitDesc				is like AccountDescription
		LocalFinDim1Desc					is like Description
		LocalFinDim2Desc					is like Description
		LocalFinDim3Desc					is like Description
		LocalFinDim4Desc					is like Description
		LocalFinDim5Desc					is like Description
		LocalFinDim6Desc					is like Description
		LocalFinDim7Desc					is like Description
		LocalFinDim8Desc					is like Description
		LocalFinDim9Desc					is like Description
		LocalFinDim10Desc					is like Description
		LocalProjectDesc					is like Description
		LocalCurrencyDesc					is like Description
		LocalLedgerDesc						is like Description
		LocalScenarioDesc					is like Description
		LocalSystemDesc						is like Description
		LocalReportDistributionActor 		is an Actor
		LocalAccountingEntitySecurityGroup 	is a AccountingEntitySecurityGroup
		LocalContextProperty				is a ContextProperty
		LocalIsActorDimensionFiltersValid	is Boolean
		LocalGLReportGrouping				is a GLReportGrouping
		LocalGLreport						is like GLReport
		LocalScenarioFilterNotExists        is Boolean
        LocalScenarioFilterValNotExists     is Boolean

	Rule Blocks
		
		CreateNewNameValueGLReportFilterParamValue
			invoke Create GLReportFilterParamValue
				invoked.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				invoked.GLReport				= GLReport
				invoked.Actor					= LocalActor
				invoked.Dimension				= LocalParamName
				invoked.FieldName				= LocalParamName
				invoked.FilterValue				= LocalParamValue
				invoked.FilterDisplayValue		= LocalParamValue
				invoked.IsLeafLevel				= true
				invoked.DimensionLevel			= 0
				invoked.StructureFilter			= blank
				invoked.StructureDimension		= blank
				invoked.StructureField			= blank

		CreateNewGLReportFilterParamValue
			invoke Create GLReportFilterParamValue
				invoked.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				invoked.GLReport				= GLReport
				invoked.Actor					= LocalActor
				invoked.Dimension				= LocalDimensionName
				invoked.FieldName				= LocalFieldName
				invoked.FilterValue				= LocalFilterValue
				invoked.FilterDisplayValue		= LocalFilterDisplayValue
				invoked.IsLeafLevel				= LocalIsLeafLevel
				invoked.DimensionLevel			= LocalDimensionLevel
				invoked.StructureFilter			= LocalStructureFilter
				invoked.StructureDimension		= LocalStructureDimension
				invoked.StructureField			= LocalStructureField

			if ((DerivedSelectParameter1 = "GeneralLedgerTotal.System" or DerivedSelectParameter2 = "GeneralLedgerTotal.System")
			and LocalDimensionName = "GeneralLedgerSystemCode")
				LocalDimensionName = "GeneralLedgerTotal.System"

			if (UseTitleParameter1)
				if (DerivedSelectParameter1 contains LocalDimensionName)
					LocalParamName	= "Title1 Parameter"
					LocalParamValue	= LocalFilterDisplayValue
					include CreateNewNameValueGLReportFilterParamValue
					
			if (UseTitleParameter2)
				if (DerivedSelectParameter2 contains LocalDimensionName)
					LocalParamName	= "Title2 Parameter"
					LocalParamValue	= LocalFilterDisplayValue
					include CreateNewNameValueGLReportFilterParamValue	

		UpdateExitRules
			if (IntegrationStatus = 1)
				if (ReportTitle changed
				or ReportTitle2 changed
				or ReportTitle3 changed
				or Description changed
				or CompositeReport changed
				or RowView changed
				or ColumnView changed
				or ShowReportDate changed
				or GrandTotal changed
				or UseTitleParameter1 changed
				or UseTitleParameter2 changed
				or GLReportFilterParam1 changed
				or GLReportFilterParam2 changed
				or ZeroSuppression changed)
					invoke UpdateGLReport
						invoked.PrmIntegrationStatus = 2
					invoke UpdateSubReport
						invoked.PrmIntegrationStatus = 2
						
		CheckForRowDimension
			if (CompositeReport)
				if (GLReportElementRel exists)
					for each GLReportElementRel
						for each each.SubReportNavRel.GLRowDimensionRel
							if (each.Dimension = LocalDimension)
								LocalHasRowDimension = true
								if (!each.PostingLevelOnly)
									LocalHasMultiLevelRowDimension = true
								end for each	
			else
				if (GLRowDimensionRel exists)
					for each GLRowDimensionRel
						if (each.Dimension = LocalDimension)
							LocalHasRowDimension = true
							if (!each.PostingLevelOnly)
								LocalHasMultiLevelRowDimension = true
							end for each

	Derived Fields
		ActorFinanceDimensionSecurityGroup is a DerivedField 
			type is like FinanceDimensionSecurityGroup
			if (LocalDimensionGroupType.AccountingEntity)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedAccountingUnitSecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension1)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension1SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension2)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension2SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension3)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension3SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension4)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension4SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension5)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension5SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension6)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension6SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension7)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension7SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension8)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension8SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension9)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension9SecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.FinanceDimension10)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedFinanceDimension10SecurityGroupKeyField
				return ActorContextRel.Value 
			if (LocalDimensionGroupType.Project)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedProjectSecurityGroupKeyField
				return ActorContextRel.Value
			if (LocalDimensionGroupType.ChartAccount)
				LocalContextProperty = FinanceEnterpriseGroup.DerivedChartAccountSecurityGroupKeyField
				return ActorContextRel.Value
		
		DerivedAccountingEntityGroup is a DerivedField
			type is like AccountingEntityGroup
			LocalContextProperty = FinanceEnterpriseGroup.DerivedAccountingEntitySecurityGroupKeyField
			LocalAccountingEntitySecurityGroup = ActorContextRel.Value
			return LocalAccountingEntitySecurityGroup.FinanceDimensionStructure	
			
		DerivedAccountingUnitSecurityGroup is a DerivedField
			type is like AccountingUnitSecurityGroup
			LocalContextProperty = FinanceEnterpriseGroup.DerivedAccountingUnitSecurityGroupKeyField
			return ActorContextRel.Value

		DerivedDimensionGroupType is a DerivedField
			type is like FinanceDimensionSecurityGroup
			if (LocalDimensionName = "AccountingEntity")
				return LocalDimensionGroupType.AccountingEntity
			if (LocalDimensionName = "Company")
				return LocalDimensionGroupType.Company
			if (LocalDimensionName = "FinanceDimension1")
				return LocalDimensionGroupType.FinanceDimension1
			if (LocalDimensionName = "FinanceDimension2")
				return LocalDimensionGroupType.FinanceDimension2	
			if (LocalDimensionName = "FinanceDimension3")
				return LocalDimensionGroupType.FinanceDimension3				
			if (LocalDimensionName = "FinanceDimension4")
				return LocalDimensionGroupType.FinanceDimension4
			if (LocalDimensionName = "FinanceDimension5")
				return LocalDimensionGroupType.FinanceDimension5
			if (LocalDimensionName = "FinanceDimension6")
				return LocalDimensionGroupType.FinanceDimension6
			if (LocalDimensionName = "FinanceDimension7")
				return LocalDimensionGroupType.FinanceDimension7
			if (LocalDimensionName = "FinanceDimension8")
				return LocalDimensionGroupType.FinanceDimension8	
			if (LocalDimensionName = "FinanceDimension9")
				return LocalDimensionGroupType.FinanceDimension9
			if (LocalDimensionName = "Project")
				return LocalDimensionGroupType.Project
			if (LocalDimensionName = "ChartAccount")
				return LocalDimensionGroupType.ChartAccount
				
		ShowHiddenFields is a DerivedField
			type is Boolean
			return false

		DerivedReportName is a DerivedField
			type is Alpha size 60
			return FinanceEnterpriseGroup + " " + GLReport
			
		DerivedCurrentDate is a DerivedField
			type is Date
			return current corporate date

		DerivedCurrentYear is a DerivedField
			type is Numeric 2
			return DerivedCurrentDate year
			
		DerivedCurrentMonth is a DerivedField
			type is Numeric 2
			return DerivedCurrentDate month

		DerivedCurrentQuarter is a DerivedField
            type is Numeric 1
			if(!DerivedIsFiscalQuarter)
				return 0
			else
            if (DerivedCurrentMonth>0 and DerivedCurrentMonth<=3)
                return 1
            else
            if (DerivedCurrentMonth>3 and DerivedCurrentMonth<=6)
                return 2
            else
            if (DerivedCurrentMonth>6 and DerivedCurrentMonth<=9)
                return 3
            else
            if (DerivedCurrentMonth>9 and DerivedCurrentMonth<=12)
                return 4

		DerivedReportURL is a NativeField
			type is Alpha size 5000
			restricted

		ReportTitleLabel is a LabelField
			"<DerivedReportTitleLabel>"

		DerivedReportTitleLabel is a DerivedField
			type is Alpha 200
			if (ReportTitle2 not entered and ReportTitle3 not entered)
				return ReportTitle
			else
			if (ReportTitle3 not entered)
				if (!UseTitleParameter1)
					return ReportTitle + " - " + ReportTitle2
				else
					return ReportTitle
			else
			if (!UseTitleParameter1 and !UseTitleParameter2)
				return ReportTitle + " - " + ReportTitle2 + " - " + ReportTitle3
			else
				return ReportTitle
		
		CreateReportTitleLabel is a LabelField
			"Create_a_GlobalLedgerReport"

		DerivedReportTitle is a DerivedField
			type is MessageField
			if (RecordExists)
				return ReportTitleLabel
			else 
				return CreateReportTitleLabel
		
		CompositeReportDrillNotPossibleMessage is a MessageField
			restricted
			"DrillbackIsNotPossibleForOneOrMoreSubreportsDueToMultipleSelectionsWithinA_Report_SelectionFilter"

		DrillNotPossibleMessage is a MessageField
			restricted
			"DrillbackIsNotPossibleDueToMultipleSelectionsWithinA_Report_SelectionFilter."			

		DerivedDrillNotPossibleMessage is a DerivedField
			type is MessageField
			if (CompositeReport)
				return CompositeReportDrillNotPossibleMessage
			else 
				return DrillNotPossibleMessage

		ColumnDrillbackNotPossibleMessage is a MessageField
			restricted
			"DrillbackIsNotPossibleForColumnsWithMultipleSelectionsWithinA_columnDimensionFilter"

		DrillbackNotPossibleWhenPeriodRangeMessage is a MessageField
			restricted
			"DrillbackIsNotSupportedWhenPeriodRangeIsSelected"

		ReportIsGeneratingTag is a LabelField
			"ReportIsGenerating"

		CompositeReportTag is a LabelField
			"CompositeReport"

		ReportOutOfSyncLabel is a LabelField
			"OutOfSync"
		
		ReportGeneratedLabel is a LabelField
			"Generated"

		ReportNotGeneratedLabel is a LabelField
			"NotGenerated"			

		DrillbackNotPossibleTag is a LabelField
			"<DerivedDrillNotPossibleMessage>"
		
		ColumnDrillbackNotPossibleTag is a LabelField
			"<ColumnDrillbackNotPossibleMessage>"

		DrillbackNotPossibleWhenPeriodRangeTag is a LabelField
			"<DrillbackNotPossibleWhenPeriodRangeMessage>"

		ColumnStructureDifferAccrossSubReportsTag is a LabelField
			"Warning:ColumnStructuresDifferAcrossSub-reports.ThisMayAffectAlignmentWhenCombiningColumns."

		ReportIntegrationStatus is a DerivedField
			type is Alpha 50
			if (IntegrationStatus.NotGenerated)
				return "Report Not Generated"
			else
			if (IntegrationStatus.Generated)
				return "Report Generated"
			else 
			if (IntegrationStatus.OutOfSync)
				return "Report Out Of Sync"
			else
				return ""

		DesignerDashboardSearchField is a StringField
			type is Alpha 200
			GLReport
			ReportTitle
			ReportTitle2
			ReportTitle3

		DerivedMaxAllowedColumnsOnGLReport is a DerivedField
			type is Numeric size 2
			restricted
			if (config(config).MaxAllowedColumnsOnGLReport != blank)
				return config(config).MaxAllowedColumnsOnGLReport
			else
				return 30 + instance count of GLRowDimensionRel

		DerivedColumnsCount is a DerivedField
			type is Numeric size 2
			restricted
			return (instance count of GLRowDimensionRel + instance count of GLColumnRel)
		
		DerivedReportParameters is a DerivedField
			type is Text
			initialize DerivedReportParameters
			for each GLReportFilterParamSortRel
				if( each.GLReportFilterParam = last GLReportFilterParamSortRel.GLReportFilterParam)  
					DerivedReportParameters += each.DimensionLabel
				else
					DerivedReportParameters += each.DimensionLabel + ","

		DerivedGeneralLedgerCalendarPeriod is a DerivedField 
			type is AlphaUpper 20
			restricted

			return first LocalGeneralLedgerCalendarPeriodRel.GeneralLedgerCalendarPeriod

		DerivedTenantID is a DerivedField  
			type is Alpha 50
			restricted
			return config(config).TenantID
		
		DerivedApplicationURL is a DerivedField  
			type is Alpha 100
			restricted
			return config(config).ApplicationURL

		DerivedApplicationURLSuffix is a DerivedField  
			type is Alpha 100
			restricted
			return config(config).ApplicationURLSuffix
			
		DerivedGLRowCount is a DerivedField 
			type is Numeric size 2
			restricted
			return (instance count of GLRowDimensionRel)
			
		DerivedFirstMeasureColumnLeft is a DerivedField
			type is Integer size 4
			restricted
			initialize LocalColumnLeft
			
			for each GLRowDimensionRel
				if (each.PostingLevelOnly)
				    LocalStartingLevel	= 1
				    LocalColumnLeft		+= ((each.ColumnSize * 4.5) + (each.OffsetPadding * 4.5))
					if (each.HasGLRowAttributes)
						for each each.GLRowAttributeRel
							LocalColumnLeft += (each.ColumnSize * 4.5)
				else
					LocalStartingLevel	= each.StartingLevel
					LocalEndingLevel	= ((each.Levels + LocalStartingLevel) - 1)
					I1					= LocalStartingLevel
					while (I1 <= LocalEndingLevel)
						if (each.Indent > 0)
							if (I1 = LocalEndingLevel)
								LocalColumnLeft += ((each.ColumnSize * 4.5) + (each.OffsetPadding * 4.5))
							else
								LocalColumnLeft += ((each.Indent * 4.5) - 1)
						else
							LocalColumnLeft += ((each.ColumnSize * 4.5) + (each.OffsetPadding * 4.5))
	
						I1 = I1 + 1

			return LocalColumnLeft

		DerivedCompositeReportFirstMeasureColumnLeft is a DerivedField
			type is Integer size 4
			restricted
			initialize LocalMaxColumnLeft
			
			for each GLReportElementRel
				LocalColumnLeft = each.SubReport.DerivedFirstMeasureColumnLeft
				if (LocalMaxColumnLeft <  LocalColumnLeft)
					LocalMaxColumnLeft = LocalColumnLeft
				
			return LocalMaxColumnLeft

		DerivedCompositeReportReportWidth is a DerivedField
			type is Integer size 4
			restricted
			initialize LocalTotalMeasureColumnSize
			LocalTotalMeasureColumnSize = first GLReportElementRel.SubReport.ColumnView.DerivedMaxColumnViewWidth
			for each GLReportElementRel
				LocalColumnLeft = each.SubReport.ColumnView.DerivedMaxColumnViewWidth
				if (LocalTotalMeasureColumnSize <  LocalColumnLeft)
					LocalTotalMeasureColumnSize = LocalColumnLeft
			return (DerivedCompositeReportFirstMeasureColumnLeft + LocalTotalMeasureColumnSize)

		HasMultiLevelAccountDimension is a DerivedField
			type is Boolean
			restricted
			LocalHasRowDimension = false
			
			if (CompositeReport)
				if (GLReportElementRel exists)
					for each GLReportElementRel
						for each each.SubReportNavRel.GLRowDimensionRel
							if (each.Dimension = "GeneralLedgerTotal.GeneralLedgerChartAccount")
								if (!each.PostingLevelOnly)
									LocalHasRowDimension = true
								end for each	
			else
				if (GLRowDimensionRel exists)
					for each GLRowDimensionRel
						if (each.Dimension = "GeneralLedgerTotal.GeneralLedgerChartAccount")
							if (!each.PostingLevelOnly)
								LocalHasRowDimension = true
							end for each

			return LocalHasRowDimension

		HasRowDimChartAccount is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "GeneralLedgerTotal.GeneralLedgerChartAccount"
			include CheckForRowDimension
			return LocalHasRowDimension

		HasRowDimAccountingUnit is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "GeneralLedgerTotal.AccountingUnit"
			include CheckForRowDimension
			return LocalHasRowDimension

		HasRowDimProject is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "GeneralLedgerTotal.Project"
			include CheckForRowDimension
			return LocalHasRowDimension

		HasRowDimFinanceDimension1 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension1"
			include CheckForRowDimension
			return LocalHasRowDimension
			
		HasRowDimFinanceDimension2 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension2"
			include CheckForRowDimension
			return LocalHasRowDimension

		HasRowDimFinanceDimension3 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension3"
			include CheckForRowDimension
			return LocalHasRowDimension
			
		HasRowDimFinanceDimension4 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension4"
			include CheckForRowDimension
			return LocalHasRowDimension
			
		HasRowDimFinanceDimension5 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension5"
			include CheckForRowDimension
			return LocalHasRowDimension
			
		HasRowDimFinanceDimension6 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension6"
			include CheckForRowDimension
			return LocalHasRowDimension
			
		HasRowDimFinanceDimension7 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension7"
			include CheckForRowDimension
			return LocalHasRowDimension
			
		HasRowDimFinanceDimension8 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension8"
			include CheckForRowDimension
			return LocalHasRowDimension
			
		HasRowDimFinanceDimension9 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension9"
			include CheckForRowDimension
			return LocalHasRowDimension
						
		HasRowDimFinanceDimension10 is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasRowDimension
			initialize LocalHasMultiLevelRowDimension
			LocalDimension = "FinanceDimension10"
			include CheckForRowDimension
			return LocalHasRowDimension

		DerivedShowGroupHeader is a DerivedField
			type is Boolean
			restricted
			return ColumnView.ShowGroupHeader

		DerivedGLColumnCount is a DerivedField
			type is Numeric size 2
			restricted
			return instance count of GLColumnRel

		DerivedCompShowGroupHeader is a DerivedField
			type is Boolean
			restricted
			return first GLReportElementRel.DerivedShowGroupHeaders

		DerivedRowLimit is a DerivedField  
			type is Numeric size 4 
			restricted
			LocalPreviewLimit = config(config).ReportDesignerPreviewLimit
			
			if (LocalPreviewLimit > 1000)
				return 1000
			else
			if (LocalPreviewLimit > 0 and LocalPreviewLimit <= 1000)
				return LocalPreviewLimit
			else
				return 100

		DerivedReplicationRefreshDate is a DerivedField 
            type is TimeStamp
            return GLColumnarRepSetRel.LastRefreshStamp 
		
		DerivedGeneratedDate is a DerivedField
			type is TimeStamp
			return first GenerateReportProcessingResultRel.EndTime

		DerivedReportFilterDimensionFieldCount is a DerivedField  
			type is Numeric size 4 
			restricted
			return GLReportFilterDimensionRel.FilterDimensionFieldCount

		DerivedHasCompositeReportWithMultiValRptFilter is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasMultiSelectFilter
			
			if (CompositeReport)
				for each GLReportElementRel
					if (each.DerivedSubReportFilterDimensionFieldCount > 1)
						LocalHasMultiSelectFilter = true
						end for each
			else
				LocalHasMultiSelectFilter = false
					
			return LocalHasMultiSelectFilter

		DerivedHasCompositeReportWithMultiValColFilter is a DerivedField
			type is Boolean
			restricted
			initialize LocalHasMultiSelectFilter

			if (CompositeReport)
				for each GLReportElementRel
					if (each.SubReport.ColumnView.DerivedHasColumnWithMultiValueFilter)
						LocalHasMultiSelectFilter = true
						end for each
			else
				LocalHasMultiSelectFilter = false
					
			return LocalHasMultiSelectFilter

		DerivedIsFiscalQuarter is a DerivedField
			type is Boolean
			if (!CompositeReport)
				for each GLColumnRel
					if (each.ColumnValue contains "quarter")
						return true
			else
				if (GLReportElementRel exists)
					for each GLReportElementRel
						if(each.SubReport.ColumnView.DerivedIsFiscalQuarter = true)
							return true
			return false
		
		DerivedIsFiscalMonth is a DerivedField 
			type is Boolean 
			if (!CompositeReport)
				for each GLColumnRel
					if(each.ColumnValue contains "month" or each.ColumnValue contains "period" or each.DerivedNoOfWords = 1)
						return true 
			else
				if (GLReportElementRel exists)
					for each GLReportElementRel
						if(each.SubReport.ColumnView.DerivedIsFiscalMonth = true)
							return true
			return false
		
		DerivedPreviousIsFiscalQuarter is a DerivedField
			type is Boolean
			if (!CompositeReport)
				LocalColumnView = old ColumnView
				for each LocalGLColumnRel
					if (each.ColumnValue contains "quarter")
						return true
			return false
		
		DerivedPreviousIsFiscalMonth is a DerivedField 
			type is Boolean
			if (!CompositeReport)
				LocalColumnView = old ColumnView
				for each LocalGLColumnRel
					if(each.ColumnValue contains "month" or each.ColumnValue contains "period" or each.DerivedNoOfWords = 1)
						return true  
			return false
		
		DerivedActorFEG	is a DerivedField 
			type is like FinanceEnterpriseGroup 
			LocalContextProperty = FEGContextPropertyRel.ContextProperty
			return ActorContextRel.Value

		DerivedHasPeriodRange is a DerivedField
			type is Boolean
			for each GLColumnRel
				if (each.ColumnValue contains "thru")
					return true
			return false

		DerivedSelectParameter1 is a DerivedField
			type is Alpha 200
			return GLReportFilterParam1.DimensionParam
		
		DerivedSelectParameter2 is a DerivedField
			type is Alpha 200
			return GLReportFilterParam2.DimensionParam

		DerivedGrandTotalIsValid is a DerivedField
			type is Boolean
			restricted
			if (GLRowDimensionRel exists)
				for each GLRowDimensionRel
					if (!each.PostingLevelOnly)
						return false
			return true
			
		DerivedAlwaysEnableRunReport is a DerivedField
			type is Boolean
			restricted
			return config(config).ReportDesignerAlwaysEnableRunReport

		DerivedColumnStructureDifferAccrossSubReports is a DerivedField
			type is Boolean
			restricted
			initialize LocalColumnView
			LocalColumnView = first GLReportElementRel.SubReport.ColumnView
			if (CompositeReport)
				for each GLReportElementRel
					if (LocalColumnView != each.SubReport.ColumnView)
						return true
				return false
			return false
			

		DerivedAlertMissingMessage is a DerivedField
            type is Alpha 50
            if (ColumnView.ScenarioFilterNotExists)
                return "Column Scenario Dimension Filter Missing"
            else
            if (ColumnView.ScenarioFilterValueNotExists)
                return "Column Scenario Dimension Filter Value Missing"
            else
            if (ColumnView.DimensionFilterDisplayValuesIsNotEntered)
                return "No Filter Value Added For The Dimension"
            else
            if(IntegrationStatus.NotGenerated)
                return "Report Needs To Be Generated"

        DerivedSubReportHeaderAlertMessageoroverview is a DerivedField
            type is Alpha 50
            restricted
			initialize LocalScenarioFilterNotExists
			initialize LocalScenarioFilterValNotExists
			for each GLReportElementInvalidRel
				if (each.ScenarioFilterNotExistsForSubReport)
					LocalScenarioFilterNotExists = true
				else
				if (each.ScenarioFilterValueNotExistsForSubReport)
					LocalScenarioFilterValNotExists = true
	
			if (LocalScenarioFilterNotExists)
				return "Column Scenario Dimension Filter Missing"
			else
			if (LocalScenarioFilterValNotExists)
				return "Column Scenario Dimension Filter Value Missing"
			else
			if (GLReportElementInvalidRel exists)
				return "No Filter Value Added For The Dimension"


		DerivedSubReportAlertMsgReportsTab is a DerivedField 
            type is Alpha 50
            restricted
			initialize LocalScenarioFilterNotExists
			initialize LocalScenarioFilterValNotExists
			for each GLReportElementInvalidRel
				if (each.ScenarioFilterNotExistsForSubReport)
					LocalScenarioFilterNotExists = true
				else
				if (each.ScenarioFilterValueNotExistsForSubReport)
					LocalScenarioFilterValNotExists = true
	
			if (LocalScenarioFilterNotExists)
				return "Column Scenario Dimension Filter Missing"
			else
			if (LocalScenarioFilterValNotExists)
				return "Column Scenario Dimension Filter Value Missing"
			else
			if (GLReportElementInvalidRel exists)
				return "No Filter Value Added For The Dimension"
			else
			if(IntegrationStatus.NotGenerated)
				return "Report Needs To Be Generated"
					
        DerivedAlertMessageforOverview is a DerivedField
            type is Alpha 50
            restricted
            if (not CompositeReport)
                return ColumnView.DerivedMissingAlertMessage
            else
            if (CompositeReport)
                return DerivedSubReportHeaderAlertMessageoroverview

		DerivedAlertMsgforReportsTab is a DerivedField
            type is Alpha 50
            restricted
            if (not CompositeReport)
                return DerivedAlertMissingMessage
            else
            if (CompositeReport)
                return DerivedSubReportAlertMsgReportsTab

			
	Actions
		Create is an Action
			Entrance Rules
				constraint (DerivedColumnsCount <= DerivedMaxAllowedColumnsOnGLReport)
					"TotalNumberOfColumnsOnTheReportCannotBeMoreThan<DerivedMaxAllowedColumnsOnGLReport>"
				if (UseTitleParameter2)
					constraint(UseTitleParameter1 or (ReportTitle2 entered))
						"CannotEnter_Title_3If_Title_2IsNotEntered"
		
		Update is an Action
			Entrance Rules
				if (Lock)
					if (ReportTitle changed
					or ReportTitle2 changed
					or ReportTitle3 changed
					or Description != old Description
					or CompositeReport changed
					or RowView changed
					or ColumnView changed
					or ShowReportDate changed
					or GrandTotal changed
					or UseTitleParameter1 changed
					or UseTitleParameter2 changed
					or GLReportFilterParam1 changed
					or GLReportFilterParam2 changed
					or ZeroSuppression changed)
						constraint (create stamp.actor = actor)
							"ThisHasBeenLockedForEditing"
				if (ColumnView changed)
					constraint (SubReportRel not exists)
						"ReportIsUsedInCompositeReport;CannotUpdateTheReport"
					if (GLReportGroupsRel exists)
						if(DerivedPreviousIsFiscalQuarter)
							constraint(DerivedIsFiscalQuarter)
								"CannotUpdateColumnAsItIsPartOfAQuarterlyReportGroup"
						else
							constraint(!DerivedIsFiscalQuarter)
								"CannotUpdateColumnAsItIsPartOfAMonthlyReportGroup" 
						
				constraint (DerivedColumnsCount <= DerivedMaxAllowedColumnsOnGLReport)
					"TotalNumberOfColumnsOnTheReportCannotBeMoreThan<DerivedMaxAllowedColumnsOnGLReport>"
				if (UseTitleParameter2)
					constraint(UseTitleParameter1 or (ReportTitle2 entered))
						"CannotEnter_Title_3If_Title_2IsNotEntered"
			Exit Rules
				include UpdateExitRules

		Delete is an Action
			Entrance Rules
				if (Lock)
					constraint (create stamp.actor = actor)
						"ThisHasBeenLockedForDeletion"

		CopyReport is an Instance Action
			
			Parameters
				PrmGLReport 			is AlphaUpper 50
				PrmReportTitle			is Alpha 60
				PrmIntegrationStatus	is Numeric 1
				PrmDescription			is Text
				PrmGLReportFilterParam1	is a GLReportFilterParam
				PrmGLReportFilterParam2	is a GLReportFilterParam
							
			Parameter Rules
				PrmGLReport
					initial value is "Copy-" + GLReport.GLReport
				PrmIntegrationStatus
					initial value is 0
				PrmReportTitle
					initial value is ReportTitle
				PrmDescription
					initial value is Description
			Local Fields
				LocalGLReport			        is a GLReport view	
				LocalGLReportFilterDimension    is a GLReportFilterDimension view
			
			Action Rules
				
				LocalGLreport = PrmGLReport
				invoke Create GLReport
					assign result to LocalGLReport
					fill in fields from this instance
						except invoked.GLReport
						except invoked.ReportTitle
						except invoked.Description
						except invoked.IntegrationStatus
						except invoked.GLReportFilterParam1
						except invoked.GLReportFilterParam2
					invoked.GLReport = PrmGLReport
					invoked.IntegrationStatus = PrmIntegrationStatus
					invoked.ReportTitle = PrmReportTitle
					invoked.Description = PrmDescription
				
			Exit Rules
			

				if (GLReportElementRel exists)
					for each GLReportElementRel
						invoke Create each
							fill in fields from each
								except invoked.GLReport
							invoked.GLReport  = LocalGLReport.GLReport
						

				if (GLReportFilterDimensionRel exists)
					for each GLReportFilterDimensionRel
						invoke Create each
							assign result to LocalGLReportFilterDimension
							fill in fields from each
								except invoked.GLReport
							invoked.GLReport = LocalGLReport.GLReport
							

						if (each.GLReportFilterDimensionFieldRel exists)
							for each each.GLReportFilterDimensionFieldRel
								invoke Create each
									fill in fields from each
										except invoked.GLReport 	   			
										except invoked.GLReportFilterDimension	
								 	invoked.GLReport 	   			= LocalGLReport.GLReport
									invoked.GLReportFilterDimension	= LocalGLReportFilterDimension.GLReportFilterDimension
							

				if (GLReportFilterParamRel exists)
					for each GLReportFilterParamRel
						invoke Create each
							fill in fields from each
								except invoked.GLReport
							invoked.GLReport = LocalGLReport.GLReport	

				if (GLReportRel exists)
					invoke Update GLReportRel
						invoked.GLReportFilterParam1 = first GLReportFilterParam1CopyRel.GLReportFilterParam
						invoked.GLReportFilterParam2 = first GLReportFilterParam2CopyRel.GLReportFilterParam		


				if (GLReportFilterParamValueRel exists)
					for each GLReportFilterParamValueRel		
						invoke Create each
							fill in fields from each
								except invoked.GLReport
							invoked.GLReport = LocalGLReport.GLReport
				
		UpdateGLReport is an Instance Action
		    restricted
		    Parameters
                PrmIntegrationStatus			is Numeric 1

	        Action Rules
				IntegrationStatus = PrmIntegrationStatus
				if (!DerivedGrandTotalIsValid)
					GrandTotal = false

		UpdateSubReport is an Instance Action
		 	restricted
		 	Parameters
                PrmIntegrationStatus			is Numeric 1
		 	Action Rules
		 		invoke UpdateFromSubReport SubReportRel
		 			invoked.PrmIntegrationStatus = PrmIntegrationStatus

		RemoveFromFavorite is an Instance Action
			restricted
			completion message is "ReportRemoved_fromFavorites"
			valid when (IsActorFavoriteReport)	
			Action Rules
				invoke Delete ActorFavoriteReportRel

		AddToFavorite is an Instance Action
			restricted
			completion message is "ReportAdded_toFavorites"
			valid when (!IsActorFavoriteReport)
			Action Rules
				invoke Create GLFavoriteReport
					invoked.FinanceEnterpriseGroup     	= FinanceEnterpriseGroup 
					invoked.GLReport 					= GLReport
					invoked.Actor						= actor
		
		AddReportsToTheReportGroup is an Instance Action   
			restricted
			Parameters
				PrmFinanceEnterpriseGroup		is a FinanceEnterpriseGroup
				PrmGLReportGrouping				is a GLReportGrouping

			Local Fields 
				LocalIsFiscalQuarter			is Boolean 
				LocalIsFiscalMonth				is Boolean

			Entrance Rules 
				LocalGLReportGrouping = PrmGLReportGrouping
				initialize LocalIsFiscalQuarter
				initialize LocalIsFiscalMonth
				if (GLReportGroupingDetailRel exists)
					for each GLReportGroupingDetailRel
						if(each.GLReport.DerivedIsFiscalQuarter)
							LocalIsFiscalQuarter = true
							end for each
						if(each.GLReport.DerivedIsFiscalMonth)
							LocalIsFiscalMonth = true 
							end for each
					if (LocalIsFiscalQuarter)
						constraint(!GLReport.DerivedIsFiscalMonth)
							"ReportGroupContainsFiscalQuarterReports.CannotAddMonthReports" 
					else
					if (LocalIsFiscalMonth)
						constraint(!GLReport.DerivedIsFiscalQuarter)
							"ReportGroupContainsFiscalMonthReports.CannotAddQuarterReports" 
							
			Action Rules
				invoke Create GLReportGroupingDetail
					invoked.FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
					invoked.GLReportGrouping	= PrmGLReportGrouping 
					fill in fields from GLReport
		
		RunReport is an Instance Action
			run in background

			Queue Mapping Fields
				FinanceEnterpriseGroup
				GLReport			

			Parameters
				ReportFormat			is Numeric 1
					States
						PDF		value is 1
						Excel	value is 2
						CSV		value is 3
				ReportDistributionGroup
					default label is "DistributionGroup_(Optional)"
				ShowTopNodes 			is Boolean
				FinanceEnterpriseGroup
				BalanceType				is Text
					States
						NaturalBalance			value is "Natural Balance"
						FinancialReportBalance 	value is "Financial Report Balance"
				ReportingBasis
				GeneralLedgerCalendar
				GeneralLedgerCalendarTopNode is like GeneralLedgerCalendarPeriod 
				FiscalYear				is Numeric 4
				FiscalQuarter			is Numeric 1
				FiscalMonth				is Numeric 2
				GLChartAccountTopNode	is a GeneralLedgerChartAccount
					default label is "<FinanceEnterpriseGroup.AccountLabel>Structure"
				GeneralLedgerChartAccount
					default label is "<FinanceEnterpriseGroup.AccountLabel>"
				AccountingEntity
				AccountingUnitStructure
				AccountingUnit
				Currency
				ProjectTopNode			is a Project
					default label is "<FinanceEnterpriseGroup.ProjectLabel>Structure"
				Project
					default label is "<FinanceEnterpriseGroup.ProjectLabel>"
				GeneralLedgerSystemCode
					default label is "System"
				Ledger
				Scenario
				FinanceDimension1TopNode is a FinanceDimension1
					default label is "<FinanceEnterpriseGroup.FinanceDimension1Label>Structure"
				FinanceDimension1
					default label is "<FinanceEnterpriseGroup.FinanceDimension1Label>"
				FinanceDimension2TopNode is a FinanceDimension2
					default label is "<FinanceEnterpriseGroup.FinanceDimension2Label>Structure"
				FinanceDimension2
					default label is "<FinanceEnterpriseGroup.FinanceDimension2Label>"
				FinanceDimension3TopNode is a FinanceDimension3
					default label is "<FinanceEnterpriseGroup.FinanceDimension3Label>Structure"			
				FinanceDimension3
					default label is "<FinanceEnterpriseGroup.FinanceDimension3Label>"
				FinanceDimension4TopNode is a FinanceDimension4
					default label is "<FinanceEnterpriseGroup.FinanceDimension4Label>Structure"			
				FinanceDimension4
					default label is "<FinanceEnterpriseGroup.FinanceDimension4Label>"
				FinanceDimension5TopNode is a FinanceDimension5
					default label is "<FinanceEnterpriseGroup.FinanceDimension5Label>Structure"			
				FinanceDimension5
					default label is "<FinanceEnterpriseGroup.FinanceDimension5Label>"
				FinanceDimension6TopNode is a FinanceDimension6
					default label is "<FinanceEnterpriseGroup.FinanceDimension6Label>Structure"			
				FinanceDimension6
					default label is "<FinanceEnterpriseGroup.FinanceDimension6Label>"
				FinanceDimension7TopNode is a FinanceDimension7
					default label is "<FinanceEnterpriseGroup.FinanceDimension7Label>Structure"
				FinanceDimension7
					default label is "<FinanceEnterpriseGroup.FinanceDimension7Label>"
				FinanceDimension8TopNode is a FinanceDimension8
					default label is "<FinanceEnterpriseGroup.FinanceDimension8Label>Structure"
				FinanceDimension8
					default label is "<FinanceEnterpriseGroup.FinanceDimension8Label>"
				FinanceDimension9TopNode is a FinanceDimension9
					default label is "<FinanceEnterpriseGroup.FinanceDimension9Label>Structure"
				FinanceDimension9
					default label is "<FinanceEnterpriseGroup.FinanceDimension9Label>"
				FinanceDimension10TopNode is a FinanceDimension10
					default label is "<FinanceEnterpriseGroup.FinanceDimension10Label>Structure"
				FinanceDimension10
					default label is "<FinanceEnterpriseGroup.FinanceDimension10Label>"
			Parameter Rules
				ReportFormat
					initial value is ReportFormat.PDF
					required
				ReportingBasis
					required
				FiscalYear
					required
				FiscalQuarter
					if (DerivedIsFiscalQuarter)
						required
						constraint(FiscalQuarter > 0 and FiscalQuarter < 5)
							"FiscalQuarterRange_1To_4Only"
				FiscalMonth
					if (!DerivedIsFiscalQuarter)
						required
						constraint(FiscalMonth > 0 and FiscalMonth < 13)
							"FiscalMonthRange_1To_12Only"		

			Entrance Rules
				initialize LocalError
				initialize LocalUpdateMessage
				invoke Create GLReportProcessingResult
					assign result to LocalGLReportProcessingResultView
					invoked.FinanceEnterpriseGroup = FinanceEnterpriseGroup
					invoked.User = actor
					invoked.ReportName = GLReport
					invoked.ActionName = "Run Report"
					invoked.StartTime = current timestamp
					invoked.Status = 3
				
				commit transaction

			Action Rules
				LocalReportDistributionActor	= actor
				LocalContextAccountingEntity	= AccountingEntity.ContextStructureAccountingUnitEntityNodeRel.AccountingEntity
			

				LocalAccountingEntityLevel		= AccountingEntity.Level
				LocalAcctUnitLevel				= AccountingUnit.Level
				LocalGLChartAccountLevel		= GeneralLedgerChartAccount.Level
				LocalFinDim1Level				= FinanceDimension1.Level
				LocalFinDim2Level				= FinanceDimension2.Level
				LocalFinDim3Level				= FinanceDimension3.Level
				LocalFinDim4Level				= FinanceDimension4.Level
				LocalFinDim5Level				= FinanceDimension5.Level
				LocalFinDim6Level				= FinanceDimension6.Level
				LocalFinDim7Level				= FinanceDimension7.Level
				LocalFinDim8Level				= FinanceDimension8.Level
				LocalFinDim9Level				= FinanceDimension9.Level
				LocalFinDim10Level				= FinanceDimension10.Level
				LocalProject					= Project
				LocalProjectStructure			= ProjectTopNode.ProjectHierarchyRel.ProjectStructure
				LocalProjectLevel				= LocalProjectHierarchyRel.DerivedProjectLevel


				LocalAccountingEntityType		= AccountingEntity.DimensionType
				LocalGLChartAccountChartType	= GeneralLedgerChartAccount.ChartType
				LocalAccountingUnitType			= AccountingUnit.AccountingUnitType
				LocalFinDim1Type				= FinanceDimension1.DimensionType
				LocalFinDim2Type				= FinanceDimension2.DimensionType
				LocalFinDim3Type				= FinanceDimension3.DimensionType
				LocalFinDim4Type				= FinanceDimension4.DimensionType
				LocalFinDim5Type				= FinanceDimension5.DimensionType
				LocalFinDim6Type				= FinanceDimension6.DimensionType
				LocalFinDim7Type				= FinanceDimension7.DimensionType
				LocalFinDim8Type				= FinanceDimension8.DimensionType
				LocalFinDim9Type				= FinanceDimension9.DimensionType
				LocalFinDim10Type				= FinanceDimension10.DimensionType
				LocalProjectType				= Project.ProjectType
				

				LocalReportingChart				= GLChartAccountTopNode.ChartAccountHierarchyDetailRel.ReportingChart
				LocalFinDim1Structure			= FinanceDimension1TopNode.DimensionHierarchyRel.FinanceDimension1Structure
				LocalFinDim2Structure			= FinanceDimension2TopNode.DimensionHierarchyRel.FinanceDimension2Structure
				LocalFinDim3Structure			= FinanceDimension3TopNode.DimensionHierarchyRel.FinanceDimension3Structure
				LocalFinDim4Structure			= FinanceDimension4TopNode.DimensionHierarchyRel.FinanceDimension4Structure
				LocalFinDim5Structure			= FinanceDimension5TopNode.DimensionHierarchyRel.FinanceDimension5Structure
				LocalFinDim6Structure			= FinanceDimension6TopNode.DimensionHierarchyRel.FinanceDimension6Structure
				LocalFinDim7Structure			= FinanceDimension7TopNode.DimensionHierarchyRel.FinanceDimension7Structure
				LocalFinDim8Structure			= FinanceDimension8TopNode.DimensionHierarchyRel.FinanceDimension8Structure
				LocalFinDim9Structure			= FinanceDimension9TopNode.DimensionHierarchyRel.FinanceDimension9Structure
				LocalFinDim10Structure			= FinanceDimension10TopNode.DimensionHierarchyRel.FinanceDimension10Structure
				LocalAccountingEntityStructure	= ReportingBasis.AccountingEntityTopNode
				LocalAccountingUnitStructure	= AccountingUnitStructure
				LocalLedgerTopNode				= ReportingBasis.LedgerTopNode
				

				LocalAccountingEntityDesc		= AccountingEntity.Name
				LocalAccountingUnitDesc			= AccountingUnit.Description
				LocalAccountDesc				= GeneralLedgerChartAccount.AccountDescription
				LocalFinDim1Desc				= FinanceDimension1.Description
				LocalFinDim2Desc				= FinanceDimension2.Description
				LocalFinDim3Desc				= FinanceDimension3.Description
				LocalFinDim4Desc				= FinanceDimension4.Description
				LocalFinDim5Desc				= FinanceDimension5.Description
				LocalFinDim6Desc				= FinanceDimension6.Description
				LocalFinDim7Desc				= FinanceDimension7.Description
				LocalFinDim8Desc				= FinanceDimension8.Description
				LocalFinDim9Desc				= FinanceDimension9.Description
				LocalFinDim10Desc				= FinanceDimension10.Description
				LocalProjectDesc				= Project.Description
				LocalCurrencyDesc				= Currency.Description
				LocalLedgerDesc					= Ledger.Description
				LocalScenarioDesc				= Scenario.Description
				LocalSystemDesc					= GeneralLedgerSystemCode.Description


				
			Exit Rules
				invoke Update LocalGLReportProcessingResultView.GLReportProcessingResult
					invoked.EndTime = current timestamp
					invoked.LogMessage = LocalUpdateMessage
					if(LocalError)
						invoked.Status = 1
					else
						invoked.Status = 0
		
		SetReportURL is an Instance Action
			restricted
			Entrance Rules
				LocalRefreshReportURL = true
				
			Action Rules
				LocalReportURL = DerivedReportURL

			Exit Rules
				LocalRefreshReportURL = false	

		CreateGLReportCalendarPeriodFilterParam is an Instance Action
		    restricted
			Parameters
				ParamFieldName		is Alpha 200
				ParamFilterValue	is Alpha 100
				
			Action Rules
				LocalActor = actor
				
				invoke Create GLReportFilterParamValue
					invoked.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
					invoked.GLReport				= GLReport
					invoked.Actor					= LocalActor
					invoked.Dimension				= ParamFieldName
					invoked.FieldName				= ParamFieldName
					invoked.FilterValue				= ParamFilterValue
					invoked.FilterDisplayValue		= ParamFilterValue
					invoked.IsLeafLevel				= false
					invoked.DimensionLevel			= 0
					invoked.StructureFilter			= blank
					invoked.StructureDimension		= blank
					invoked.StructureField			= blank				

		SaveReportParamValues is an Instance Action

			Parameters
				ReportDistributionGroup
					default label is "DistributionGroup"
				ShowTopNodes is Boolean
				FinanceEnterpriseGroup
				BalanceType				is Text
					States
						NaturalBalance			value is "Natural Balance"
						FinancialReportBalance 	value is "Financial Report Balance"
				ReportingBasis
				AccountingEntity
				GeneralLedgerCalendar
				GeneralLedgerCalendarTopNode is like GeneralLedgerCalendarPeriod 
				FiscalYear	is Numeric 4
				FiscalQuarter is Numeric 1
				FiscalMonth	is Numeric 2
				GLChartAccountTopNode is a GeneralLedgerChartAccount
					default label is "<FinanceEnterpriseGroup.AccountLabel>Structure"
				GeneralLedgerChartAccount				
				AccountingUnitStructure
				AccountingUnit
				Currency
				ProjectTopNode is a Project
					default label is "<FinanceEnterpriseGroup.ProjectLabel>Structure"
				Project
					default label is "<FinanceEnterpriseGroup.ProjectLabel>"
				GeneralLedgerSystemCode
					default label is "System"
				Ledger
				Scenario
				FinanceDimension1TopNode is a FinanceDimension1
					default label is "<FinanceEnterpriseGroup.FinanceDimension1Label>Structure"
				FinanceDimension1
					default label is "<FinanceEnterpriseGroup.FinanceDimension1Label>"
				FinanceDimension2TopNode is a FinanceDimension2
					default label is "<FinanceEnterpriseGroup.FinanceDimension2Label>Structure"
				FinanceDimension2
					default label is "<FinanceEnterpriseGroup.FinanceDimension2Label>"
				FinanceDimension3TopNode is a FinanceDimension3
					default label is "<FinanceEnterpriseGroup.FinanceDimension3Label>Structure"			
				FinanceDimension3
					default label is "<FinanceEnterpriseGroup.FinanceDimension3Label>"
				FinanceDimension4TopNode is a FinanceDimension4
					default label is "<FinanceEnterpriseGroup.FinanceDimension4Label>Structure"			
				FinanceDimension4
					default label is "<FinanceEnterpriseGroup.FinanceDimension4Label>"
				FinanceDimension5TopNode is a FinanceDimension5
					default label is "<FinanceEnterpriseGroup.FinanceDimension5Label>Structure"			
				FinanceDimension5
					default label is "<FinanceEnterpriseGroup.FinanceDimension5Label>"
				FinanceDimension6TopNode is a FinanceDimension6
					default label is "<FinanceEnterpriseGroup.FinanceDimension6Label>Structure"			
				FinanceDimension6
					default label is "<FinanceEnterpriseGroup.FinanceDimension6Label>"
				FinanceDimension7TopNode is a FinanceDimension7
					default label is "<FinanceEnterpriseGroup.FinanceDimension7Label>Structure"
				FinanceDimension7
					default label is "<FinanceEnterpriseGroup.FinanceDimension7Label>"
				FinanceDimension8TopNode is a FinanceDimension8
					default label is "<FinanceEnterpriseGroup.FinanceDimension8Label>Structure"
				FinanceDimension8
					default label is "<FinanceEnterpriseGroup.FinanceDimension8Label>"
				FinanceDimension9TopNode is a FinanceDimension9
					default label is "<FinanceEnterpriseGroup.FinanceDimension9Label>Structure"
				FinanceDimension9
					default label is "<FinanceEnterpriseGroup.FinanceDimension9Label>"
				FinanceDimension10TopNode is a FinanceDimension10
					default label is "<FinanceEnterpriseGroup.FinanceDimension10Label>Structure"
				FinanceDimension10
					default label is "<FinanceEnterpriseGroup.FinanceDimension10Label>"	
					
			Parameter Rules
				ReportingBasis
					required
				FiscalYear
					required
				FiscalMonth
					if(!DerivedIsFiscalQuarter)
						required
						constraint(FiscalMonth > 0 and FiscalMonth < 13)
								"FiscalMonthRange_1To_12Only"
				FiscalQuarter
					if(DerivedIsFiscalQuarter)
						required
						constraint(FiscalQuarter > 0 and FiscalQuarter < 5)
								"FiscalQuarterRange_1To_4Only"

			Action Rules
				LocalReportDistributionActor	= actor
				LocalActor 						= actor
				invoke Purge GLReportFilterParamValueRel

				LocalDimensionName		= "FinanceEnterpriseGroup"
				LocalFieldName			= LocalDimensionName
				LocalFilterValue		= FinanceEnterpriseGroup
				LocalFilterDisplayValue = FinanceEnterpriseGroup
				LocalIsLeafLevel		= true
				LocalDimensionLevel		= 0
				LocalStructureFilter	= ""
				include CreateNewGLReportFilterParamValue
				
				LocalDimensionName		= "FiscalYear"
				LocalFieldName			= "Fiscal Year Parameter"
				LocalFilterValue		= FiscalYear
				LocalFilterDisplayValue	= FiscalYear
				LocalIsLeafLevel		= false
				LocalDimensionLevel		= 0
				LocalStructureDimension	= "GeneralLedgerPeriodHierarchy" 
				LocalStructureField		= "GeneralLedgerCalendarPeriod.CalendarRel.GeneralLedgerCalendar"
				LocalStructureFilter	= GeneralLedgerCalendar
				include CreateNewGLReportFilterParamValue
				
				if (DerivedIsFiscalQuarter)
					LocalDimensionName		= "FiscalQuarter"
					LocalFieldName			= "Fiscal Quarter Parameter"
					LocalFilterValue		= FiscalQuarter
					LocalFilterDisplayValue = FiscalQuarter
					LocalIsLeafLevel		= false
					LocalDimensionLevel		= 0
					LocalStructureFilter	= ""
					LocalStructureDimension	= ""
					LocalStructureField		= ""				
					include CreateNewGLReportFilterParamValue
				
				if (!DerivedIsFiscalQuarter)
					LocalDimensionName		= "FiscalMonth"
					LocalFieldName			= "Fiscal Month Parameter"
					LocalFilterValue		= FiscalMonth
					LocalFilterDisplayValue = FiscalMonth
					LocalIsLeafLevel		= false
					LocalDimensionLevel		= 0
					LocalStructureFilter	= ""
					LocalStructureDimension	= ""
					LocalStructureField		= ""				
					include CreateNewGLReportFilterParamValue

				LocalDimensionName		= "BalanceType"
				LocalFieldName			= "Balance Type Parameter"
				LocalFilterValue		= BalanceType
				LocalFilterDisplayValue = BalanceType
				LocalIsLeafLevel		= false
				LocalDimensionLevel		= 0
				LocalStructureFilter	= ""
				LocalStructureDimension	= ""
				LocalStructureField		= ""				
				include CreateNewGLReportFilterParamValue
				
				LocalDimensionName		= "RowLimit"
				LocalFieldName			= "Row Limit Parameter"
				LocalFilterValue		= DerivedRowLimit
				LocalFilterDisplayValue = DerivedRowLimit
				LocalIsLeafLevel		= false
				LocalDimensionLevel		= 0
				LocalStructureFilter	= ""
				LocalStructureDimension	= ""
				LocalStructureField		= ""				
				include CreateNewGLReportFilterParamValue

				initialize LocalStructureDimension 
				initialize LocalStructureField
				initialize LocalStructureFilter	
				initialize LocalDimensionLevel

				if (AccountingEntity entered and (HasAccountingEntityParam or HasAccountingUnitParam))
					LocalDimensionName		= "AccountingEntity"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= AccountingEntity
					LocalFilterDisplayValue	= AccountingEntity.Name
					LocalStructureFilter	= ReportingBasis.AccountingEntityTopNode.HierarchyDetailRel.TopNode
					LocalStructureDimension	= "AccountingEntityHierarchy" 
					LocalStructureField		= "TopNode"

					if (AccountingEntity.DimensionType.Summary)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= AccountingEntity.Level						
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue
				else
					LocalDimensionGroupType	= DerivedDimensionGroupType
					if (AccountingEntitySecurityGroupMemberRel exists)
						LocalDimensionName		= "AccountingEntity"
						LocalFieldName			= LocalDimensionName
						LocalFilterValue		= AccountingEntity
						LocalFilterDisplayValue	= AccountingEntity.Name				
						LocalIsLeafLevel		= true
						LocalDimensionGroupType	= DerivedDimensionGroupType
						for each AccountingEntitySecurityGroupMemberRel
							LocalStructureDimension = blank
							LocalFilterValue		= each.AccountingEntity
							LocalFilterDisplayValue	= each.AccountingEntity.Name
							include CreateNewGLReportFilterParamValue
					else
						LocalDimensionName		= "AccountingEntity"
						LocalFieldName			= LocalDimensionName
						LocalFilterValue		= blank
						LocalFilterDisplayValue	= blank
						LocalIsLeafLevel		= false
						LocalDimensionLevel		= 0
						LocalStructureDimension	= "AccountingEntityHierarchy" 
						LocalStructureField		= "TopNode"
						LocalStructureFilter	= ReportingBasis.AccountingEntityTopNode.HierarchyDetailRel.TopNode
						include CreateNewGLReportFilterParamValue

				if (!AccountingUnit entered)
					LocalDimensionName				= "AccountingUnit"
					LocalFieldName					= LocalDimensionName
					LocalFilterValue				= AccountingUnit
					LocalFilterDisplayValue 		= AccountingUnit.Description			 
					LocalIsLeafLevel				= true
					LocalDimensionLevel				= 0
					LocalStructureFilter			= ""
					LocalDimensionGroupType			= DerivedDimensionGroupType
					LocalContextAccountingEntity	= AccountingEntity.ContextStructureAccountingUnitEntityNodeRel.AccountingEntity
					for each AccountingUnitSecurityGroupDetailRel
						LocalFilterValue		= each.AccountingUnit
						LocalFilterDisplayValue	= each.AccountingUnit.Description
						include CreateNewGLReportFilterParamValue
						
				if ((AccountingUnit entered and HasAccountingUnitParam) or AddParamAccountingUnitTopNode)
					LocalDimensionName		= "AccountingUnit"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= AccountingUnit
					LocalFilterDisplayValue = AccountingUnit.Description
					LocalStructureFilter	= AccountingUnitStructure
					LocalStructureDimension	= "AccountingUnitHierarchy"
					LocalStructureField		= "AccountingUnitStructure"

					if (!AccountingUnit.AccountingUnitType.Posting or AddParamAccountingUnitTopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= AccountingUnit.Level
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue

				if (!GeneralLedgerChartAccount entered)
					LocalDimensionName		= "GeneralLedgerChartAccount"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= GeneralLedgerChartAccount
					LocalFilterDisplayValue = GeneralLedgerChartAccount.AccountDescription			 
					LocalIsLeafLevel		= true
					LocalDimensionLevel		= 0
					LocalStructureFilter	= ""
					LocalDimensionGroupType	= DerivedDimensionGroupType
					for each ChartAccountSecurityGroupRel
						LocalFilterValue		= each.GeneralLedgerChartAccount
						LocalFilterDisplayValue	= each.GeneralLedgerChartAccount.AccountDescription
						include CreateNewGLReportFilterParamValue

				if (HasGeneralLedgerChartAccountParam or AddParamGLAccountTopNode)
					LocalDimensionName		= "GeneralLedgerChartAccount"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= GeneralLedgerChartAccount
					LocalFilterDisplayValue = GeneralLedgerChartAccount.AccountDescription
					LocalStructureFilter	= GLChartAccountTopNode.ChartAccountHierarchyDetailRel.ReportingChart
					LocalStructureDimension	= "ReportingChartAccount" 
					LocalStructureField		= "ReportingChart"

					if (!GeneralLedgerChartAccount.ChartType.Posting or AddParamGLAccountTopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= GeneralLedgerChartAccount.Level
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue

				if (HasCurrencyParam)
					LocalDimensionName		= "Currency"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= Currency
					LocalFilterDisplayValue	= Currency.Description
					LocalIsLeafLevel		= true
					LocalDimensionLevel		= 0
					LocalStructureFilter	= blank
					LocalStructureDimension	= blank
					LocalStructureField		= blank	
					include CreateNewGLReportFilterParamValue
					
				if (HasLedgerParam and Ledger entered)
					LocalDimensionName		= "Ledger"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= Ledger
					LocalFilterDisplayValue	= Ledger.Description
					LocalIsLeafLevel		= true
					LocalDimensionLevel		= 0
					LocalStructureDimension	= "LedgerHierarchy" 
					LocalStructureField		= "TopNode"
					LocalStructureFilter	= ReportingBasis.LedgerTopNode
					include CreateNewGLReportFilterParamValue
				else
					LocalDimensionName		= "Ledger"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= ""
					LocalFilterDisplayValue	= ""
					LocalIsLeafLevel		= false
					LocalDimensionLevel		= 0
					LocalStructureDimension	= "LedgerHierarchy" 
					LocalStructureField		= "TopNode"
					LocalStructureFilter	= ReportingBasis.LedgerTopNode
					include CreateNewGLReportFilterParamValue

				if (!Project entered)
					LocalDimensionName			= "Project"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= Project
					LocalFilterDisplayValue		= Project.Description		 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each ProjectSecurityGroupRel
						LocalFilterValue		= each.Project
						LocalFilterDisplayValue	= each.Project.Description
						
						include CreateNewGLReportFilterParamValue

				if (HasProjectParam or AddParamProjectTopNode)
					LocalDimensionName			= "Project"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= Project
					LocalFilterDisplayValue		= Project.Description
					LocalStructureFilter		= ProjectTopNode.ProjectHierarchyRel.ProjectStructure
					LocalStructureDimension		= "ProjectHierarchy" 
					LocalStructureField			= "ProjectStructure"

					if (!Project.ProjectType.Posting or AddParamProjectTopNode)
						LocalIsLeafLevel		= false
						LocalProject			= Project
						LocalProjectStructure	= ProjectTopNode.ProjectHierarchyRel.ProjectStructure 
						LocalDimensionLevel		= LocalProjectHierarchyRel.DerivedProjectLevel
					else
						LocalIsLeafLevel		= true
						LocalDimensionLevel		= 0
					include CreateNewGLReportFilterParamValue

				if (!FinanceDimension1 entered)
					LocalDimensionName			= "FinanceDimension1"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension1
					LocalFilterDisplayValue		= FinanceDimension1.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension1
						LocalFilterDisplayValue	= each.FinanceDimension1.Description
						
						include CreateNewGLReportFilterParamValue
						
				if (HasFinanceDimension1Param or AddParamFinanceDimension1TopNode)
					LocalDimensionName		= "FinanceDimension1"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= FinanceDimension1
					LocalFilterDisplayValue	= FinanceDimension1.Description
					LocalStructureFilter	= FinanceDimension1TopNode.DimensionHierarchyRel.FinanceDimension1Structure
					LocalStructureDimension	= "FinanceDimension1Hierarchy" 
					LocalStructureField		= "FinanceDimension1Structure"

					if (!FinanceDimension1.DimensionType.Posting or AddParamFinanceDimension1TopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= FinanceDimension1.Level
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue
					
				if (!FinanceDimension2 entered)
					LocalDimensionName			= "FinanceDimension2"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension2
					LocalFilterDisplayValue		= FinanceDimension2.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension2
						LocalFilterDisplayValue	= each.FinanceDimension2.Description
						include CreateNewGLReportFilterParamValue					
					
				if (HasFinanceDimension2Param or AddParamFinanceDimension2TopNode)
					LocalDimensionName		= "FinanceDimension2"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= FinanceDimension2
					LocalFilterDisplayValue	= FinanceDimension2.Description
					LocalStructureFilter	= FinanceDimension2TopNode.DimensionHierarchyRel.FinanceDimension2Structure
					LocalStructureDimension	= "FinanceDimension2Hierarchy" 
					LocalStructureField		= "FinanceDimension2Structure"

					if (!FinanceDimension2.DimensionType.Posting or AddParamFinanceDimension2TopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= FinanceDimension2.Level
					else	
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue
					
				if (!FinanceDimension3 entered)
					LocalDimensionName			= "FinanceDimension3"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension3
					LocalFilterDisplayValue		= FinanceDimension3.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension3
						LocalFilterDisplayValue	= each.FinanceDimension3.Description
						include CreateNewGLReportFilterParamValue
					
				if (HasFinanceDimension3Param or AddParamFinanceDimension3TopNode)
					LocalDimensionName		= "FinanceDimension3"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= FinanceDimension3
					LocalFilterDisplayValue	= FinanceDimension3.Description
					LocalStructureFilter	= FinanceDimension3TopNode.DimensionHierarchyRel.FinanceDimension3Structure
					LocalStructureDimension	= "FinanceDimension3Hierarchy" 
					LocalStructureField		= "FinanceDimension3Structure"

					if (!FinanceDimension3.DimensionType.Posting or AddParamFinanceDimension3TopNode)
						LocalIsLeafLevel		= false
						LocalDimensionLevel		= FinanceDimension3.Level
					else
						LocalIsLeafLevel		= true
						LocalDimensionLevel		= 0
					include CreateNewGLReportFilterParamValue

				if (!FinanceDimension4 entered)
					LocalDimensionName			= "FinanceDimension4"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension4
					LocalFilterDisplayValue		= FinanceDimension4.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension4
						LocalFilterDisplayValue	= each.FinanceDimension4.Description
						include CreateNewGLReportFilterParamValue
						
				if (HasFinanceDimension4Param or AddParamFinanceDimension4TopNode)
					LocalDimensionName		= "FinanceDimension4"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= FinanceDimension4
					LocalFilterDisplayValue	= FinanceDimension4.Description
					LocalStructureFilter	= FinanceDimension4TopNode.DimensionHierarchyRel.FinanceDimension4Structure
					LocalStructureDimension	= "FinanceDimension4Hierarchy" 
					LocalStructureField		= "FinanceDimension4Structure"

					if (!FinanceDimension4.DimensionType.Posting or AddParamFinanceDimension4TopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= FinanceDimension4.Level
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue

				if (!FinanceDimension5 entered)
					LocalDimensionName			= "FinanceDimension5"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension5
					LocalFilterDisplayValue		= FinanceDimension5.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension5
						LocalFilterDisplayValue	= each.FinanceDimension5.Description
						include CreateNewGLReportFilterParamValue
						
				if (HasFinanceDimension5Param or AddParamFinanceDimension5TopNode)
					LocalDimensionName			= "FinanceDimension5"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension5
					LocalFilterDisplayValue		= FinanceDimension5.Description
					LocalStructureFilter		= FinanceDimension5TopNode.DimensionHierarchyRel.FinanceDimension5Structure
					LocalStructureDimension		= "FinanceDimension5Hierarchy" 
					LocalStructureField			= "FinanceDimension5Structure"

					if (!FinanceDimension5.DimensionType.Posting or AddParamFinanceDimension5TopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= FinanceDimension5.Level
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue

				if (!FinanceDimension6 entered)
					LocalDimensionName			= "FinanceDimension6"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension6
					LocalFilterDisplayValue		= FinanceDimension6.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension6
						LocalFilterDisplayValue	= each.FinanceDimension6.Description
						include CreateNewGLReportFilterParamValue
						
				if (HasFinanceDimension6Param or AddParamFinanceDimension6TopNode)
					LocalDimensionName		= "FinanceDimension6"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= FinanceDimension6
					LocalFilterDisplayValue = FinanceDimension6.Description
					LocalStructureFilter	= FinanceDimension6TopNode.DimensionHierarchyRel.FinanceDimension6Structure
					LocalStructureDimension	= "FinanceDimension6Hierarchy" 
					LocalStructureField		= "FinanceDimension6Structure"

					if (!FinanceDimension6.DimensionType.Posting or AddParamFinanceDimension6TopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= FinanceDimension6.Level
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue

				if (!FinanceDimension7 entered)
					LocalDimensionName			= "FinanceDimension7"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension7
					LocalFilterDisplayValue		= FinanceDimension7.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension7
						LocalFilterDisplayValue	= each.FinanceDimension7.Description
						include CreateNewGLReportFilterParamValue
						
				if (HasFinanceDimension7Param or AddParamFinanceDimension7TopNode)
					LocalDimensionName			= "FinanceDimension7"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension7
					LocalFilterDisplayValue		= FinanceDimension7.Description
					LocalStructureFilter		= FinanceDimension7TopNode.DimensionHierarchyRel.FinanceDimension7Structure
					LocalStructureDimension		= "FinanceDimension7Hierarchy" 
					LocalStructureField			= "FinanceDimension7Structure"

					if (!FinanceDimension7.DimensionType.Posting or AddParamFinanceDimension7TopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= FinanceDimension7.Level
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue						

				if (!FinanceDimension8 entered)
					LocalDimensionName			= "FinanceDimension8"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension8
					LocalFilterDisplayValue		= FinanceDimension8.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension8
						LocalFilterDisplayValue	= each.FinanceDimension8.Description
						include CreateNewGLReportFilterParamValue
						
				if (HasFinanceDimension8Param or AddParamFinanceDimension8TopNode)
					LocalDimensionName			= "FinanceDimension8"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension8
					LocalFilterDisplayValue		= FinanceDimension8.Description
					LocalStructureFilter		= FinanceDimension8TopNode.DimensionHierarchyRel.FinanceDimension8Structure
					LocalStructureDimension		= "FinanceDimension8Hierarchy" 
					LocalStructureField			= "FinanceDimension8Structure"

					if (!FinanceDimension8.DimensionType.Posting or AddParamFinanceDimension8TopNode)
						LocalIsLeafLevel		= false
						LocalDimensionLevel		= FinanceDimension8.Level
					else
						LocalIsLeafLevel		= true
						LocalDimensionLevel		= 0
						LocalStructureFilter	= ""
					include CreateNewGLReportFilterParamValue						

				if (!FinanceDimension9 entered)
					LocalDimensionName			= "FinanceDimension9"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension9
					LocalFilterDisplayValue		= FinanceDimension9.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension9
						LocalFilterDisplayValue	= each.FinanceDimension9.Description
						include CreateNewGLReportFilterParamValue
						
				if (HasFinanceDimension9Param or AddParamFinanceDimension9TopNode)
					LocalDimensionName			= "FinanceDimension9"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension9
					LocalFilterDisplayValue		= FinanceDimension9.Description
					LocalStructureFilter		= FinanceDimension9TopNode.DimensionHierarchyRel.FinanceDimension9Structure
					LocalStructureDimension		= "FinanceDimension9Hierarchy" 
					LocalStructureField			= "FinanceDimension9Structure"

					if (!FinanceDimension9.DimensionType.Posting or AddParamFinanceDimension9TopNode)
						LocalIsLeafLevel		= false
						LocalDimensionLevel		= FinanceDimension9.Level
					else
						LocalIsLeafLevel		= true
						LocalDimensionLevel		= 0
					include CreateNewGLReportFilterParamValue

				if (!FinanceDimension10 entered)
					LocalDimensionName			= "FinanceDimension10"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension10
					LocalFilterDisplayValue		= FinanceDimension10.Description				 
					LocalIsLeafLevel			= true
					LocalDimensionLevel			= 0
					LocalStructureFilter		= ""
					LocalDimensionGroupType		= DerivedDimensionGroupType
					for each FinanceDimensionSecurityGroupDetailRel
						LocalFilterValue		= each.FinanceDimension10
						LocalFilterDisplayValue	= each.FinanceDimension10.Description
						include CreateNewGLReportFilterParamValue

				if (HasFinanceDimension10Param or AddParamFinanceDimension10TopNode)
					LocalDimensionName			= "FinanceDimension10"
					LocalFieldName				= LocalDimensionName
					LocalFilterValue			= FinanceDimension10
					LocalFilterDisplayValue		= FinanceDimension10.Description
					LocalStructureFilter	= FinanceDimension10TopNode.DimensionHierarchyRel.FinanceDimension10Structure
					LocalStructureDimension	= "FinanceDimension10Hierarchy" 
					LocalStructureField		= "FinanceDimension10Structure"

					if (!FinanceDimension10.DimensionType.Posting or AddParamFinanceDimension10TopNode)
						LocalIsLeafLevel	= false
						LocalDimensionLevel	= FinanceDimension10.Level
					else
						LocalIsLeafLevel	= true
						LocalDimensionLevel	= 0
					include CreateNewGLReportFilterParamValue
					
				if (HasGeneralLedgerSystemCodeParam)
					LocalDimensionName		= "GeneralLedgerSystemCode"
					LocalFieldName			= LocalDimensionName
					LocalFilterValue		= GeneralLedgerSystemCode
					LocalFilterDisplayValue	= GeneralLedgerSystemCode.Description
					LocalIsLeafLevel		= true
					LocalDimensionLevel		= 0
					LocalStructureFilter	= blank
					LocalStructureDimension	= blank
					LocalStructureField		= blank
					include CreateNewGLReportFilterParamValue

			Exit Rules


		Distribute is an Instance Action
			restricted
			Parameters
				ReportDocument
				ReportDistributionGroup

			Parameter Rules
				ReportDocument
					required
				ReportDistributionGroup
					required

			Action Rules
				invoke DistributeReportDocument ReportDistributionGroup
					invoked.ReportDocument = ReportDocument


		GenerateChildCompositeReport is an Instance Action
			restricted
			Parameters
				PrmGLReport					is like GLReport
				PrmCompositeReport			is like GLReport
				ReportTitle					is Alpha size 60
				SuppressMeasureHeaders		is Boolean 
				SuppressDimensionHeaders	is Boolean
				SubReportHeader				is Alpha size 100
				FirstMeasureColumnLeft		is Integer 4
				SuppressColumnGroupHeaders	is Boolean
				ZeroSuppression				is Boolean
				
			Action Rules


		GenerateReport is an Instance Action
			run in background

			Queue Mapping Fields
				FinanceEnterpriseGroup
				GLReport

			Entrance Rules
				initialize LocalError
				initialize LocalUpdateMessage
				invoke Create GLReportProcessingResult
					assign result to LocalGLReportProcessingResultView
					invoked.FinanceEnterpriseGroup = FinanceEnterpriseGroup
					invoked.User = actor
					invoked.ReportName = GLReport
					invoked.ActionName = "Generate Report"
					invoked.StartTime = current timestamp
					invoked.Status = 3
				
				commit transaction
			
			Local Fields
				LocalFirstChildReport			is Boolean
				LocalSuppressMeasureHeaders		is Boolean
				LocalSuppressColumnGroupHeaders is Boolean
				LocalSuppressDimensionHeaders	is Boolean
				
			Action Rules
				if (CompositeReport)
					LocalSuppressMeasureHeaders 		= false
					LocalSuppressColumnGroupHeaders 	= false
					LocalSuppressDimensionHeaders		= false
					for each GLReportElementRel
						LocalSuppressColumnGroupHeaders 	= false
						LocalSuppressMeasureHeaders 		= false
						LocalSuppressDimensionHeaders		= false

						if (each.SuppressColumnHeaders)
							LocalSuppressMeasureHeaders 		= true
							LocalSuppressColumnGroupHeaders 	= true
							LocalSuppressDimensionHeaders		= true

						else 
						if (each.DerivedShowGroupHeaders = false)
							LocalSuppressColumnGroupHeaders 	= true
							
						invoke GenerateChildCompositeReport each.SubReport
							invoked.PrmGLReport					= each.SubReport
							invoked.PrmCompositeReport			= GLReport
							invoked.ReportTitle					= each.SubReport.ReportTitle
							invoked.SuppressMeasureHeaders		= LocalSuppressMeasureHeaders
							invoked.SuppressDimensionHeaders	= LocalSuppressDimensionHeaders
							invoked.SubReportHeader				= each.ExtendedHeader
							invoked.FirstMeasureColumnLeft		= DerivedCompositeReportFirstMeasureColumnLeft
							invoked.SuppressColumnGroupHeaders	= LocalSuppressColumnGroupHeaders		
							invoked.ZeroSuppression				= ZeroSuppression
						

				
			Exit Rules
				LocalActor = actor
				
				invoke Update LocalGLReportProcessingResultView.GLReportProcessingResult
					invoked.EndTime = current timestamp
					invoked.LogMessage = LocalUpdateMessage
					if(LocalError)
						invoked.Status = 1
					else
						invoked.Status = 0

		RefreshReportDesignerData is a Set Action
			no records message is "DataRefreshComplete"

			confirmation required

			Instance Selection
				where (false)

			Local Fields
				LocalAsyncId	is a AsyncActionRequest

			Action Rules
				Empty Set Rules
					LocalFinanceEnterpriseGroup	= actor.context.FinanceEnterpriseGroup
					
					invoke Create GLReportProcessingResult
						assign result to LocalGLReportProcessingResultView
						invoked.FinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup							
						invoked.User					= actor
						invoked.ReportName				= blank
						invoked.ActionName				= "Refresh Data"
						invoked.StartTime				= current timestamp
						invoked.Status					= 3
					commit transaction

					invoke Replicate GLColumnarRepSetRel in background
						run outside of action background group
						assign async action request id to LocalAsyncId



					invoke ClearReportDesignerCache LocalGLReportProcessingResultRel in background
						run outside of action background group
						run after action background group LocalAsyncId
						invoked.PrmFinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
						invoked.PrmGLReportProcessingResult	= LocalGLReportProcessingResultView.GLReportProcessingResult
						invoked.PrmReplicationCompleted		= true

	Conditions
		AddParamAccountingUnitTopNode
			when(!HasAccountingUnitParam
			and	HasRowDimAccountingUnit)

		AddParamGLAccountTopNode
			when(!HasGeneralLedgerChartAccountParam
			and HasRowDimChartAccount)

		AddParamProjectTopNode
			when(!HasProjectParam
			and HasRowDimProject)

		AddParamFinanceDimension1TopNode
			when(!HasFinanceDimension1Param
			and HasRowDimFinanceDimension1)

		AddParamFinanceDimension2TopNode
			when(!HasFinanceDimension2Param
			and HasRowDimFinanceDimension2)

		AddParamFinanceDimension3TopNode
			when(!HasFinanceDimension3Param
			and HasRowDimFinanceDimension3)

		AddParamFinanceDimension4TopNode
			when(!HasFinanceDimension4Param
			and HasRowDimFinanceDimension4)

		AddParamFinanceDimension5TopNode
			when(!HasFinanceDimension5Param
			and HasRowDimFinanceDimension5)

		AddParamFinanceDimension6TopNode
			when(!HasFinanceDimension6Param
			and HasRowDimFinanceDimension6)
			
		AddParamFinanceDimension7TopNode
			when(!HasFinanceDimension7Param
			and HasRowDimFinanceDimension7)

		AddParamFinanceDimension8TopNode
			when(!HasFinanceDimension8Param
			and HasRowDimFinanceDimension8)

		AddParamFinanceDimension9TopNode
			when(!HasFinanceDimension9Param
			and HasRowDimFinanceDimension9)

		AddParamFinanceDimension10TopNode
			when(!HasFinanceDimension10Param
			and HasRowDimFinanceDimension10)

		RecordExists
			restricted
			when (GLReport exists)

		HasAccountingUnitDimensionFilter
			when (FilterDimensionAccountingUnitRel exists)

		HasChartAccountDimensionFilter
			when (FilterDimensionChartAccountRel exists)

		HasProjectDimensionFilter
			when (FilterDimensionProjectRel exists)

		HasFinanceDimension1DimensionFilter
			when (FilterDimensionFinanceDimension1Rel exists)

		HasFinanceDimension2DimensionFilter
			when (FilterDimensionFinanceDimension2Rel exists)

		HasFinanceDimension3DimensionFilter
			when (FilterDimensionFinanceDimension3Rel exists)

		HasFinanceDimension4DimensionFilter
			when (FilterDimensionFinanceDimension4Rel exists)

		HasFinanceDimension5DimensionFilter
			when (FilterDimensionFinanceDimension5Rel exists)

		HasFinanceDimension6DimensionFilter
			when (FilterDimensionFinanceDimension6Rel exists)

		HasFinanceDimension7DimensionFilter
			when (FilterDimensionFinanceDimension7Rel exists)

		HasFinanceDimension8DimensionFilter
			when (FilterDimensionFinanceDimension8Rel exists)

		HasFinanceDimension9DimensionFilter
			when (FilterDimensionFinanceDimension9Rel exists)

		HasFinanceDimension10DimensionFilter
			when (FilterDimensionFinanceDimension10Rel exists)

		HasAccountingEntityParam
			when (ParamAccountingEntityRel exists)
	
		HasAccountingUnitParam
			when (ParamAccountingUnitRel exists)

		DisplayAccountingEntity
			when (HasAccountingEntityParam 
			or    HasAccountingUnitParam)

		HasFinanceDimension1Param
			when (ParamFinanceDimension1Rel exists)

		HasFinanceDimension2Param
			when (ParamFinanceDimension2Rel exists)
		
		HasFinanceDimension3Param
			when (ParamFinanceDimension3Rel exists)
			
		HasFinanceDimension4Param
			when (ParamFinanceDimension4Rel exists)

		HasFinanceDimension5Param
			when (ParamFinanceDimension5Rel exists)
			
		HasFinanceDimension6Param
			when (ParamFinanceDimension6Rel exists)

		HasFinanceDimension7Param
			when (ParamFinanceDimension7Rel exists)
			
		HasFinanceDimension8Param
			when (ParamFinanceDimension8Rel exists)
			
		HasFinanceDimension9Param
			when (ParamFinanceDimension9Rel exists)
			
		HasFinanceDimension10Param
			when (ParamFinanceDimension10Rel exists)

		HasCurrencyParam
			when (ParamCurrencyRel exists)
			
		HasGeneralLedgerChartAccountParam
			when (ParamGeneralLedgerChartAccountRel exists)
			
		HasProjectParam
			when (ParamProjectRel exists)
			
		HasGeneralLedgerSystemCodeParam
			when (ParamGeneralLedgerSystemCodeRel exists)
			
		HasLedgerParam
			when (ParamLedgerRel exists)
			
		HasGeneralLedgerCalendarPeriodParam
			when (ParamGeneralLedgerCalendarPeriodRel exists)

		HasScenarioParam
			when (ParamScenarioRel exists)

		HasGLReportFilterParam
			when (GLReportFilterParamRel exists)

		HasGLReportFilterParamValue
			when (GLReportFilterParamValueRel exists)
			
		HasGLRowDimension
			when (GLRowDimensionRel exists)
			
		HasGLColumn
			when (GLColumnRel exists)

		HasGLRowAndColumn
			when(RowView entered and ColumnView entered)

		GenerateReportInProcess
			when (GenReportAsyncActionRequestProcessingRel exists)
			
		GenerateReportHasFailedAsyncActionTriggers
			when (GenReportHasFailedAsyncActionTriggersRel exists)			
			
		RunReportInProcess
			when (RunReportAsyncActionRequestProcessingRel exists)			

		RunReportForActorInProcess
			when (RunReportForActorAsyncActionRequestProcessingRel exists)	

		RunReportHasFailedAsyncActionTriggers
			when (RunReportHasFailedAsyncActionTriggersRel exists)
			
		GenerateCompositeIsValid
			when(CompositeReport 
			and  GLReportElementRel exists)
		
		ReportHasInvalidColumn
			when(ColumnView.DimensionFilterDisplayValuesIsNotEntered)

		ReportStatusAlertMessage
			when(ColumnView.DimensionFilterDisplayValuesIsNotEntered
			or ReportHasInvalidSubReport
			or IntegrationStatus.NotGenerated)

		ReportOutOfSyncMessage
			when(!ColumnView.DimensionFilterDisplayValuesIsNotEntered
			and IntegrationStatus.OutOfSync)


		ReportHasInvalidSubReport
			when(GLReportElementInvalidRel exists)

		ReportHasInvalidSubreportorColumn
			when(ColumnView.DimensionFilterDisplayValuesIsNotEntered
			or ReportHasInvalidSubReport)

		GenerateReportIsValid
			when((HasGLRowAndColumn or GenerateCompositeIsValid)
			and  !GenerateReportInProcess
			and  !RunReportInProcess
			and  !ReportHasInvalidColumn 
			and  !ReportHasInvalidSubReport
			and	 AllowLockedReportIsValid)

		AllowLockedReportIsValid
			when(!Lock
			or  (ApplicationAdministratorActorRoleRel exists
			or  create stamp.actor = actor))
			
		RunReportIsValid
			when((IntegrationStatus.Generated or DerivedAlwaysEnableRunReport)
			and  !GenerateReportInProcess
			and  !RunReportForActorInProcess)

		IsGeneratedAndHasFilterValues
			when (IntegrationStatus.Generated and GLReportFilterParamValueRel exists)

		ShowAccountingUnitPicker
			when (HasAccountingUnitParam or AddParamAccountingUnitTopNode)

		ShowGLAccountPicker
			when (HasGeneralLedgerChartAccountParam or AddParamGLAccountTopNode)

		ShowFinanceDimension1Picker
			when (HasFinanceDimension1Param or AddParamFinanceDimension1TopNode)

		ShowFinanceDimension2Picker
			when (HasFinanceDimension2Param or AddParamFinanceDimension2TopNode)

		ShowFinanceDimension3Picker
			when (HasFinanceDimension3Param or AddParamFinanceDimension3TopNode)

		ShowFinanceDimension4Picker
			when (HasFinanceDimension4Param or AddParamFinanceDimension4TopNode)

		ShowFinanceDimension5Picker
			when (HasFinanceDimension5Param or AddParamFinanceDimension5TopNode)

		ShowFinanceDimension6Picker
			when (HasFinanceDimension6Param or AddParamFinanceDimension6TopNode)

		ShowFinanceDimension7Picker
			when (HasFinanceDimension7Param or AddParamFinanceDimension7TopNode)

		ShowFinanceDimension8Picker
			when (HasFinanceDimension8Param or AddParamFinanceDimension8TopNode)

		ShowFinanceDimension9Picker
			when (HasFinanceDimension9Param or AddParamFinanceDimension9TopNode)

		ShowFinanceDimension10Picker
			when (HasFinanceDimension10Param or AddParamFinanceDimension10TopNode)

		ShowProjectPicker
			when (HasProjectParam or AddParamProjectTopNode)

		IsActorFavoriteReport
			when (ActorFavoriteReportRel exists)

		HasMultiSelectReportFilter
			when(DerivedReportFilterDimensionFieldCount > 1
			or	DerivedHasCompositeReportWithMultiValRptFilter)

		HasMultiSelectColumnFilter
			when(ColumnView.DerivedHasColumnWithMultiValueFilter
			or	DerivedHasCompositeReportWithMultiValColFilter)

		ShowMultiSelectColumnFilterAlert
			when(HasMultiSelectColumnFilter
			and !HasMultiSelectReportFilter)
		

	Relations
		ActorContextRel
			one-to-one relation to ActorContext
			Field Mapping uses symbolic key
				related.Actor					= LocalReportDistributionActor
				related.ContextProperty			= LocalContextProperty
		
		FEGContextPropertyRel
			one-to-one relation to ContextProperty
			Field Mapping uses ByKeyField
				related.KeyField = "FinanceEnterpriseGroup"
				related.DataArea = parentcontext.dataarea
		
		AccountingEntitySecurityGroupMemberRel
			one-to-many relation to AccountingEntityGroupMember
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.AccountingEntityGroup	= DerivedAccountingEntityGroup	
				
		AccountingUnitSecurityGroupDetailRel
			one-to-many relation to AccountingUnitSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.AccountingUnitSecurityGroup		= DerivedAccountingUnitSecurityGroup				
				related.AccountingEntity				= LocalContextAccountingEntity
		
		AccountingUnitCheckSecurityGroupDetailRel
			one-to-many relation to AccountingUnitSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.AccountingUnitSecurityGroup		= DerivedAccountingUnitSecurityGroup	

		FinanceDimensionSecurityGroupDetailRel
			one-to-many relation to FinanceDimensionSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.DimensionGroupType				= LocalDimensionGroupType
				related.FinanceDimensionSecurityGroup	= ActorFinanceDimensionSecurityGroup
			Instance Selection
				where (related.DimensionType = DimensionType.Posting)
		
		FinanceDimensionCheckSecurityGroupDetailRel
			one-to-many relation to FinanceDimensionSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.DimensionGroupType				= LocalDimensionGroupType
				related.FinanceDimensionSecurityGroup	= ActorFinanceDimensionSecurityGroup

		ProjectSecurityGroupRel
			one-to-many relation to FinanceDimensionSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.DimensionGroupType				= LocalDimensionGroupType
				related.FinanceDimensionSecurityGroup	= ActorFinanceDimensionSecurityGroup
			Instance Selection
				where (related.DimensionType = DimensionType.Posting)
		
		ProjectCheckSecurityGroupRel
			one-to-many relation to FinanceDimensionSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.DimensionGroupType				= LocalDimensionGroupType
				related.FinanceDimensionSecurityGroup	= ActorFinanceDimensionSecurityGroup
			
		ChartAccountSecurityGroupRel
			one-to-many relation to FinanceDimensionSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.DimensionGroupType				= LocalDimensionGroupType
				related.FinanceDimensionSecurityGroup	= ActorFinanceDimensionSecurityGroup
			Instance Selection
				where (related.DimensionType = DimensionType.Posting)
		
		ChartAccountCheckSecurityGroupRel
			one-to-many relation to FinanceDimensionSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.DimensionGroupType				= LocalDimensionGroupType
				related.FinanceDimensionSecurityGroup	= ActorFinanceDimensionSecurityGroup

		GLReportElementRel
			one-to-many relation to GLReportElement
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				
		SubReportRel
			one-to-many relation to GLReportElement
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
			Instance Selection
				where (related.SubReport		= GLReport)

		GLRowDimensionRel
			one-to-many relation to GLRowDimension
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLRowView				= RowView

		GLColumnRel
			one-to-many relation to GLColumn
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLColumnView			= ColumnView
		

		LocalGLColumnRel
			one-to-many relation to GLColumn
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLColumnView			= LocalColumnView

		GLStandardColumnRel 
			one-to-many relation to GLColumn
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLColumnView			= ColumnView
			Instance Selection
				where(related.GLColumnType 			= 0)

		GLStandardColumnCompositeRel 
            one-to-many relation to GLColumn
            Field Mapping uses ByDisplayOrder
                related.FinanceEnterpriseGroup  = FinanceEnterpriseGroup
                related.GLColumnView            = first GLReportElementRel.SubReport.ColumnView
            Instance Selection
                where(related.GLColumnType          = 0)		
		
		GLReportFilterParamRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
		
		GLReportFilterParamSortRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport

		GLReportFilterParamValueRel
			one-to-many relation to GLReportFilterParamValue
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.Actor					= actor

		GLColumnFilterDimensionRel
			one-to-many relation to GLColumnFilterDimension
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLColumnView			= ColumnView

		GLColumnFilterDimensionFieldRel
			one-to-many relation to GLColumnFilterDimensionField
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLColumnView			= ColumnView

        GLReportFilterDimensionRel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				
		GLReportFilterDimensionFieldRel
			one-to-many relation to GLReportFilterDimensionField
			delete cascades
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport

        FilterDimensionAccountingEntityRel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "AccountingEntity"

        FilterDimensionAccountingUnitRel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "GeneralLedgerTotal.AccountingUnit"

        FilterDimensionChartAccountRel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "GeneralLedgerTotal.GeneralLedgerChartAccount"

        FilterDimensionProjectRel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "GeneralLedgerTotal.Project"

        FilterDimensionFinanceDimension1Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension1"

        FilterDimensionFinanceDimension2Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension2"

        FilterDimensionFinanceDimension3Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension3"

        FilterDimensionFinanceDimension4Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension4"

        FilterDimensionFinanceDimension5Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension5"

        FilterDimensionFinanceDimension6Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension6"

        FilterDimensionFinanceDimension7Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension7"

        FilterDimensionFinanceDimension8Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension8"

        FilterDimensionFinanceDimension9Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension9"

        FilterDimensionFinanceDimension10Rel
            one-to-many relation to GLReportFilterDimension
            delete cascades
            Field Mapping uses ByDimensionParam
                related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
                related.GLReport				= GLReport
				related.Dimension				= "FinanceDimension10"

		ParamAccountingEntityRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "AccountingEntity"

		ParamFinanceDimension1Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension1"

		ParamFinanceDimension2Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension2"

		ParamFinanceDimension3Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension3"

		ParamFinanceDimension4Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension4"

		ParamFinanceDimension5Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension5"

		ParamFinanceDimension6Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension6"

		ParamFinanceDimension7Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension7"

		ParamFinanceDimension8Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension8"

		ParamFinanceDimension9Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension9"

		ParamFinanceDimension10Rel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "FinanceDimension10"
	
		ParamAccountingUnitRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "GeneralLedgerTotal.AccountingUnit"

		ParamCurrencyRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "GeneralLedgerTotal.Currency"
				
		ParamProjectRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "GeneralLedgerTotal.Project"
				
		ParamLedgerRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "GeneralLedgerTotal.Ledger"

		ParamGeneralLedgerCalendarPeriodRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "GeneralLedgerTotal.EntityYearPeriod"

		ParamGeneralLedgerChartAccountRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "GeneralLedgerTotal.GeneralLedgerChartAccount"				
				
		ParamGeneralLedgerSystemCodeRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "GeneralLedgerTotal.System"				

		ParamScenarioRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDimensionParam
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
				related.DimensionParam			= "Scenario"		

		CurrentPeriodRel
			one-to-many relation to GeneralLedgerCalendarPeriod
			Field Mapping uses ByTopNodeAndType
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				related.TopNode				   = ReportingBasis.CalendarTopNode
				related.PeriodType			   = 3
			Instance Selection
				where (related.DerivedStartDate <= current corporate date
				and    related.DerivedEndDate 	>= current corporate date)
				
		GLColumnarRepSetRel
			one-to-one relation to ReplicationSet
			Field Mapping uses symbolic key
				related.ReplicationSet = "FSM_COLUMNAR_GL_ST"

		LocalGeneralLedgerCalendarPeriodRel
			one-to-many relation to GeneralLedgerCalendarPeriod
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
			Instance Selection
				where(related.TopNode	= LocalCalendarPeriodTopNode
				and related.Year		= LocalFiscalYear
				and related.Month		= LocalFiscalMonth
				and related.Quarter		= LocalFiscalQuarter)

		GLReportProcessingResultRel
			one-to-many relation to GLReportProcessingResult
			Field Mapping uses ByCreationDate
			Instance Selection
				where( related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				and related.ReportName				  = GLReport)

		GenerateReportProcessingResultRel
			one-to-many relation to GLReportProcessingResult
			Field Mapping uses ByCreationDate
			Instance Selection
				where( related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				and related.ReportName				  = GLReport
				and related.ActionName				  = "Generate Report")

		LocalGLReportProcessingResultRel				
			one-to-one relation to GLReportProcessingResult
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= LocalFinanceEnterpriseGroup
				related.GLReportProcessingResult	= LocalGLReportProcessingResultView.GLReportProcessingResult

		ApplicationAdministratorActorRoleRel
            one-to-many relation to ActorRole
            Field Mapping uses symbolic key
                related.Actor           = actor
                related.ActorRole.Role  = "ApplicationAdministrator_ST"

		ActorFavoriteReportRel
			one-to-one relation to GLFavoriteReport
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport 
				related.Actor					= actor


		GenReportAsyncActionRequestProcessingRel
			one-to-many relation to AsyncActionRequest
			Field Mapping uses ByClass
				related.ImplementingClass 	= "GLReport"
				related.AsyncAction 		= "GenerateReport"
			Instance Selection
				where (related.MappingField1 = FinanceEnterpriseGroup
				and    related.MappingField2 = GLReport
				and   (related.NonFinishedNotInErrorTriggersExist))


		GenReportHasFailedAsyncActionTriggersRel
			one-to-many relation to AsyncActionRequest
			Field Mapping uses ByClass
				related.ImplementingClass 	= "GLReport"
				related.AsyncAction 		= "GenerateReport"
			Instance Selection
				where (related.MappingField1 = FinanceEnterpriseGroup
				and    related.MappingField2 = GLReport
				and   (related.FailedTriggersExist))


		RunReportAsyncActionRequestProcessingRel
			one-to-many relation to AsyncActionRequest
			Field Mapping uses ByClass
				related.ImplementingClass 	= "GLReport"
				related.AsyncAction 		= "RunReport"
			Instance Selection
				where (related.MappingField1 = FinanceEnterpriseGroup
				and    related.MappingField2 = GLReport
				and   (related.NonFinishedNotInErrorTriggersExist))


		RunReportForActorAsyncActionRequestProcessingRel
			one-to-many relation to AsyncActionRequest
			Field Mapping uses ByClass
				related.ImplementingClass 	= "GLReport"
				related.AsyncAction 		= "RunReport"
			Instance Selection
				where (related.MappingField1	= FinanceEnterpriseGroup
				and    related.MappingField2	= GLReport
				and   (related.Actor			= actor)
				and   (related.NonFinishedNotInErrorTriggersExist))


		RunReportHasFailedAsyncActionTriggersRel
			one-to-many relation to AsyncActionRequest
			Field Mapping uses ByClass
				related.ImplementingClass 	= "GLReport"
				related.AsyncAction 		= "RunReport"
			Instance Selection
				where (related.MappingField1 = FinanceEnterpriseGroup
				and    related.MappingField2 = GLReport
				and   (related.FailedTriggersExist))

		LocalProjectHierarchyRel
			one-to-one relation to ProjectHierarchy
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.ProjectStructure		= LocalProjectStructure
				related.Project					= LocalProject
		
		GLReportGroupingDetailRel
			one-to-many relation to GLReportGroupingDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				related.GLReportGrouping 		= LocalGLReportGrouping

		GLRowDimensionAttributeRel
			one-to-many relation to GLRowAttribute
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLRowView				= RowView
		
		GLReportRel
			one-to-one relation to GLReport
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= LocalGLreport
		
		GLReportGroupsRel	
			one-to-many relation to GLReportGroupingDetail
			Field Mapping uses symbolic key
			Instance Selection
				where (related.FinanceEnterpriseGroup 	= FinanceEnterpriseGroup
				and	   related.GLReport 				= GLReport)
		
		GLReportFilterParam1CopyRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= LocalGLreport
				related.DisplayOrder			= GLReport.GLReportFilterParam1.DisplayOrder
		
		GLReportFilterParam2CopyRel
			one-to-many relation to GLReportFilterParam
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= LocalGLreport
				related.DisplayOrder			= GLReport.GLReportFilterParam2.DisplayOrder

		GLReportElementInvalidRel
			one-to-many relation to GLReportElement
			Field Mapping uses ByDisplayOrder
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.GLReport				= GLReport
			Instance Selection
				where (related.GLReportElementInvalidSubreport)
			
