InvoicedNotReceivedResultLine is a BusinessClass
    owned by ma
    prefix is INRRL

    Ontology
		symbolic key is InvoicedNotReceivedResultLine

    Patterns
    	disable AuditIndex
    	disable Auditing
    	disable EffectiveDated
		implements CreateStamp	

    Persistent Fields
		Buyer						is like Buyer
		Invoice
		Suffix
		InvoiceType					is a PayablesInvoiceType
    	Vendor						is like Vendor
    	InvoiceDate					is Date
    	DueDate						is Date
		ItemType					is like ItemType
		Item						is like Item
		VendorItem					is like VendorItem
		INRQuantity					is like Quantity
				
	Local Fields
		NextSentence				is Boolean		
		LocalPayablesInvoice		is like PayablesInvoice

	Context Fields
		DueDateRange					is a DateRange		
		SelectedInvoiceType				is a PayablesInvoiceType	
		GeneralLedgerCompanyGroup
		FinanceResource

	Derived Fields

		DerivedBuyerName is a DerivedField
		    type is Alpha size 100		
			default label is "Name"
			if (PayablesInvoice.MatchProcessType.ServiceContract)
			    return PayablesInvoice.ServiceContract.Buyer.Name
			else
				return PayablesInvoice.FirstPurchaseOrder.Buyer.Name

		DerivedExtendedINRAmount is a DerivedField
			type is like InternationalAmount
			return (INRQuantity * PayablesInvoiceDetail.MatchUnitCost)

	Sets

 		ByBuyer
 			Sort Order
 				Buyer
 				Invoice
 				Company
 				PayablesInvoice
 				PurchaseOrder
 				PurchaseOrderLine
 				PayablesInvoiceDetail
 				InvoicedNotReceivedResult

 		ByVendor
 			Sort Order
 				Vendor
 				Invoice
 				Company
 				PayablesInvoice
 				PurchaseOrder
 				PurchaseOrderLine
 				PayablesInvoiceDetail
 				InvoicedNotReceivedResult

 		ByInvoice
 			Sort Order
 				Invoice
 				Company
 				PayablesInvoice
 				PurchaseOrder
 				PurchaseOrderLine
 				PayablesInvoiceDetail
 				InvoicedNotReceivedResult
 				
 		ByCompanyPurchaseOrder
 			Sort Order
 				Company
 				PurchaseOrder
 				InvoicedNotReceivedResult
 				PayablesInvoice
 				PurchaseOrderLine
 				PayablesInvoiceDetail
 				
 		ByCompanyItemTypeItemSearch
 			Sort Order
 				Company
 				ItemType
 				Item
 				PayablesInvoice
 				PurchaseOrder
 				PurchaseOrderLine
 				PayablesInvoiceDetail
 				InvoicedNotReceivedResult
 				
 		ByCompanyInvoiceOnly
 			allow duplicates
 			Sort Order
 				Company
 				Invoice

 		ByResult
 			Sort Order
 				InvoicedNotReceivedResult
 				Company
 				Invoice
 				PayablesInvoice
 				PurchaseOrder
 				PurchaseOrderLine
 				PayablesInvoiceDetail

	Relations

		PurchaseOrderRel
			one-to-one relation to PurchaseOrder
			Field Mapping uses symbolic key
				related.Company				= Company
				related.PurchaseOrder		= PurchaseOrder

		MatchCompanyRel
			one-to-one relation to MatchCompany
			Field Mapping uses symbolic key
				related.Company = Company

	Conditions

		IsSelectedInvoiceType
			restricted
			when (SelectedInvoiceType not entered
			or      (SelectedInvoiceType entered
			and     PayablesInvoice.InvoiceType = SelectedInvoiceType))

		WithinDueDateRange
			restricted
			when (DueDateRange not entered
			or	   (DueDateRange entered
			and      PayablesInvoice.DueDate within DueDateRange))

	Field Rules

	Create Rules
		Vendor 				= PayablesInvoice.Vendor
		Buyer 				= PurchaseOrder.Buyer
		Invoice				= PayablesInvoice.Invoice
		Suffix 				= PayablesInvoice.Suffix
    	InvoiceDate			= PayablesInvoice.InvoiceDate
    	DueDate				= PayablesInvoice.DueDate

		InvoiceType			= PayablesInvoice.InvoiceType
		ItemType			= PayablesInvoiceDetail.ItemType	
		Item				= PayablesInvoiceDetail.Item		
		VendorItem			= PayablesInvoiceDetail.VendorItem

	Actions
		Create is a Create Action
			restricted
				
		Update is an Update Action
			restricted

		Delete is a Delete Action
			restricted

		FastDelete is a Delete Action
			restricted
			bypass relational integrity rules
