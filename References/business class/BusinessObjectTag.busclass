BusinessObjectTag is a BusinessClass
	owned by repository
 	prefix is btag
 	default label is "Tag"
 	disable data area copy
		preserve target data

    Ontology
        symbolic key is BusinessObjectTag

	Patterns
		disable AsOfDateProcessing
        disable EffectiveDated
        disable Auditing
        implements CreateStamp
        implements UpdateStamp

	Persistent Fields
		Description is Text
		Locked is Boolean
		Color is a RepositoryColorStyle
		IsGPNTag is Boolean
			default label is "GlobalPackageTag"

	Derived Fields
		ItemCount is a DerivedField
			type is Numeric size 4
			return instance count of BusinessObjectTagItem set

	Conditions
		NotUsed
		    when (!BusinessObjectTagItem set exists)





			
	Actions
		Create is a Create Action
			restricted
				
		Update is an Update Action
			restricted
			Action Rules

		Delete is a Delete Action
			restricted
			valid when (Locked)


		Lock is an Instance Action
			restricted
			valid when (not Locked)
			Action Rules
				Locked = true

		Unlock is an Instance Action
			restricted
			valid when (Locked)

			Action Rules
				Locked = false
				
		SetColor is an Instance Action
			Parameters
				ParamColor is a RepositoryColorStyle
					default label is "Color"

			Action Rules
				Color = ParamColor
			










