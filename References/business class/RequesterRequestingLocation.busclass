RequesterRequestingLocation is a BusinessClass
	owned by rq
	prefix is RRL
	classic name is RQREQLOC
	
	Ontology
	
		symbolic key is RequesterRequestingLocation
	
	Patterns
	
	    implements StaticJava
        disable AuditIndex
        
	Persistent Fields
	
		ValidationOption	is Numeric size 1
			classic name is REQ-LOC-FLAG
			protected
			restricted
			States
				Allowed		value is 0
				Disallowed	value is 1

	Relations
	
		RequesterRequestingLocationRel
			one-to-many relation to RequesterRequestingLocation
			Field Mapping uses symbolic key
				related.Company			= RequesterRequestingLocation.Company
				related.Requester		= RequesterRequestingLocation.Requester

	Sets
	
		Rrlset2
			duplicates
			Sort Order
				Requester
				
	Field Rules
	
		Company
	    	constraint (Company.FinanceEnterpriseGroup.HROrganization = actor.context.HROrganization)
				"FinanceEnterpriseGroupAssociatedWithCompanyDoesNotUseHROrganizationForRequester"
    				
		Requester
			required

	Actions

		Create is a Create Action

		Update is an Update Action

		Delete is a Delete Action

FileCreationLogic.RequesterRequestingLocation is a BusinessClass

	Persistent Fields
	
	Local Fields
					
	Relations
		
	Derived Fields
				
	Actions
	
		GeneratePreviewRecordsForRunGroup is a Set Action
			restricted
			synchronized on untranslatable:"RequesterRequestingLocation_GeneratePreviewRecordsForRunGroup_<FinanceEnterpriseGroupPrm>_<PrmRunGroup>"

			Parameters
				FinanceEnterpriseGroupPrm		is a FinanceEnterpriseGroup
				FileCreationSetupPrm	is a FileCreationSetup
				BeginTimeStamp			is TimeStamp
				EndTimeStamp			is TimeStamp
				AllRecords				is Boolean
				PrmNumberOfRunGroups	is Numeric 3
				PrmRunGroup				is Numeric 3
				
			Local Fields
				LocalRequesterRequestingLocationGroupSelection		is a RequesterRequestingLocation group in subject FileCreationRequesterRequestingLocation

			Instance Selection
				where (Company.FinanceEnterpriseGroup = FinanceEnterpriseGroupPrm
				and    (PrmNumberOfRunGroups <= 1
				or      Requester % PrmNumberOfRunGroups = PrmRunGroup)
				and	   (AllRecords
				or	    (update stamp > BeginTimeStamp
				and	     update stamp <= EndTimeStamp)))

			Action Rules
				Instance Rules
					LocalRequesterRequestingLocationGroupSelection = FileCreationSetupPrm.EligibilityGroup
					if (LocalRequesterRequestingLocationGroupSelection not entered
					or	RequesterRequestingLocation within LocalRequesterRequestingLocationGroupSelection)
						invoke Create FileCreationRecord
							invoked.FinanceEnterpriseGroup		= FinanceEnterpriseGroupPrm
							invoked.FileCreationSetup	= FileCreationSetupPrm
							invoked.Key1				= Company
                            invoked.Key2		        = Requester
							invoked.Key3				= RequestingLocation
							invoked.SystemTimeStamp		= EndTimeStamp
							invoked.EffectiveDate		= system current corporate date
							invoked.Status				= 1
