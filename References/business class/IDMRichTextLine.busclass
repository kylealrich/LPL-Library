IDMRichTextLine is a BusinessClass
    owned by idm
    prefix is IDMRL

    Ontology
		symbolic key is IDMRichTextLine

    Patterns
		disable AuditIndex
		disable Auditing 
       	disable EffectiveDated

    Persistent Fields
        BusinessClass
        BusinessField
        TextFormat              is Numeric 1
            States
                PlainText       value is 0
                RichText        value is 1
        Type                    is Numeric 1
            States
                Custom         value is 0
                Default        value is 1

    Field Rules
        BusinessClass
            required

        BusinessField
            required
            constraint (IsRichText)
                "Field<BusinessField>NotSupportedFor_Text_Format.PleaseSelect_Rich_TextFields."

    Derived Fields
        IsRichText is a NativeField
			type is Boolean

    Sets
        ByClassFields
            Sort Order
                IDMRichTextHeader
                BusinessClass
                BusinessField

    Rule Blocks

    Relations        
        BusinessFieldTextOnlyRel
            one-to-many relation to BusinessField
            Field Mapping uses symbolic key
                related.BusinessView = BusinessClass
                related.BusinessField = BusinessField
            Instance Selection
                where ((related.BusinessField.Type.Persistent
                or related.BusinessField.Type.Derived)
                and related.BusinessField.RepresentationType.Text)

    Actions
        Create is a Create Action
        
        Update is an Update Action

        Delete is a Delete Action
            valid when (Type.Custom)

        UsePlainText is an Instance Action
            Action Rules
                TextFormat = TextFormat.PlainText

        UseRichText is an Instance Action
            Action Rules
                TextFormat = TextFormat.RichText
