CodeBlockRelation is a BusinessClass
    owned by GeneralLedger
    prefix is GLCBR

    Ontology
    	symbolic key is CodeBlockRelation

	Patterns
			
    Persistent Fields
		Description						 	is Alpha 250
			translatable
		FromField							is Numeric 2
			States
				Ledger							value is 0
				AccountingEntity				value is 1
				AccountingUnit					value is 2
				Account							value is 3
				Project							value is 4
				Dimension1						value is 6
				Dimension2						value is 7
				Dimension3						value is 8
				Dimension4						value is 9
				Dimension5						value is 10
				Dimension6						value is 11
				Dimension7						value is 12
				Dimension8						value is 13
				Dimension9						value is 14
				Dimension10						value is 15				
		ToField								is Numeric 2
			States
				AccountingEntity				value is 1
				AccountingUnit					value is 2
				Account							value is 3
				Project							value is 4
				Dimension1						value is 6
				Dimension2						value is 7
				Dimension3						value is 8
				Dimension4						value is 9
				Dimension5						value is 10
				Dimension6						value is 11
				Dimension7						value is 12
				Dimension8						value is 13
				Dimension9						value is 14
				Dimension10						value is 15	
		Ledger
		AccountingEntity							
		LedgerRule							is a Ledger group						
		AccountingEntityRule				is an AccountingEntity group			
		AccountingUnitRule					is an AccountingUnit group				
		AccountRule							is a GeneralLedgerChartAccount group	
		ProjectRule							is a Project group						
		Dimension1Rule						is a FinanceDimension1 group			
		Dimension2Rule						is a FinanceDimension2 group			
		Dimension3Rule						is a FinanceDimension3 group			
		Dimension4Rule						is a FinanceDimension4 group			
		Dimension5Rule						is a FinanceDimension5 group			
		Dimension6Rule						is a FinanceDimension6 group			
		Dimension7Rule						is a FinanceDimension7 group			
		Dimension8Rule						is a FinanceDimension8 group			
		Dimension9Rule						is a FinanceDimension9 group			
		Dimension10Rule						is a FinanceDimension10 group			
		EvaluationOrder						is Numeric 2		
		Active
		LedgerRelation						is a CodeBlockArray
		EntityRelation						is a CodeBlockArray
		AcctUnitRelation					is a CodeBlockArray
		AccountRelation						is a CodeBlockArray
		ProjectRelation						is a CodeBlockArray
		Dim1Relation						is a CodeBlockArray
		Dim2Relation						is a CodeBlockArray
		Dim3Relation						is a CodeBlockArray
		Dim4Relation						is a CodeBlockArray
		Dim5Relation						is a CodeBlockArray
		Dim6Relation						is a CodeBlockArray
		Dim7Relation						is a CodeBlockArray
		Dim8Relation						is a CodeBlockArray	
		Dim9Relation						is a CodeBlockArray
		DefaultWasSet						is Boolean	
				
	Transient Fields
		TransientFrom						is a StructureRow
		TransientTo							is a StructureDetail
	
	Derived Fields
		DerivedFromField					is a DerivedField
			type is AlphaRight 3
			restricted
			return (100 + FromField)
		DerivedToField						is a DerivedField
			type is AlphaRight 3
			restricted
			return (100 + ToField)
		DerivedCodeBlockRelation			is a DerivedField
			type is AlphaRight 7
			restricted
			return (1000000 + CodeBlockRelation)
		DerivedAlphaFromField				is a DerivedField
			type is AlphaRight 2
			restricted
			return DerivedFromField[2:3]
		DerivedAlphaToField					is a DerivedField
			type is AlphaRight 2
			restricted
			return DerivedToField[2:3]
		DerivedAlphaCodeBlockRelation		is a DerivedField
			type is AlphaRight 6
			restricted
			return DerivedCodeBlockRelation[2:7]
		DerivedCodeBlockRelationString		is a StringField
			type is AlphaUpper 10
			restricted
			DerivedAlphaCodeBlockRelation
			DerivedAlphaFromField
			DerivedAlphaToField
		DerivedFromOrder is a DerivedField
			type is Numeric 2
			restricted
			if (FromField.Ledger)
				return 0
			if (FromField.AccountingEntity)
				return FinanceEnterpriseGroup.AccountingEntityOrder
			if (FromField.AccountingUnit)
				return FinanceEnterpriseGroup.AccountingUnitOrder
			if (FromField.Account)
				return FinanceEnterpriseGroup.AccountOrder
			if (FromField.Project)
				return FinanceEnterpriseGroup.ProjectOrder
			if (FromField.Dimension1)
				return FinanceEnterpriseGroup.FinanceDimension1Order
			if (FromField.Dimension2)
				return FinanceEnterpriseGroup.FinanceDimension2Order
			if (FromField.Dimension3)
				return FinanceEnterpriseGroup.FinanceDimension3Order
			if (FromField.Dimension4)
				return FinanceEnterpriseGroup.FinanceDimension4Order
			if (FromField.Dimension5)
				return FinanceEnterpriseGroup.FinanceDimension5Order
			if (FromField.Dimension6)
				return FinanceEnterpriseGroup.FinanceDimension6Order
			if (FromField.Dimension7)
				return FinanceEnterpriseGroup.FinanceDimension7Order
			if (FromField.Dimension8)
				return FinanceEnterpriseGroup.FinanceDimension8Order
			if (FromField.Dimension9)
				return FinanceEnterpriseGroup.FinanceDimension9Order
			if (FromField.Dimension10)
				return FinanceEnterpriseGroup.FinanceDimension10Order
		DerivedToOrder is a DerivedField
			type is Numeric 2
			restricted
			if (ToField.AccountingEntity)
				return FinanceEnterpriseGroup.AccountingEntityOrder
			if (ToField.AccountingUnit)
				return FinanceEnterpriseGroup.AccountingUnitOrder
			if (ToField.Account)
				return FinanceEnterpriseGroup.AccountOrder
			if (ToField.Project)
				return FinanceEnterpriseGroup.ProjectOrder
			if (ToField.Dimension1)
				return FinanceEnterpriseGroup.FinanceDimension1Order
			if (ToField.Dimension2)
				return FinanceEnterpriseGroup.FinanceDimension2Order
			if (ToField.Dimension3)
				return FinanceEnterpriseGroup.FinanceDimension3Order
			if (ToField.Dimension4)
				return FinanceEnterpriseGroup.FinanceDimension4Order
			if (ToField.Dimension5)
				return FinanceEnterpriseGroup.FinanceDimension5Order
			if (ToField.Dimension6)
				return FinanceEnterpriseGroup.FinanceDimension6Order
			if (ToField.Dimension7)
				return FinanceEnterpriseGroup.FinanceDimension7Order
			if (ToField.Dimension8)
				return FinanceEnterpriseGroup.FinanceDimension8Order
			if (ToField.Dimension9)
				return FinanceEnterpriseGroup.FinanceDimension9Order
			if (ToField.Dimension10)
				return FinanceEnterpriseGroup.FinanceDimension10Order
		DerivedFromLabel is a DerivedField
			type is Alpha 30
			if (FromField.Ledger)
				return "Ledger"
			if (FromField.AccountingEntity)
				return FinanceEnterpriseGroup.AccountingEntityLabel
			if (FromField.AccountingUnit)
				return FinanceEnterpriseGroup.AccountingUnitLabel
			if (FromField.Account)
				return FinanceEnterpriseGroup.AccountLabel
			if (FromField.Project)
				return FinanceEnterpriseGroup.ProjectLabel
			if (FromField.Dimension1)
				return FinanceEnterpriseGroup.FinanceDimension1Label
			if (FromField.Dimension2)
				return FinanceEnterpriseGroup.FinanceDimension2Label
			if (FromField.Dimension3)
				return FinanceEnterpriseGroup.FinanceDimension3Label
			if (FromField.Dimension4)
				return FinanceEnterpriseGroup.FinanceDimension4Label
			if (FromField.Dimension5)
				return FinanceEnterpriseGroup.FinanceDimension5Label
			if (FromField.Dimension6)
				return FinanceEnterpriseGroup.FinanceDimension6Label
			if (FromField.Dimension7)
				return FinanceEnterpriseGroup.FinanceDimension7Label
			if (FromField.Dimension8)
				return FinanceEnterpriseGroup.FinanceDimension8Label
			if (FromField.Dimension9)
				return FinanceEnterpriseGroup.FinanceDimension9Label
			if (FromField.Dimension10)
				return FinanceEnterpriseGroup.FinanceDimension10Label
		DerivedToLabel is a DerivedField
			type is Alpha 30
			if (ToField.AccountingEntity)
				return FinanceEnterpriseGroup.AccountingEntityLabel
			if (ToField.AccountingUnit)
				return FinanceEnterpriseGroup.AccountingUnitLabel
			if (ToField.Account)
				return FinanceEnterpriseGroup.AccountLabel
			if (ToField.Project)
				return FinanceEnterpriseGroup.ProjectLabel
			if (ToField.Dimension1)
				return FinanceEnterpriseGroup.FinanceDimension1Label
			if (ToField.Dimension2)
				return FinanceEnterpriseGroup.FinanceDimension2Label
			if (ToField.Dimension3)
				return FinanceEnterpriseGroup.FinanceDimension3Label
			if (ToField.Dimension4)
				return FinanceEnterpriseGroup.FinanceDimension4Label
			if (ToField.Dimension5)
				return FinanceEnterpriseGroup.FinanceDimension5Label
			if (ToField.Dimension6)
				return FinanceEnterpriseGroup.FinanceDimension6Label
			if (ToField.Dimension7)
				return FinanceEnterpriseGroup.FinanceDimension7Label
			if (ToField.Dimension8)
				return FinanceEnterpriseGroup.FinanceDimension8Label
			if (ToField.Dimension9)
				return FinanceEnterpriseGroup.FinanceDimension9Label
			if (ToField.Dimension10)
				return FinanceEnterpriseGroup.FinanceDimension10Label
    	DerivedDescription is a DerivedField
    		type is Alpha 250
    		return DerivedFromLabel + " To " + DerivedToLabel
			
	Local Fields
		LocalLedger							is AlphaUpper size 20
		LocalAccountingEntity				is AlphaUpper size 12
		LocalAccountingUnit					is AlphaUpper size 25
		LocalDetailType						is Numeric 2
		LocalRowType						is Numeric 2

	Relations
		CodeBlockRelationDetailRel is a CodeBlockRelationDetail set
		CodeBlockRelationRuleRel
			one-to-many relation to CodeBlockRelationRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.CodeBlockRelation				= CodeBlockRelation
			Instance Selection
				where (related.Active)
		DynamicCodeBlockRelationRuleRel
			one-to-many relation to CodeBlockRelationRule
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.CodeBlockRelation				= CodeBlockRelation
			Instance Selection
				where (related.Active
				and	   related.DynamicCreate)
		StructureDetailByTypeRel
			one-to-one relation to StructureDetail
			Field Mapping uses ByType
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.Type							= LocalDetailType
		StructureRowByTypeRel
			one-to-one relation to StructureRow
			Field Mapping uses ByType
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.Type							= LocalRowType
		StructureRowValueRel
			one-to-one relation to StructureRowValue
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
				related.StructureRow					= StructureRowByTypeRel.StructureRow
				related.StructureDetail					= StructureDetailByTypeRel.StructureDetail
	
	Sets
		ByFromToAll
			Sort Order
				FinanceEnterpriseGroup
				FromField
				ToField
				
		ByToFromAll
			Sort Order
				FinanceEnterpriseGroup
				ToField
				FromField
				
		ByFromTo
			Sort Order
				FinanceEnterpriseGroup
				FromField
				ToField
			Instance Selection
				where (Active)
				
		ByToFrom
			Sort Order
				FinanceEnterpriseGroup
				ToField
				FromField
			Instance Selection
				where (Active)
		
	Conditions
		UsesAccountingUnit
			restricted
			when (FinanceEnterpriseGroup.AccountingUnitLabel entered)
		UsesProject
			restricted
			when (FinanceEnterpriseGroup.ProjectLabel entered)
		UsesDim1
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension1Label entered)
		UsesDim2
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension2Label entered)
		UsesDim3
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension3Label entered)
		UsesDim4
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension4Label entered)
		UsesDim5
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension5Label entered)
		UsesDim6
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension6Label entered)
		UsesDim7
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension7Label entered)
		UsesDim8
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension8Label entered)
		UsesDim9
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension9Label entered)
		UsesDim10
			restricted
			when (FinanceEnterpriseGroup.FinanceDimension10Label entered)
		IsFromLedger
			restricted
			when (FromField.Ledger)
		IsFromAccountingEntity	
			restricted
			when (FromField.AccountingEntity)
		IsFromAccountingUnit
			restricted
			when (FromField.AccountingUnit)
		IsFromAccount
			restricted
			when (FromField.Account)
		IsFromProject
			restricted
			when (FromField.Project)
		IsFromDimension1
			restricted
			when (FromField.Dimension1)
		IsFromDimension2
			restricted
			when (FromField.Dimension2)
		IsFromDimension3
			restricted
			when (FromField.Dimension3)
		IsFromDimension4
			restricted
			when (FromField.Dimension4)
		IsFromDimension5
			restricted
			when (FromField.Dimension5)
		IsFromDimension6
			restricted
			when (FromField.Dimension6)
		IsFromDimension7
			restricted
			when (FromField.Dimension7)
		IsFromDimension8
			restricted
			when (FromField.Dimension8)
		IsFromDimension9
			restricted
			when (FromField.Dimension9)
		IsFromDimension10
			restricted
			when (FromField.Dimension10)			

		IsToAccountingEntity
			restricted
			when (ToField.AccountingEntity)
		IsToAccountingUnit
			restricted
			when (ToField.AccountingUnit)
		IsToAccount
			restricted
			when (ToField.Account)
		IsToProject
			restricted
			when (ToField.Project)
		IsToDimension1
			restricted
			when (ToField.Dimension1)
		IsToDimension2
			restricted
			when (ToField.Dimension2)
		IsToDimension3
			restricted
			when (ToField.Dimension3)
		IsToDimension4
			restricted
			when (ToField.Dimension4)
		IsToDimension5
			restricted
			when (ToField.Dimension5)
		IsToDimension6
			restricted
			when (ToField.Dimension6)
		IsToDimension7
			restricted
			when (ToField.Dimension7)
		IsToDimension8
			restricted
			when (ToField.Dimension8)
		IsToDimension9
			restricted
			when (ToField.Dimension9)
		IsToDimension10
			restricted
			when (ToField.Dimension10)
		ShowFromDescription
			restricted
			when (ToField entered)
		IsSystemRelation
			restricted
			when ((IsFromLedger
			and    IsToAccountingEntity)
			or    (IsFromAccountingEntity
			and    IsToAccountingUnit))
		Dimension1UnitControl
			restricted
			when (((IsFromDimension1
			and   IsToAccount)
			or    (IsFromAccount
			and    IsToDimension1))
			and   FinanceEnterpriseGroup.UnitControl.Dimension1)
		AUUnitControl
			restricted
			when (((IsFromAccountingUnit
			and   IsToAccount)
			or    (IsFromAccount
			and   IsToAccountingUnit))
			and   FinanceEnterpriseGroup.UnitControl.AccountingUnit)
		ShowUnitOption
			restricted
			when (!FinanceEnterpriseGroup.UnitControl.Account)
		SystemDefinedRelations	
			restricted
			when ((FromField		= 0
			and    ToField			= 1)
			or    (FromField		= 1
			and    ToField			= 2))
		StructureRowValueExists
			restricted
			when (StructureRowValueRel exists)
					
	Field Rules
		Description
			required		
		FromField

			cannot be changed
			default to TransientFrom.Type
			constraint (FromField != ToField)
				"FromFieldCannotBeTheSameAsToField"	
			if (FromField.AccountingUnit)
				constraint (UsesAccountingUnit)
					"AccountingUnitIsNotBeingUsed"
			if (FromField.Project)
				constraint (UsesProject)
					"ProjectIsNotBeingUsed"
			if (FromField.Dimension1)
				constraint (UsesDim1)
					"Dimension1IsNotBeingUsed"	
			if (FromField.Dimension2)
				constraint (UsesDim2)
					"Dimension2IsNotBeingUsed"	
			if (FromField.Dimension3)
				constraint (UsesDim3)
					"Dimension3IsNotBeingUsed"
			if (FromField.Dimension4)
				constraint (UsesDim4)
					"Dimension4IsNotBeingUsed"
			if (FromField.Dimension5)
				constraint (UsesDim5)
					"Dimension5IsNotBeingUsed"
			if (FromField.Dimension6)
				constraint (UsesDim6)
					"Dimension6IsNotBeingUsed"
			if (FromField.Dimension7)
				constraint (UsesDim7)
					"Dimension7IsNotBeingUsed"
			if (FromField.Dimension8)
				constraint (UsesDim8)
					"Dimension8IsNotBeingUsed"
			if (FromField.Dimension9)
				constraint (UsesDim9)
					"Dimension9IsNotBeingUsed"
			if (FromField.Dimension10)
				constraint (UsesDim10)
					"Dimension10IsNotBeingUsed"								
		ToField
			required
			cannot be changed
			default to TransientTo.Type
			constraint (DerivedFromOrder < DerivedToOrder)
				"FromFieldOrderMustBeLessThanToFieldOrder"
			if (ToField.AccountingUnit)
				constraint (UsesAccountingUnit)
					"AccountingUnitIsNotBeingUsed"
			if (ToField.Project)
				constraint (UsesProject)
					"ProjectIsNotBeingUsed"
			if (ToField.Dimension1)
				constraint (UsesDim1)
					"Dimension1IsNotBeingUsed"	
			if (ToField.Dimension2)
				constraint (UsesDim2)
					"Dimension2IsNotBeingUsed"	
			if (ToField.Dimension3)
				constraint (UsesDim3)
					"Dimension3IsNotBeingUsed"
			if (ToField.Dimension4)
				constraint (UsesDim4)
					"Dimension4IsNotBeingUsed"
			if (ToField.Dimension5)
				constraint (UsesDim5)
					"Dimension5IsNotBeingUsed"
			if (ToField.Dimension6)
				constraint (UsesDim6)
					"Dimension6IsNotBeingUsed"
			if (ToField.Dimension7)
				constraint (UsesDim7)
					"Dimension7IsNotBeingUsed"
			if (ToField.Dimension8)
				constraint (UsesDim8)
					"Dimension8IsNotBeingUsed"
			if (ToField.Dimension9)
				constraint (UsesDim9)
					"Dimension9IsNotBeingUsed"
			if (ToField.Dimension10)
				constraint (UsesDim10)
					"Dimension10IsNotBeingUsed"















			
	Attach Rules


			
	Actions
		Create is a Create Action
			completion message is "FinanceStructureRelationCreated"
			
			Field Rules
				Active

					if (IsSystemRelation)
						force default to true
						constraint (Active)
							"CannotInactivateSystemDefinedRelation"
					else
						force default to false
						if (Active)
							constraint (CodeBlockRelationDetailRel exists)
								"CannotBeActiveIfNoRelationDetailsExist"
					
			Exit Rules
				LocalRowType						= FromField
				LocalDetailType						= ToField
				if (!StructureRowValueExists)
					invoke CreateFromRelation StructureRowValue
						invoked.FinanceEnterpriseGroup			= FinanceEnterpriseGroup
						invoked.StructureRow					= StructureRowByTypeRel.StructureRow
						invoked.StructureDetail					= StructureDetailByTypeRel.StructureDetail
						invoked.Value							= true
				if (StructureRowValueExists)
					invoke Update StructureRowValueRel
						invoked.Value							= true
				invoke ValidateCodeBlockRelation FinanceEnterpriseGroup
				
		CreateFromMatrix is a Create Action
			restricted
			completion message is "FinanceStructureRelationCreated"
			
			Field Rules
				Active

					if (IsSystemRelation)
						force default to true
						constraint (Active)
							"CannotInactivateSystemDefinedRelation"
					else
						force default to false
						if (Active)
							constraint (CodeBlockRelationDetailRel exists)
								"CannotBeActiveIfNoRelationDetailsExist"
				
			Exit Rules
				invoke ValidateCodeBlockRelation FinanceEnterpriseGroup			
		
		Update is an Update Action
			completion message is "FinanceStructureRelationUpdated"
			
			Field Rules
				Active
					if (IsSystemRelation)
						default to true
						constraint (Active)
							"CannotInactivateSystemDefinedRelation"
					else
						default to false
						if (Active)
							constraint (CodeBlockRelationDetailRel exists)
								"CannotBeActiveIfNoRelationDetailsExist"
			Exit Rules
				if (Active changed)		
					invoke ValidateCodeBlockRelation FinanceEnterpriseGroup
		SystemUpdate is an Update Action
			completion message is "FinanceStructureRelationUpdated"
			restricted
			bypass field rules
			Action Rules
				Description			= DerivedDescription
		Delete is an Instance Action
			run in background
			completion message is "FinanceStructureRelationDeleted"
			valid when (!IsSystemRelation)
			
			Local Fields
				LocalRecordCount			is Numeric 3
			
			Action Rules
				initialize LocalRecordCount
				for each CodeBlockRelationDetailRel
					invoke MassDelete each
					LocalRecordCount +=1
					if (LocalRecordCount > 100)
						commit transaction
						initialize LocalRecordCount
			Exit Rules
				LocalRowType						= FromField
				LocalDetailType						= ToField
				if (StructureRowValueExists)
					invoke RemoveValue StructureRowValueRel
				invoke Remove
				invoke ValidateCodeBlockRelation FinanceEnterpriseGroup
				
		RemoveAllDetails is an Instance Action
			completion message is "DeleteOfRelationDetailsSubmitted"
			valid when (!IsSystemRelation)
			lazily lock this instance
			confirmation required
				"AllRecordsIncludingManuallyCreatedDetailsWillBePermanentlyDeleted"			



			Action Rules
				invoke DeleteAllForRelation CodeBlockRelationDetail in background
					invoked.PrmEnterpriseGroup				= FinanceEnterpriseGroup
					invoked.PrmCodeBlockRelation			= CodeBlockRelation







					
		SystemDelete is an Instance Action
			restricted
			run in background
			completion message is "FinanceStructureRelationDeleted"
			
			Local Fields
				LocalRecordCount			is Numeric 3
			
			Action Rules
				initialize LocalRecordCount
				for each CodeBlockRelationDetailRel
					invoke MassDelete each
					LocalRecordCount +=1
					if (LocalRecordCount > 100)
						commit transaction
						initialize LocalRecordCount
			Exit Rules
				invoke Remove
				invoke ValidateCodeBlockRelation FinanceEnterpriseGroup

		SystemDeleteOfFEG is an Instance Action
			restricted
			run in background
			completion message is "FinanceStructureRelationDeleted"
			
			Local Fields
				LocalRecordCount			is Numeric 3
			
			Action Rules
				initialize LocalRecordCount
				for each CodeBlockRelationDetailRel
					invoke MassDelete each
					LocalRecordCount +=1
					if (LocalRecordCount > 100)
						commit transaction
						initialize LocalRecordCount
			Exit Rules
				invoke Remove

		
		Remove is a Delete Action
			restricted
		
		GenerateValidationPairsUsingRules is an Instance Action
			run in background
			lazily lock this instance
			Action Rules
				for each CodeBlockRelationRuleRel	
					invoke GenerateValidationPairs each in background
					
		RemoveValidationPairsUsingRules is an Instance Action
			run in background
			lazily lock this instance
			Action Rules
				for each CodeBlockRelationRuleRel
					invoke RemoveValidationPairs each in background
				
		NotifyNewComponent is an Instance Action
			restricted
			run in background
			lazily lock this instance
			Parameters
				PrmFinanceEnterpriseGroup				is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
				PrmCodeBlockRelation					is a CodeBlockRelation
					default label is "CodeBlockRelation"
				PrmNewAccountingEntity					is like AccountingEntity
					default label is "NewAccountingEntity"
				PrmNewAccountingUnit					is like AccountingUnit
					default label is "NewAccountingUnit"
				PrmNewAccount							is like GeneralLedgerChartAccount
					default label is "NewAccount"
				PrmNewDimension1						is like FinanceDimension1
					default label is "NewDimension1"
				PrmNewDimension2						is like FinanceDimension2
					default label is "NewDimension2"
				PrmNewDimension3						is like FinanceDimension3
					default label is "NewDimension3"
				PrmNewDimension4						is like FinanceDimension4
					default label is "NewDimension4"
				PrmNewDimension5						is like FinanceDimension5
					default label is "NewDimension5"
				PrmNewDimension6						is like FinanceDimension6
					default label is "NewDimension6"
				PrmNewDimension7						is like FinanceDimension7
					default label is "NewDimension7"
				PrmNewDimension8						is like FinanceDimension8
					default label is "NewDimension8"
				PrmNewDimension9						is like FinanceDimension9
					default label is "NewDimension9"
				PrmNewDimension10						is like FinanceDimension10
					default label is "NewDimension10"
				PrmNewProject							is like Project
					default label is "NewProject"



				
			Action Rules
			



				for each DynamicCodeBlockRelationRuleRel	
					if (PrmNewAccountingEntity entered
					and PrmNewAccountingUnit not entered)
						if (FromField.AccountingEntity)
							invoke NewFromAccountingEntity each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewAccountingEntity		= PrmNewAccountingEntity
						else
						if (ToField.AccountingEntity)
							invoke NewToAccountingEntity each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewAccountingEntity		= PrmNewAccountingEntity
					else
					if (PrmNewAccountingUnit entered)
						if (FromField.AccountingUnit)
							invoke NewFromAccountingUnit each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewAccountingEntity		= PrmNewAccountingEntity
								invoked.PrmNewAccountingUnit		= PrmNewAccountingUnit
						else
						if (ToField.AccountingUnit)
							invoke NewToAccountingUnit each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewAccountingEntity		= PrmNewAccountingEntity
								invoked.PrmNewAccountingUnit		= PrmNewAccountingUnit
					else
					if (PrmNewAccount entered)
						if (FromField.Account)
							invoke NewFromAccount each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewAccount				= PrmNewAccount
						else
						if (ToField.Account)
							invoke NewToAccount each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewAccount				= PrmNewAccount
					else
					if (PrmNewProject entered)
						if (FromField.Project)
							invoke NewFromProject each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewProject				= PrmNewProject
						else
						if (ToField.Project)
							invoke NewToProject each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewProject				= PrmNewProject
					else
					if (PrmNewDimension1 entered)
						if (FromField.Dimension1)
							invoke NewFromDimension1 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension1			= PrmNewDimension1
						else
						if (ToField.Dimension1)
							invoke NewToDimension1 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension1			= PrmNewDimension1
					else
					if (PrmNewDimension2 entered)
						if (FromField.Dimension2)
							invoke NewFromDimension2 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension2			= PrmNewDimension2
						else
						if (ToField.Dimension2)
							invoke NewToDimension2 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension2			= PrmNewDimension2
					else
					if (PrmNewDimension3 entered)
						if (FromField.Dimension3)
							invoke NewFromDimension3 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension3			= PrmNewDimension3
						else
						if (ToField.Dimension3)
							invoke NewToDimension3 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension3			= PrmNewDimension3
					else
					if (PrmNewDimension4 entered)
						if (FromField.Dimension4)
							invoke NewFromDimension4 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension4			= PrmNewDimension4
						else
						if (ToField.Dimension4)
							invoke NewToDimension4 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension4			= PrmNewDimension4
					else
					if (PrmNewDimension5 entered)
						if (FromField.Dimension5)
							invoke NewFromDimension5 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension5			= PrmNewDimension5
						else
						if (ToField.Dimension5)
							invoke NewToDimension5 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension5			= PrmNewDimension5
					else
					if (PrmNewDimension6 entered)
						if (FromField.Dimension6)
							invoke NewFromDimension6 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension6			= PrmNewDimension6
						else
						if (ToField.Dimension6)
							invoke NewToDimension6 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension6			= PrmNewDimension6
					else
					if (PrmNewDimension7 entered)
						if (FromField.Dimension7)
							invoke NewFromDimension7 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension7			= PrmNewDimension7
						else
						if (ToField.Dimension7)
							invoke NewToDimension7 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension7			= PrmNewDimension7
					else
					if (PrmNewDimension8 entered)
						if (FromField.Dimension8)
							invoke NewFromDimension8 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension8			= PrmNewDimension8
						else
						if (ToField.Dimension8)
							invoke NewToDimension8 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension8			= PrmNewDimension8
					else
					if (PrmNewDimension9 entered)
						if (FromField.Dimension9)
							invoke NewFromDimension9 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension9			= PrmNewDimension9
						else
						if (ToField.Dimension9)
							invoke NewToDimension9 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension9			= PrmNewDimension9
					else
					if (PrmNewDimension10 entered)
						if (FromField.Dimension10)
							invoke NewFromDimension10 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension10			= PrmNewDimension10
						else
						if (ToField.Dimension10)
							invoke NewToDimension10 each
								invoked.PrmFinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
								invoked.PrmCodeBlockRelation		= PrmCodeBlockRelation
								invoked.PrmCodeBlockRelationRule	= each.CodeBlockRelationRule
								invoked.PrmNewDimension10			= PrmNewDimension10


					




















			
