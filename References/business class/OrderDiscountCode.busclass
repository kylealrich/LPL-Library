OrderDiscountCode is a BusinessClass
    owned by bl
    prefix is OOD
    classic name is OEORDDISC

    Ontology
        symbolic key is OrderDiscountCode



    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields
		Currency
        Description

        DollarLimits        is a DollarLimitX6InOeorddisc
            classic name is DOLLAR-LIMIT
        Percents            is a PctX6InOeorddisc
            classic name is PCT
        DistributionAccount is a FinanceCodeBlock
            classic name for DistributionAccount.AccountingUnit is ACCT-UNIT
            classic name for DistributionAccount.GeneralLedgerChartAccount is ACCOUNT

    Conditions

        IsCurrEntered
        	restricted
            when (Currency entered)

   	Local Fields
   		LoopCounter                is Numeric 1

    Field Rules

        Description
            required
            
        Currency
			default to Company.Currency
			required

			if (Company.MultipleCurrency)
				constraint (Currency = Company.Currency)
					"OnlyBaseCurrencyCanBeEntered"
        	
        DistributionAccount
        	required    

		DollarLimits
			
			if (DollarLimits.DollarLimit[1] not entered)
				DollarLimits.DollarLimit[1] = 99999999999
			
			initialize LoopCounter
			LoopCounter  = 1
			while (LoopCounter <= 6)	   
				if (DollarLimits.DollarLimit[LoopCounter] entered)
					if (LoopCounter != 1)
						constraint (Percents.Pct[LoopCounter] entered)
					    	"MonetaryLimitEntered;PercentCannotBeBlank"
				else
					if (Percents.Pct[LoopCounter] entered)
						constraint (DollarLimits.DollarLimit[LoopCounter] entered)
							"MonetaryLimitIsRequired;PercentIsEntered"				
					
					if (LoopCounter != 6)
						if (DollarLimits.DollarLimit[LoopCounter] not entered)
							constraint (DollarLimits.DollarLimit[LoopCounter+1] not entered)
								"MustEnterMonetaryLimit;NextLimitIsEntered"					
					
					constraint (DollarLimits.DollarLimit[LoopCounter-1] = 99999999999)
						"LastMonetaryLimitMustBe99999999999"
					end while

				LoopCounter += 1
    	
    	Percents
			if (Percents not entered)
	    		if (DollarLimits.DollarLimit[1] = 99999999999)
		    		constraint (Percents.Pct[1] > 0%)
	    				"AtleastOnePercentShouldBeEntered"				
    			
	Actions
		Create is a Create Action
			
		Update is an Update Action
		
		Delete is a Delete Action
