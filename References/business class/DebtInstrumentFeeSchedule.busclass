DebtInstrumentFeeSchedule is a BusinessClass
    owned by treasury
    prefix is DMIFS

    Ontology
    	symbolic key is DebtInstrumentFeeSchedule

	Patterns
		implements AnalyticCube
 			disable continuous update
 			
    Persistent Fields
		DebtFeeCode
		PaymentDate			  	is an ExchangeDate
			default label is "Date"
		PaymentAmount		  	is an InternationalCost
			default label is "Payment"
			precision is 2
		CashTransactionCategory is a snapshot of DebtInstrument.CashTransactionCategory
		
	Local Fields
		LocalCashForecast 		is a CashForecast
		
	Derived Fields
		PaymentDatePeriod is a DerivedField
			type is Numeric size 2
			restricted
			return PaymentDate month
			
		PaymentDateYear	is a DerivedField
			type is Numeric size 4
			restricted
			return PaymentDate year
		
		CurrentDate is a DerivedField
			type is Date
			restricted
			return current corporate date
			
		CurrentPeriod is a DerivedField
			type is Numeric 2
			restricted
			return CurrentDate month
		
		CurrentYear is a DerivedField
			type is Numeric 4
			restricted
			return CurrentDate year
		
		DebtFeeTransactionMessage is a MessageField
			restricted
			"DebtFeeTransaction"
		
		CorporateBasePaymentAmount is a DerivedField
			type is like InternationalCost
				precision is 2
			default label is "Payment"
			if (DebtInstrument.DebtCurrencyEqualsCorporateBaseCurrency)
				return PaymentAmount
			else
			if (DebtInstrument.MultiplyBaseCurrencyRate)
				return (PaymentAmount * DebtInstrument.CorporateBaseCurrencyExchange.EnteredCurrencyRate)
			else
				return (PaymentAmount / DebtInstrument.CorporateBaseCurrencyExchange.EnteredCurrencyRate)
				
		LocationCurrencyPaymentAmount is a DerivedField
			type is like InternationalCost
				precision is 2
			default label is "Payment"
			restricted
			if (DebtInstrument.DebtCurrencyEqualsLocationCurrency)
				return PaymentAmount
			else
			if (DebtInstrument.MultiplyBaseCurrencyRate)
				return (PaymentAmount * DebtInstrument.LocationCurrencyExchange.EnteredCurrencyRate)
			else
				return (PaymentAmount / DebtInstrument.LocationCurrencyExchange.EnteredCurrencyRate)
			
	Dimensions
		CashManagementGroup
		PaymentDatePeriod 
	    	is a monthly period dimension with year of PaymentDateYear
	    		current year is CurrentYear
	    		current period is CurrentPeriod
	    DebtInstrument
		DebtFeeCode
		DebtInstrument.DebtType
			dimension name is DebtType
		DebtInstrument.CashManagementLocation
			dimension name is CashManagementLocation
		DebtInstrument.LegalEntityGroup.LegalEntity
			dimension name is LegalEntity
		
	Measures
		PaymentAmount
		CorporateBasePaymentAmount
		LocationCurrencyPaymentAmount
	
	Sets
		ByPaymentDate
			Sort Order
				CashManagementGroup
				DebtInstrument
				PaymentDate
				DebtInstrumentFeeSchedule
		
	Relations







			
	Actions
		Create is a Create Action
			restricted
				
		Update is an Update Action
			restricted
			





































						
		Delete is a Delete Action
			restricted
	
		Purge is a Purge Action
			restricted
