BL820Bl820Idx is a BusinessClass
    owned by bl
    prefix is W3520

    Patterns
        disable StaticTranslations
        implements WorkFile

    Persistent Fields
        WorkFile                		    is UniqueID
        WorkFileSeq                         is Numeric size 12
        FinanceEnterpriseGroup
        Company                 			 
        InvoicePrefix              			
        InvoiceNumber            	 	 	
        LineNumber                	
        RecordType              		    is Numeric size 1			
        Sequence 
		BatchNumber						 	
		ProcessLevel				 	
        Location           								
        AutoApply 							is AlphaUpper size 1       					
        BillTo           					
        Customer							is like Customer           					
        CustomerShipTo						is like CustomerShipTo           			
        ReceivableDetailPosting    		  	
        BillingInvoiceType					is like BillingInvoiceType         		  	
        BillingInvoiceSource       		  	
        InvoiceDate       					is Date			
        TaxPointDate       					is Date
        PriceDate         					is Date
        Status            					is Numeric size 1
        GeneralLedgerDate  	       		   	is Date
        CheckNumber         				is Numeric size 8
        TermsCode				           	is like TermsCode	 			
        BankTransactionCode		 			is like BankTransactionCode   	 			
        HoldCode                           
        ReasonCode       			 			
        ListName          			 			
        Reference         			 			
        LetterOfCredit       		 			
        CustomerOrder          		 		is like CustomerOrder 	
        WarehouseShipment					is like WarehouseShipment       	 		
        EnteredDiscount    	 		 		is like InternationalAmount  
        AddOnDiscount      			 		is like InternationalAmount  
        CashInAdvanceAmount   		 		is like InternationalAmount  
        CashInAdvanceBaseAmount		 		is like InternationalAmount  
        OpenOrderAmount     		 		is like InternationalAmount  
      	CashOnDeliveryPrint       	 		is Boolean
		ElectronicPaymentType				is AlphaUpper size 2
      	ElectronicPaymentAccount       		is like BillingCustomerCreditCard 
      	ElectronicPaymentExpirationDate		is Date
      	TaxCode         					is like TaxCode  	 			
      	Territory          					is like Territory  			
      	SalesRepresentative   				is like SalesRepresentative 	        			
      	SalesRepresentative2   		      	is like SalesRepresentative
      	CommissionRate1						is a ChrgRate
      	CommissionRate2 					is a ChrgRate
      	CommissionSplitPercentage  		    
      	LastAddOnChargeSequence    		 	is a Sequence3
      	LastLineNumber      				is a LineNumber
      	LastTopCommentLine        			is a Sequence3
      	LastBottomCommentLine      		  	is a Sequence3
      	CurrencyCode   						is like Currency 
      	CurrencyMultiplicationOrDivision	is AlphaUpper size 1
      	CurrencyRate        				is Percent size 7.5
      	CurrencyNumberOfDecimals            is Numeric size 3
      	Revalue         					is AlphaUpper size 1
      	TotalInventoryGoodsAmount       	is like InternationalAmount  
      	TotalInventoryGoodsBaseAmount   	is like InternationalAmount  
      	TotalNonInventoryGoodsAmount    	is like InternationalAmount  
      	TotalNonInventoryGoodsBaseAmount	is like InternationalAmount  
      	TotalGoodsAmount      				is like InternationalAmount  
      	TotalGoodsAmountBaseAmount  		is like InternationalAmount  
      	TotalAddOnAmount       				is like InternationalAmount  
      	TotalAddOnBaseAmount   				is like InternationalAmount  
      	FreightCode       			 		
      	FreightChargeAmount       			is like InternationalAmount  
      	FreightChargeBaseAmount     		is like InternationalAmount  
      	Discountable     					is like InternationalAmount  
      	OrderDiscount     					is like InternationalAmount  
      	OrderDiscountBaseAmount     		is like InternationalAmount  
      	RecurringInvoiceParameter      		is like RecurringInvoiceParameter							 
      	BillDate           					is Date
      	TaxableTotal    					is like InternationalAmount  
      	TaxTotalAmount     		   			is like InternationalAmount  
      	TaxTotalBaseAmount 	   				is like InternationalAmount  
      	CustomerPurchaseOrder  		      	is like	CustomerPurchaseOrder
      	ShipDate          					is Date
      	ReceivableGeneralLedgerCode    		is like ReceivableGeneralLedgerCode
      	UserDefinedField1        			is like TransUser1          
      	UserDefinedField2    	    		is like S3Agent				
      	UserDefinedField3       	 		is Date                     
      	UserDefinedField4        			is like TransUser4          
      	UserDefinedField5      				is like InternationalAmount 
      	TaxExemptCode      					
      	OrderEntryOperator        			is like OrderEntryOperator	 	
	  	GlobalDocumentType      			is like GlobalDocumentType

        LineType							is AlphaUpper size 1
        Item								is like Item
        Description							
        Quantity							
        InvoiceCatchWeightQuantity          is like Quantity	  
        SellingPriceUnitOfMeasure           is like UnitOfMeasure 
        SellingUnitOfMeasure                is like UnitOfMeasure 
        SecondaryUOM                        is like UnitOfMeasure 
        MultipleSellPrice					is AlphaUpper size 1
        SellingPriceToStockConversionFactor is like UOMConversion 
        SellToStock							is like UOMConversion      
        SecondaryUOMMultiplier              is like UOMMultiplier     
        PriceStatus							is AlphaUpper size 1
        EnteredPrice                        is like UnitCost    
        UnitPrice                           is like InternationalCost 
        SellingPrice                        is like InternationalCost 
        PriceInSellingUnitOfMeasure         is like InternationalCost 
        UnitCost                           	is like InternationalCost 
        CurrentCost                         is like InternationalCost 
  		NoCharge							is AlphaUpper size 1
        AllocatedDiscount               	is like InternationalCost 
        TaxableBaseCurrencyAmount           is like InternationalAmount 
        TaxableCurrencyAmount               is like InternationalAmount
        TaxBaseCurrencyAmount         		is like InternationalAmount
        PriceDiscountCode					is like PriceDiscountCode 
		OrderDiscountFlag					is AlphaUpper size 1
		ContractNumber						is AlphaUpper size 14
        Promotion							
        Project								is AlphaUpper size 25
		FinalInvoice						is AlphaUpper size 1
        SalesGLAccount     					is a TransactionCodeBlock    
        SalesMajorClass 					is like MajorClass
        SalesMinorClass 					is like MinorClass                    
		DiscountAmount1						is like InternationalAmount 
		DiscountAccount1					is a TransactionCodeBlock
		DiscountAmount2						is like InternationalAmount
		DiscountAccount2					is a TransactionCodeBlock		
		DiscountAmount3						is like InternationalAmount
		DiscountAccount3					is a TransactionCodeBlock
		DiscountBaseAmount					is like InternationalAmount 
		OffsetAccount                       is a TransactionCodeBlock
		COGSAccount                         is a TransactionCodeBlock
		LastCommentSequence 				is like Sequence3		
        UserField1                          is a PurchaseOrderUserField2
        UserField2                          is a UserFld2
        UserField3                          is a UserFld3
        LineGrossAmount                     is a CurrencyAmount
        LineGrossBaseAmount 				is like InternationalAmount  
        LineNetAmount						is like CurrencyExchangeGroup
		GlobalLineType		           		is like GlobalLineType

        UnitOfMeasure						is like UnitOfMeasure
        Lot									is like ItemLot
        Sublot
        Bin									is like Bin
        Serial        						is like ItemSerialNumber
        UnitOfMeasureMultiplier    			is an UOMMultiplier

        UnitOfMeasures 						is like UomX10InOeinvcuom
        UomMults       						is like UomMultX10InOeinvcuom
        SellPriceFlags 						is like SellPriceFlX10InOeinvcuom
        SprQtys        						is like SprQtyX10InOeinvcuom
        UnitPrices     						is like UnitPriceX10InOeinvcuom

        Miscellaneous           			is a Misc  
		ChargeType							is Numeric size 1
		EnteredUnitPrice					is a UnitPrice
		Price								is like InternationalAmount 
		PricePercent 						is like CostPercent 
		CostPercent												
		CostBaseAmount						is like InternationalAmount 
		ChargeCurrencyAmount				is like InternationalAmount 
		ChargeBaseAmount					is like InternationalAmount 
		Cost								is like InternationalCost 

		PrintCode							is a BillingPrintCode
		Comment 							is Alpha 40

		ProductTaxCategory					is like ProductTaxCategory
		TaxID 
			holds pii
		TaxRate								is like ChrgRate 
		TaxCurrencyAmount					is like InternationalAmount 
		TaxBaseAmount						is like InternationalAmount 
		TaxAccount							is a TransactionCodeBlock
		TaxLevel							is AlphaUpper size 1
    Sets

        RecKey
            indexed
            no duplicates
            primary
            Sort Order
                WorkFile
                Company                 			 
		        InvoicePrefix              			
		        InvoiceNumber            	 	 	
		        LineNumber                	
		        RecordType              			
		        Sequence 

        InsertionOrderSet
            indexed
            no duplicates
            Sort Order
                WorkFile
                WorkFileSeq

    Actions

        Create is a Create Action

            Field Rules
                WorkFileSeq
                    autosequence

        Delete is a Delete Action

        DeleteAll is a Set Action
            restricted

            Parameters
                WorkFileHeader is UniqueID

            Instance Selection
                where (WorkFile = WorkFileHeader)

            Local Fields
                LWorkFileHeader is a WorkFile

            Parameter Rules
                WorkFileHeader
                    required
                    LWorkFileHeader = WorkFileHeader

            Action Rules
                Instance Rules
                    invoke Delete

                Empty Set Rules
                    invoke Purge LWorkFileHeader

                Set Rules
                    Exit Rules
                        invoke Purge LWorkFileHeader
