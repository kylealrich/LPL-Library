AssetProductCategory is a BusinessClass
    owned by am
    prefix is AMP
    classic name is AMPRODCAT

    Ontology
        symbolic key is AssetProductCategory
            classic set name is AMPSET2
            classic name for AssetProductCategory.ModelNumber is MODEL-NBR
            classic name for AssetType.Type is ASSET-TYPE

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        BarCode         is AlphaUpper size 30
        ItemDescription
            classic name is ITEM-DESC

    Sets










        Set4
            indexed
            Sort Order
                BarCode descending
                Company
                AssetType
                AssetProductCategory
                
	Local Fields
		LastBarCode			is Numeric 12
		AlphaBarCode		is Alpha 12
		
	Derived Fields
		NewBarCode				is a DerivedField
			type is Numeric 12
			restricted
			LastBarCode = 0
			if (LastBarCodeRel exists)
				LastBarCode = first LastBarCodeRel.BarCode[19:30]
				LastBarCode += (1 + 100000000000)
				return LastBarCode
			else
				return (100000000000 + 1)
				
		BarCodeString			is a DerivedField
			type is like BarCode
			restricted 
			AlphaBarCode = NewBarCode
			BarCodeString = ("0000000000000000000" + AlphaBarCode[2:12])
			
	Relations
		LastBarCodeRel
			one-to-many relation to AssetProductCategory
			Field Mapping uses Set4
				related.BarCode > "000000000000000000000000000000"
				
	Field Rules
		AssetProductCategory.Vendor
			required
				"ManufacturerIDIsRequired"
				
		AssetProductCategory.Manufacturer
			required
				"ManufacturerNameIsRequired"
				
				
		BarCode
			default to BarCodeString

			
	Actions
	
		Create is a Create Action
			Action Rules
			
        Update is an Update Action
			Action Rules

        Delete is a Delete Action
			Action Rules
                

