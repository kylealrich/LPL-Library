GlobalAtnpurge is a BusinessClass
    owned by workfile
    prefix is W7928

    Patterns
        disable StaticTranslations
        implements WorkFile

    Persistent Fields
        WorkFile                is UniqueID
        WorkFileSeq             is Numeric size 12
        AtnControlGroup         is like ControlGroup 
        AtnSequenceNbr          is like SequenceNumber 
        AtnObjId                is like ObjId 
        AtnTransType            is like TransType 
        AtnCompany              is like Company 
        AtnFromCompany          is like Company 
        AtnTranDate             is Date 
        AtnActivity             is like Project 
        AtnVarLevels            is like VarLevels 
        AtnStatus               is Numeric size 1
        AtnPostingDate          is Date 
        AtnSystem               is like GeneralLedgerSystemCode 
        AtnAcctUnit             is like AccountingUnit
        AtnAccount              is like GeneralLedgerChartAccount 
        AtnSubAccount           is like SubAccount 
        AtnDescription          is like Description 
        AtnReference            is like Reference 
        AtnUnitsAmount          is like UnitsAmount 
        AtnTranCurrency         is like Currency 
        AtnTranAmount           is like InternationalAmount
        AtnTranNd               is like NumberOfDecimals 
        AtnActCurrency          is like Currency 
        AtnActBaserate          is like Baserate 
        AtnActAmount            is like InternationalAmount
        AtnActNd                is Numeric size 1
        AtnAgCurrency           is like Currency 
        AtnAgBaserate           is like Baserate 
        AtnAgAmount             is like InternationalAmount
        AtnAgNd                 is like BaseNumberOfDecimals 
        AtnBillDate             is Date 
        AtnRunDate              is TimeStamp 
        AtnSourceCode           is Alpha size 2
        AtnBillRate             is like BillRate 
        AtnBillable             is like Billable 
        AtnBilled               is Alpha size 1
        AtnBillableAmt          is like InternationalAmount
        AtnBillableUnit         is like UnitsAmount 
        AtnOverrideFlag         is Boolean 
        AtnRevenueFlag          is like RevenueFlag 
        AtnCapitalizeFlg        is Alpha size 1
        AtnMatrixCat            is Alpha size 12
        AtnMxValue              is Alpha size up to 32
        AtnResourceType         is like ResourceType 
        AtnResourceCode         is like ResourceCode 
        AtnResourceDesc         is like Description 
        AtnUnitMeasure          is Alpha size 12
        AtnGltObjId             is like ObjId 
        AtnPeriod               is like Period 
        AtnFiscalYear           is Year 
        AtnAc191Updated         is Alpha size 1
        AtnReconciled           is Alpha size 1
        AtnSegmentFlag          is like SegmentFlag 
        AtnRptAmount1           is like InternationalAmount
        AtnRptRate1             is Decimal size 14.7
        AtnRptNd1               is like BaseNumberOfDecimals 
        AtnRptAmount2           is like InternationalAmount
        AtnRptRate2             is Decimal size 14.7
        AtnRptNd2               is like BaseNumberOfDecimals 
        AtnBrdnOrgObjid         is like ObjId 
        AtnOrigObjId            is like ObjId 
        AtnBilledAmt            is like InternationalAmount
        AtnRevenueAmt           is like InternationalAmount
        AtnExpenseCode          is like ExpenseCode 
        AtnReasonCode           is like ReasonCode 
        AtnCommentCd            is Numeric size 3
        AtnApPaid               is Alpha size 1
        AtnQuickPostFl          is Alpha size 1
        AtnTransferFl           is Alpha size 1
        AtnTransferAmt          is like InternationalAmount
        AtnBillMthd             is like BillingMethod 
        AtnRevMthd              is Alpha size 1
        AtnRevObjId             is like ObjId 
        AtnHoldObjId            is like ObjId 
        AtnCapitalizable        is Alpha size 1
        AtnCommentsFlag         is Alpha size 1

    Sets

        InsertionOrderSet
            indexed
            no duplicates
            primary
            Sort Order
                WorkFile
                WorkFileSeq

    Actions

        Create is a Create Action

            Field Rules
                WorkFileSeq
                    autosequence

        Delete is a Delete Action

        DeleteAll is a Set Action
            restricted

            Parameters
                WorkFileHeader is UniqueID

            Instance Selection
                where (WorkFile = WorkFileHeader)

            Local Fields
                LWorkFileHeader is a WorkFile

            Parameter Rules
                WorkFileHeader
                    required
                    LWorkFileHeader = WorkFileHeader

            Action Rules
                Instance Rules
                    invoke Delete

                Empty Set Rules
                    invoke Purge LWorkFileHeader

                Set Rules
                    Exit Rules
                        invoke Purge LWorkFileHeader
