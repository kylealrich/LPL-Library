SourcingEventLineComment is a BusinessClass
    owned by ss
    prefix is ECT

    Ontology
    	part of SourcingEventLine 
    		relative key is Title is a CommentName
    	
    Persistent Fields
    	Comment 							is RichText
       	Type								is AlphaUpper size 1
    		States
    			PrintOnInternalDocuments	value is "I"
    			PrintOnPurchaseOrder		value is "P"
    			PrintOnDeliveryTicket		value is "D"
    			PrintOnReceivingDocument	value is "R"
    			InvoiceComments				value is "N"
    			DisplayOnly					value is "O"
    			Event						value is "S"
    	CMComment							is Boolean
    	Attachment
    	SupplierCanView                     

    Field Rules
		Type
			default to Type.Event

			if (!SourcingEventLine.OutputType.PO)
				constraint (Type.DisplayOnly
				or          Type.PrintOnPurchaseOrder
				or          Type.InvoiceComments
				or          Type.Event)
					"TypeIsNotValidForContractOutputType"
		SupplierCanView
			default to true

	Conditions
		EligibleForCM
			restricted
			when ((Type.DisplayOnly
			or	   Type.PrintOnPurchaseOrder
			or	   Type.InvoiceComments
			or	   Type.Event)
			and	   SourcingEventLine.ContractOutput)

		HasAttachment
			restricted
			when (Attachment entered)

   	Actions
   		Create is a Create Action
   			Field Rules
   				CMComment
   					if (!SourcingEvent.CreateByCopy)
						default to true

   		Update is an Update Action
   		
   		Delete is a Delete Action
