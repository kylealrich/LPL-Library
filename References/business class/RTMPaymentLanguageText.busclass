RTMPaymentLanguageText is a BusinessClass
	owned by ar
	prefix is RTX
	classic name is ARRTMTX

	Ontology
		symbolic key is RTMPaymentLanguageText
			classic set name is RTXNEWPRIMARYINDEX

	Patterns
		implements StaticJava
		disable AuditIndex

	Persistent Fields

		RtmComments is a RtmCommentX3InArrtmtx
			classic name is RTM-COMMENT

	Transient Fields
		TransientEditNotes 		is Boolean
		TransientNotes			is Text
			derive value from TransientNotesDerived

	Local Fields

		LocalNotes	 			is Text
		LocalNotesLineLimit		is Numeric size 2
		LocalNotesLineTextLimit	is Numeric size 2
		LocalAssignCode			is Numeric size 3
		LocalValidateNotes		is Boolean


	Field Rules
		TransientEditNotes
			initial value is true
		TransientNotes
			required
				"AtLeastOneLineOfTextRequired"
			if (TransientNotes entered)
				initialize LocalAssignCode
				LocalValidateNotes = true
				LocalAssignCode = AssignNotes
				constraint (LocalAssignCode = 100)
					"<AssignErrorMessage>"

	Relations
		GeneralLedgerCompanyRel	
			one-to-one relation to GeneralLedgerCompany
			Field Mapping uses symbolic key
				related.Company		= RTMPaymentLanguageText.Company

	Conditions
		IsValidForActorContext
			restricted
			when (GeneralLedgerCompanyRel.FinanceEnterpriseGroup = actor.context.FinanceEnterpriseGroup)	
	
	Derived Fields

		RtmComment1 is an ArrayValueField
			type is AlphaUpper size 40
			restricted
			RtmComments.RtmComment[1]

		RtmComment2 is an ArrayValueField
			type is AlphaUpper size 40
			restricted
			RtmComments.RtmComment[2]

		RtmComment3 is an ArrayValueField
			type is AlphaUpper size 40
			restricted
			RtmComments.RtmComment[3]

		AssignNotes				is a NativeField
			type is Numeric size 3
			restricted

		TransientNotesDerived	is a DerivedField
			type is Text
			restricted
			initialize LocalAssignCode
			LocalValidateNotes = false
			LocalAssignCode = AssignNotes
			return LocalNotes
		
		ExcessLineMessageText is a MessageField
			restricted
			"ExceededMaximumLinesAllowed;LimitIs<LocalNotesLineLimit>"
		
		ExcessLineTextMessageText is a MessageField
			restricted
			"ExceededMaximumAllowedCharactersInALine;LimitIs<LocalNotesLineTextLimit>"
		
		AssignErrorMessage is a DerivedField
			type is MessageField
			restricted
			if (LocalAssignCode = 101)
				return ExcessLineMessageText
			if (LocalAssignCode = 102)
				return ExcessLineTextMessageText
			return blank

	Sets

		Set1
			not indexed
			Sort Order
				RTMPaymentLanguageText

			
	Actions
		Create is a Create Action

		T2VCreate is a Create Action				
			restricted 
			default label is untranslatable 
			bypass field rules 
			
		Update is an Update Action

		Delete is a Delete Action
