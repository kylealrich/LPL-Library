CompanyCustomerStaticAging is a BusinessClass
    owned by ar
    prefix is STA
    classic name is STATICCUST

    Ontology
        symbolic key is CompanyCustomerStaticAging
            classic set name is STASET1
            name is CompanyCustomerStaticAging

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        AgingCode
        StaticAgingCurrentPeriodAmount is an InternationalAmount
            classic name is STATIC-CUR
        Agings                         is an AgingX5InStaticcust
            classic name is AGING

	Local Fields
		LocalTitle			is Alpha 50
		LocalDays			is Alpha 3
		WorkNumber			is Numeric 3
	
	Derived Fields
		DerivedTotalAging is a DerivedField
			type is like InternationalAmount
			return (StaticAgingCurrentPeriodAmount + sum Agings)
			
		DerivedPastDue is a DerivedField
			type is like InternationalAmount
			return (sum Agings)
		
		Period1Title is a DerivedField
			type is Alpha size 15
			LocalDays 	= "1"
			LocalTitle 	= LocalDays + "-"
			LocalDays	= AgingCode.AgingPeriods.AgePeriods[1]
			LocalTitle += LocalDays
			return LocalTitle

		Period2Title is a DerivedField
			type is Alpha size 15
			WorkNumber	= AgingCode.AgingPeriods.AgePeriods[1] + 1
			LocalDays	= WorkNumber
			LocalTitle 	= LocalDays + "-"
			LocalDays	= AgingCode.AgingPeriods.AgePeriods[2]
			LocalTitle += LocalDays
			return LocalTitle

		Period3Title is a DerivedField
			type is Alpha size 15
			WorkNumber	= AgingCode.AgingPeriods.AgePeriods[2] + 1
			LocalDays	= WorkNumber
			LocalTitle 	= LocalDays + "-"
			LocalDays	= AgingCode.AgingPeriods.AgePeriods[3]
			LocalTitle += LocalDays
			return LocalTitle

		Period4Title is a DerivedField
			type is Alpha size 15
			WorkNumber	= AgingCode.AgingPeriods.AgePeriods[3] + 1
			LocalDays	= WorkNumber
			LocalTitle 	= LocalDays + "-"
			LocalDays	= AgingCode.AgingPeriods.AgePeriods[4]
			LocalTitle += LocalDays
			return LocalTitle

		Period5Title is a DerivedField
			type is Alpha size 15
			if (AgingCode.ExpandedAgingPeriods)
				WorkNumber	= AgingCode.AgingPeriods.AgePeriods[4] + 1
				LocalDays	= WorkNumber
				LocalTitle 	= LocalDays + "-"
				LocalDays	= AgingCode.AgingPeriods.AgePeriods[5]
			else
				LocalTitle 	= "Over_"
				LocalDays	= AgingCode.AgingPeriods.AgePeriods[4]
			LocalTitle += LocalDays
			return LocalTitle
			
		Period6Title is a DerivedField	
			type is Alpha size 15
			WorkNumber	= AgingCode.AgingPeriods.AgePeriods[5] + 1
			LocalDays	= WorkNumber
			LocalTitle 	= LocalDays + "-"
			LocalDays	= AgingCode.AgingPeriods.AgePeriods[6]
			LocalTitle += LocalDays
			return LocalTitle
			
		Period7Title is a DerivedField	
			type is Alpha size 15
			WorkNumber	= AgingCode.AgingPeriods.AgePeriods[6] + 1
			LocalDays	= WorkNumber
			LocalTitle 	= LocalDays + "-"
			LocalDays	= AgingCode.AgingPeriods.AgePeriods[7]
			LocalTitle += LocalDays
			return LocalTitle	
					
		Period8Title is a DerivedField	
			type is Alpha size 15
			LocalTitle 	= "Over_"
			LocalDays	= AgingCode.AgingPeriods.AgePeriods[7]
			LocalTitle += LocalDays
			return LocalTitle
			
		DerivedStaticAgingCurrentPeriodAmount	is a DerivedField	
			type is like InternationalAmount
			return StaticAgingCurrentPeriodAmount
			
		DerivedCompanyCustomerStaticAging1	is a DerivedField
			type is like InternationalAmount
			return Agings.Aging[1]
			
		DerivedCompanyCustomerStaticAging2	is a DerivedField
			type is like InternationalAmount
			return Agings.Aging[2]
		
		DerivedCompanyCustomerStaticAging3	is a DerivedField
			type is like InternationalAmount
			return Agings.Aging[3]
			
		DerivedCompanyCustomerStaticAging4	is a DerivedField
			type is like InternationalAmount
			return Agings.Aging[4]
			
		DerivedCompanyCustomerStaticAging5	is a DerivedField
			type is like InternationalAmount
			return Agings.Aging[5]
			
		DerivedCompanyCustomerStaticAging6	is a DerivedField
			type is like InternationalAmount
			return Agings.Aging[6]
			
		DerivedCompanyCustomerStaticAging7	is a DerivedField
			type is like InternationalAmount
			return Agings.Aging[7]
			
		DerivedCompanyCustomerStaticAging8	is a DerivedField
			type is like InternationalAmount
			return Agings.Aging[8]

    Relations

        AgingCodeRel
            classic name is AGINGCODE
            one-to-one relation to AgingCode
            required
            Field Mapping uses symbolic key
                related.Company   = Company
                related.AgingCode = AgingCode

        ReceivableCompanyRel
            classic name is ARCOMP
            one-to-one relation to ReceivableCompany
            required
            Field Mapping uses symbolic key
                related.Company = Company

        CompanyCustomerRel
            classic name is ARCUSTOMER
            one-to-one relation to CompanyCustomer
            required
            Field Mapping uses symbolic key
                related.Company  = Company
                related.Customer = Customer
		
	Actions
		Create is a Create Action
		Update is an Update Action
		Delete is a Delete Action
		Purge is a Purge Action
    		restricted
