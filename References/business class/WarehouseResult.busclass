WarehouseResult is a BusinessClass
	owned by wh
	
	prefix is WPPR
	
	Ontology
		symbolic key is WarehouseResult
	
	Patterns
		disable Auditing
		disable AuditIndex
		disable EffectiveDated
		enable explicit context override
	
	Persistent Fields
		ReportType									is Numeric size 3
			States
				WarehousePickListPrintReport		value is 1
				WarehousePickListPrintErrorReport	value is 2
		GroupId										is an AsyncActionRequest
			delete ignored
        Status										is Numeric size 1
        	States
        		Processing 							value is 1
        		Completed  							value is 2
        		CompletedWithError					value is 3
		Description
		PrintTimeStamp								is TimeStamp
		FinishedTimeStamp							is TimeStamp
		UserId										is Actor	
		LastBatchNumber								is Numeric size 12
		RecordsWithError							is Numeric size 6
		DemandSystemCode
		DemandDocument
		DemandCompany
		

		Company              	 is a InventoryCompany
		Location             	 is like InventoryLocation
		ExpectedShipDate         is Date
		DocumentSource      	 is AlphaUpper size 2
			States
				CustomerOrder value is "OE"
				Requisitions   value is "RQ"
		SelectOption            is Numeric size 1
			default label is "SelectOption"
			States
				ByShipmentDocumentLine                 value is 1
					default label is "By Shipment-Document Line"
				ByShipmentBinLotSerial                 value is 2
					default label is "By Shipment-Bin/Lot/Serial"
				ByShipmentBinLotSerialRequisitionBased value is 3
					default label is "By Shipment-Bin/Lot/Serial (Requisition based)"
				ByBinItemUomLotSerial                  value is 4
					default label is "By Bin-Item/UOM/Lot/Serial"
		BinAllocationPurpose     is AlphaUpper size 1
			States
				SpeedPicking        value is "S"
				ConsolidatedPicking value is "C"
		AllocateDetail           is AlphaUpper size 1
			States
				Yes value is "Y"
				No  value is "N"
		PreferOption            	is AlphaUpper size 1
			States
				YesPreferredBin   value is "Y"
					default label is "Yes (Preferred Bin)"
				NoNonPreferredBin value is "N"
					default label is "No (Non-preferred Bin)"
		IncludeCost				is AlphaUpper size 1
			States
				DoNotPrintAnyCost        value is "N"
					default label is "Do not print any Cost"
				PrintCostAndExtendedCost value is "Y"
					default label is "Print Cost and Extended Cost"
		IncludeBackorders       	is AlphaUpper size 1
			States
				DoNotPrintBackorders value is "N"
					default label is "Do not print Backorders"
				IncludeBackorders    value is "Y"
		PrintDeliveryData       	is AlphaUpper size 1
			States
				Yes value is "Y"
				No  value is "N"
		IncludeKillDetails      	is AlphaUpper size 1
			States
				Yes     value is "Y"
				No      value is "N"
				Partial value is "P"
		AlignForm                is Numeric size 2
		ReprintShipmentNumber    is like WarehouseShipment
		ReprintBatchNumber       is like WarehouseBatch
		CreateFlatFile           is AlphaUpper size 1
			States
				Yes value is "Y"
				No  value is "N"
		FlatFileName				is AlphaUpper size 30
		SourceDocument1			is like DemandDocument
        SourceDocument2			is like DemandDocument
        SourceDocument3			is like DemandDocument
        SourceDocument4			is like DemandDocument
        SourceDocument5			is like DemandDocument
        SourceDocument6			is like DemandDocument
        SourceDocument7			is like DemandDocument
        SourceDocument8			is like DemandDocument
        SourceDocument9			is like DemandDocument
        SourceDocument10		is like DemandDocument
        SourceDocument11		is like DemandDocument
        SourceDocument12		is like DemandDocument
		RequestingLocation      is like RequestingLocation
		ReqLocationGroup		is like RequestingReportGroup 
		Customer				is like Customer
		Item              		is like Item                        
		ProcessType             is like WarehouseProcessType
		FromAllocPriority       is Numeric size 2
		ToAllocPriority         is Numeric size 2
		ShipTo                  is like CustomerShipTo
		Carrier                 is like Vendor
		Route                 	is like PickShipRoute
		AllRoute                 is AlphaUpper size 1
			States
				None          value is "N"
				AllRoutes     value is "A"
				SpecificRoute value is "S"
		SkipInsufBinDetails      is AlphaUpper size 1     
			States
				Yes value is "Y"
				No  value is "N"
		PrintRequester			is AlphaUpper size 1
			States
				Yes value is "Y"
				No  value is "N"
		WarehouseWave			is like WarehouseWave
			default label is "Wave"
		UseZonePicking			is AlphaUpper size 1
			default label is "UseZonePicking"
			States
				Yes value is "Y"
				No  value is "N"
	
	Derived Fields

		DerivedCurrentDate is a DerivedField
			type is Date
			return current corporate date
		
		DerivedCurrentTime is a DerivedField
			type is Time
			return current corporate time
		
		NoDataToPrintMessage is a MessageField
			"NoDataToPrintInThisPrintFile."
	
		PickListPrintResultErrorMessage is a MessageField	
			"PDFReport_\Warehouse_\PickList_\Print_\Error_\ReportIsAvailableToView"
		
		PickListPrintResultMessage is a MessageField	
			"PDFReport_\Warehouse_\PickList_\Print_\IsAvailableToView"
		

		DerivedSelectOption is a DerivedField
			type is Alpha 50
			if (SelectOption.ByShipmentDocumentLine)
				return "By Shipment - Document Line"
			else
			if (SelectOption.ByShipmentBinLotSerial)
				return "By Shipment - Bin/Lot/Serial"
			else
			if (SelectOption.ByShipmentBinLotSerialRequisitionBased)
				return "By Shipment - Bin/Lot/Serial (Requisition Based)"
			else
				return "By Bin - Item/UOM/Lot/Serial"

		DerivedExpectedShipDate is a DerivedField
			type is Alpha 10
			if (ExpectedShipDate entered)
				return ExpectedShipDate
			else
				return "-"
		
		DerivedDocumentSource is a DerivedField
			type is Alpha 30
			if (DocumentSource.CustomerOrder)
				return "Customer Order"
			else
			if (DocumentSource.Requisitions)
				return "Requisition"
			else
				return "-"
		
		DerivedAllocationPurpose is a DerivedField
			type is Alpha 22
			if (BinAllocationPurpose.SpeedPicking)
				return "Speed Picking"
			else
			if (BinAllocationPurpose.ConsolidatedPicking)
				return "Consolidated Picking"
			else
				return "-"
		
		DerivedPreferOption  is a DerivedField
			type is Alpha 3
			if (PreferOption.YesPreferredBin)
				return "Yes"
			else
			if (PreferOption.NoNonPreferredBin)
				return "No"
			else
				return "-"
		
		DerivedAlignForm is a DerivedField
			type is Alpha 2
			if (AlignForm entered)
				return AlignForm
			else
				return "-"

		DerivedReprintShipmentNumber is a DerivedField
			type is Alpha 10
			if (ReprintShipmentNumber entered)
				return ReprintShipmentNumber
			else
				return "-"
		
		DerivedReprintBatchNumber is a DerivedField
			type is Alpha 12
			if (ReprintBatchNumber entered)
				return ReprintBatchNumber
			else
				return "-"
			
		DerivedCreateFlatFile is a DerivedField
			type is Alpha 3
			if (CreateFlatFile.Yes)
				return "Yes"
			else
				return "No"
		
		DerivedFlatFileName is a DerivedField
			type is AlphaUpper size 30
			if (FlatFileName entered)
				return FlatFileName
			else
				return "-"

		DerivedSourceDocument1	is a DerivedField
			type is Alpha 10
			if (SourceDocument1 != 0)
				return SourceDocument1 + " "
			
		DerivedSourceDocument2	is a DerivedField
			type is Alpha 10
			if (SourceDocument2 != 0)
				return SourceDocument2 + " "
			
		DerivedSourceDocument3	is a DerivedField
			type is Alpha 10
			if (SourceDocument3 != 0)
				return SourceDocument3 + " "
			
		DerivedSourceDocument4	is a DerivedField
			type is Alpha 10
			if (SourceDocument4 != 0)
				return SourceDocument4 + " "
			
		DerivedSourceDocument5	is a DerivedField
			type is Alpha 10
			if (SourceDocument5 != 0)
				return SourceDocument5 + " "
			
		DerivedSourceDocument6	is a DerivedField
			type is Alpha 10
			if (SourceDocument6 != 0)
				return SourceDocument6 + " "
			
		DerivedSourceDocument7	is a DerivedField
			type is Alpha 10
			if (SourceDocument7 != 0)
				return SourceDocument7 + " "
			
		DerivedSourceDocument8	is a DerivedField
			type is Alpha 10
			if (SourceDocument8 != 0)
				return SourceDocument8 + " "
			
		DerivedSourceDocument9	is a DerivedField
			type is Alpha 10
			if (SourceDocument9 != 0)
				return SourceDocument9 + " "
			
		DerivedSourceDocument10	is a DerivedField
			type is Alpha 10
			if (SourceDocument10 != 0)
				return SourceDocument10 + " "
			
		DerivedSourceDocument11	is a DerivedField
			type is Alpha 10
			if (SourceDocument11 != 0)
				return SourceDocument11 + " "
			
		DerivedSourceDocument12	is a DerivedField
			type is Alpha 10
			if (SourceDocument12 != 0)
				return SourceDocument12

		DerivedSourceDocuments is a StringField
			type is Alpha 135
			DerivedSourceDocument1
			DerivedSourceDocument2
			DerivedSourceDocument3
			DerivedSourceDocument4
			DerivedSourceDocument5
			DerivedSourceDocument6
			DerivedSourceDocument7
			DerivedSourceDocument8
			DerivedSourceDocument9
			DerivedSourceDocument10
			DerivedSourceDocument11
			DerivedSourceDocument12
		
		DerivedRequestingLocation is a DerivedField
			type is like RequestingLocation
			if (RequestingLocation entered)
				return RequestingLocation
			else
				return "-"
		
		DerivedRequestingReportGroup is a DerivedField
			type is like RequestingReportGroup
			if (ReqLocationGroup entered)
				return ReqLocationGroup
			else
				return "-"
		
		DerivedCustomer is a DerivedField
			type is Alpha 9
			if (Customer entered)
				return Customer
			else
				return "-"
		
		DerivedItem is a DerivedField
			type is like Item
			if (Item entered)
				return Item
			else
				return "-"
		
		DerivedProcessType is a DerivedField
			type is like WarehouseProcessType
			if (ProcessType entered)
				return ProcessType
			else
				return "-"
			
		DerivedFromAllocationPriority is a DerivedField
			type is Alpha 2
			if (FromAllocPriority != 0)
				return FromAllocPriority
			else
				return "-"
			
		DerivedToAllocationPriority is a DerivedField
			type is Alpha 2
			if (ToAllocPriority != 0)
				return ToAllocPriority
			else
				return "-"
		
		DerivedShipTo is a DerivedField
			type is Alpha 4
			if (ShipTo entered)
				return ShipTo
			else
				return "-"

		DerivedCarrier is a DerivedField
			type is Alpha 9
			if (Carrier entered)
				return Carrier
			else
				return "-"
		
		DerivedRoute is a DerivedField
			type is Alpha 15
			if (Route entered)
				return Route
			else
				return "-"

	Local Fields
		LocalActor is an Actor
	Rule Blocks
		UpdateStatusAndTimestamp
			if (RecordsWithError = 0)
				Status				= Status.Completed
			else
				Status				= Status.CompletedWithError
			
			FinishedTimeStamp		= current timestamp
	
	Field Rules
		Description
			default to WarehouseResult 		

		PrintTimeStamp																		
			default to current timestamp
	
	Relations
		
		WarehouseDemandLinesWithErrorRel
			one-to-many relation to WarehouseDemandLine
			Field Mapping uses symbolic key
				related.Company                          = Company
				related.WarehouseDemand.DemandSystemCode = DemandSystemCode
				related.WarehouseDemand.DemandDocument   = DemandDocument
				related.WarehouseDemand.DemandCompany	 = DemandCompany
				related.InventoryLocation 				 = Location
			Instance Selection
				where (related.PickListPrintRun = WarehouseResult
				and    related.ErrorMessage entered)
		
		PickListPrintReportInventoryCompanyRel
			one-to-one relation to InventoryCompany
			Field Mapping uses symbolic key
				related.Company						= Company
		
		PickListPrintReportInventoryLocationRel 
		    one-to-one relation to InventoryLocation
		    Field Mapping uses symbolic key
				related.Company						= Company
				related.InventoryLocation			= Location
		
		ProcessRuleSecurityRel
			one-to-many relation to Security
			Field Mapping uses symbolic key
				related.Security.ProductLine		= parentcontext.dataarea
				related.Security.Param				= "1"
			Instance Selection
				where (related.Value				= "PROCESS_RULES")
		
		ApplicationAdministratorRoleRel
			one-to-one relation to ActorRole
			Field Mapping uses symbolic key
				related.Actor			= actor
				related.ActorRole.Role	= "ApplicationAdministrator_ST"
								
		BuyerRoleRel
			one-to-one relation to ActorRole
			Field Mapping uses symbolic key
				related.Actor			= actor
				related.ActorRole.Role	= "Buyer_ST"
				
		SupplyManagementProcessorRoleRel
			one-to-one relation to ActorRole
			Field Mapping uses symbolic key
				related.Actor 			= actor
				related.ActorRole.Role	= "SupplyManagementProcessor_ST"
				
		PurchasingManagerRoleRel
			one-to-one relation to ActorRole
			Field Mapping uses symbolic key
				related.Actor 			= actor
				related.ActorRole.Role	= "PurchasingManager_ST"
				
		InventoryManagerRoleRel
			one-to-one relation to ActorRole
			Field Mapping uses symbolic key
				related.Actor 			= actor
				related.ActorRole.Role	= "InventoryManager_ST"

		ReceiverRoleRel
			one-to-one relation to ActorRole
			Field Mapping uses symbolic key
				related.Actor 			= actor
				related.ActorRole.Role	= "Receiver_ST"
	
	Conditions



		HasWarehouseDemandLineErrors
			restricted
			when (WarehouseDemandLinesWithErrorRel exists)
	Actions
		Create is a Create Action
			restricted

		Update is an Update Action
			restricted

		Delete is a Delete Action
			restricted

		SendPickListErrorNotification is an Instance Action
			restricted
			Parameters
				PrmRecordsWithError		is Numeric 6
			Action Rules
				RecordsWithError = PrmRecordsWithError
				LocalActor	 = actor
				if (ProcessRuleSecurityRel exists)
					if (ApplicationAdministratorRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultErrorMessage>"
							priority is medium
							detail is "<PickListPrintResultErrorMessage>"
							linkback(webapp is ApplicationAdministrator navigation is WarehousePickListErrorNav text is "<PickListPrintResultErrorMessage>")
						
					else
					if (SupplyManagementProcessorRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultErrorMessage>"
							priority is medium
							detail is "<PickListPrintResultErrorMessage>"
							linkback(webapp is SupplyManagementProcessor navigation is WarehousePickListErrorNav text is "<PickListPrintResultErrorMessage>")

					else
					if (PurchasingManagerRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultErrorMessage>"
							priority is medium
							detail is "<PickListPrintResultErrorMessage>"
							linkback(webapp is PurchasingManager navigation is WarehousePickListErrorNav text is "<PickListPrintResultErrorMessage>")
					
					else
					if (InventoryManagerRoleRel exists)	
						send notification
							to LocalActor
							description is "<PickListPrintResultErrorMessage>"
							priority is medium
							detail is "<PickListPrintResultErrorMessage>"
							linkback(webapp is InventoryManager navigation is WarehousePickListErrorNav text is "<PickListPrintResultErrorMessage>")
					
					else
					if (ReceiverRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultErrorMessage>"
							priority is medium
							detail is "<PickListPrintResultErrorMessage>"
							linkback(webapp is Receiver navigation is WarehousePickListErrorNav text is "<PickListPrintResultErrorMessage>")
						
					else
					if (BuyerRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultErrorMessage>"
							priority is medium
							detail is "<PickListPrintResultErrorMessage>"
							linkback(webapp is Buyer navigation is WarehousePickListErrorNav text is "<PickListPrintResultErrorMessage>")
					
				else					
					send notification
						to LocalActor
						description is "<PickListPrintResultErrorMessage>"
						priority is medium
						detail is "<PickListPrintResultErrorMessage>"
						linkback(webapp is ApplicationAdministrator navigation is WarehousePickListErrorNav text is "<PickListPrintResultErrorMessage>")
				
				Status = Status.CompletedWithError
				FinishedTimeStamp = current timestamp		
		
		TransitionToCompleted is an Instance Action
			restricted
			Action Rules
				include UpdateStatusAndTimestamp
		
		GeneratePickListPrintResult is an Instance Action
			restricted
			Parameters
				PrmCompany              	 is an InventoryCompany
				PrmLocation             	 is an InventoryLocation
				PrmExpectedShipDate          is Date
				PrmDocumentSource      		 is AlphaUpper size 2
					States
						CustomerOrder value is "OE"
						Requisitions   value is "RQ"
				PrmSelectOption            is Numeric size 1
					default label is "SelectOption"
					States
						ByShipmentDocumentLine                 value is 1
							default label is "By Shipment-Document Line"
						ByShipmentBinLotSerial                 value is 2
							default label is "By Shipment-Bin/Lot/Serial"
						ByShipmentBinLotSerialRequisitionBased value is 3
							default label is "By Shipment-Bin/Lot/Serial (Requisition based)"
						ByBinItemUomLotSerial                  value is 4
							default label is "By Bin-Item/UOM/Lot/Serial"
				PrmBinAllocationPurpose     is AlphaUpper size 1
					States
						SpeedPicking        value is "S"
						ConsolidatedPicking value is "C"
				PrmAllocateDetail           is AlphaUpper size 1
					States
						Yes value is "Y"
						No  value is "N"
				PrmPreferOption            	is AlphaUpper size 1
					States
						YesPreferredBin   value is "Y"
							default label is "Yes (Preferred Bin)"
						NoNonPreferredBin value is "N"
							default label is "No (Non-preferred Bin)"
				PrmIncludeCost				is AlphaUpper size 1
					States
						DoNotPrintAnyCost        value is "N"
							default label is "Do not print any Cost"
						PrintCostAndExtendedCost value is "Y"
							default label is "Print Cost and Extended Cost"
				PrmIncludeBackorders       	is AlphaUpper size 1
					States
						DoNotPrintBackorders value is "N"
							default label is "Do not print Backorders"
						IncludeBackorders    value is "Y"
				PrmPrintDeliveryData       	is AlphaUpper size 1
					States
						Yes value is "Y"
						No  value is "N"
				PrmIncludeKillDetails      	is AlphaUpper size 1
					States
						Yes     value is "Y"
						No      value is "N"
						Partial value is "P"
				PrmAlignForm                is Numeric size 2
				PrmReprintShipmentNumber    is a WarehouseShipment
				PrmReprintBatchNumber       is a WarehouseBatch
				PrmCreateFlatFile           is AlphaUpper size 1
					States
						Yes value is "Y"
						No  value is "N"
				PrmFlatFileName				is AlphaUpper size 30
				PrmSourceDocument1			is like DemandDocument
                PrmSourceDocument2			is like DemandDocument
                PrmSourceDocument3			is like DemandDocument
                PrmSourceDocument4			is like DemandDocument
                PrmSourceDocument5			is like DemandDocument
                PrmSourceDocument6			is like DemandDocument
                PrmSourceDocument7			is like DemandDocument
                PrmSourceDocument8			is like DemandDocument
                PrmSourceDocument9			is like DemandDocument
                PrmSourceDocument10			is like DemandDocument
                PrmSourceDocument11			is like DemandDocument
                PrmSourceDocument12			is like DemandDocument
				PrmRequestingLocation       is a RequestingLocation
				PrmReqLocationGroup			is a RequestingReportGroup 
				PrmCustomer					is a Customer
				PrmCompanyCustomer			is a CompanyCustomer
				PrmItem              		is a Item                        
				PrmProcessType              is a WarehouseProcessType
				PrmFromAllocPriority        is Numeric size 2
				PrmToAllocPriority          is Numeric size 2
				PrmShipTo                   is a CustomerShipTo
				PrmCarrier                  is a Vendor
				PrmRoute                 is a PickShipRoute
				PrmAllRoute                 is AlphaUpper size 1
					States
						None          value is "N"
						AllRoutes     value is "A"
						SpecificRoute value is "S"
				PrmSkipInsufBinDetails      is AlphaUpper size 1    
					States
						Yes value is "Y"
						No  value is "N"
				PrmPrintRequester			is AlphaUpper size 1
					States
						Yes value is "Y"
						No  value is "N"
				PrmWarehouseWave			is a WarehouseWave
				PrmUseZonePick				is AlphaUpper size 1
					States
						Yes value is "Y"
						No  value is "N"
			Action Rules
				LocalActor			   = actor
				Company			   	   = PrmCompany
				Location			   = PrmLocation
				ExpectedShipDate	   = PrmExpectedShipDate
				DocumentSource		   = PrmDocumentSource
				SelectOption		   = PrmSelectOption
				BinAllocationPurpose   = PrmBinAllocationPurpose
				AllocateDetail		   = PrmAllocateDetail
				PreferOption		   = PrmPreferOption
				IncludeCost		   	   = PrmIncludeCost
				IncludeBackorders	   = PrmIncludeBackorders
				PrintDeliveryData	   = PrmPrintDeliveryData
				IncludeKillDetails	   = PrmIncludeKillDetails
				AlignForm			   = PrmAlignForm
				ReprintShipmentNumber  = PrmReprintShipmentNumber 
				ReprintBatchNumber     = PrmReprintBatchNumber    
				CreateFlatFile 	       = PrmCreateFlatFile 
				FlatFileName		   = PrmFlatFileName
				SourceDocument1	       = PrmSourceDocument1
				SourceDocument2	       = PrmSourceDocument2
				SourceDocument3	       = PrmSourceDocument3
				SourceDocument4	       = PrmSourceDocument4
				SourceDocument5	       = PrmSourceDocument5
				SourceDocument6	       = PrmSourceDocument6
				SourceDocument7	       = PrmSourceDocument7
				SourceDocument8	       = PrmSourceDocument8
				SourceDocument9	       = PrmSourceDocument9
				SourceDocument10	   = PrmSourceDocument10
				SourceDocument11	   = PrmSourceDocument11
				SourceDocument12	   = PrmSourceDocument12    
				RequestingLocation     = PrmRequestingLocation  
				ReqLocationGroup	   = PrmReqLocationGroup
				Customer			   = PrmCustomer
				Item				   = PrmItem                                 
				ProcessType            = PrmProcessType    
				FromAllocPriority      = PrmFromAllocPriority  
				ToAllocPriority        = PrmToAllocPriority       
				ShipTo       		   = PrmShipTo       
				Carrier 			   = PrmCarrier 
				Route			       = PrmRoute
				AllRoute			   = PrmAllRoute
				SkipInsufBinDetails    = PrmSkipInsufBinDetails
				PrintRequester		   = PrmPrintRequester
				WarehouseWave		   = PrmWarehouseWave
				UseZonePicking		   = PrmUseZonePick

				if (ProcessRuleSecurityRel exists)
					if (ApplicationAdministratorRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultMessage>"
							priority is medium
							detail is "<PickListPrintResultMessage>"
							linkback(webapp is ApplicationAdministrator navigation is WarehousePickListResultNav text is "<PickListPrintResultMessage>")
						
					else
					if (SupplyManagementProcessorRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultMessage>"
							priority is medium
							detail is "<PickListPrintResultMessage>"
							linkback(webapp is SupplyManagementProcessor navigation is WarehousePickListResultNav text is "<PickListPrintResultMessage>")

					else
					if (PurchasingManagerRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultMessage>"
							priority is medium
							detail is "<PickListPrintResultMessage>"
							linkback(webapp is PurchasingManager navigation is WarehousePickListResultNav text is "<PickListPrintResultMessage>")
					
					else
					if (InventoryManagerRoleRel exists)	
						send notification
							to LocalActor
							description is "<PickListPrintResultMessage>"
							priority is medium
							detail is "<PickListPrintResultMessage>"
							linkback(webapp is InventoryManager navigation is WarehousePickListResultNav text is "<PickListPrintResultMessage>")
					
					else
					if (ReceiverRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultMessage>"
							priority is medium
							detail is "<PickListPrintResultMessage>"
							linkback(webapp is Receiver navigation is WarehousePickListResultNav text is "<PickListPrintResultMessage>")
						
					else
					if (BuyerRoleRel exists)
						send notification
							to LocalActor
							description is "<PickListPrintResultMessage>"
							priority is medium
							detail is "<PickListPrintResultMessage>"
							linkback(webapp is Buyer navigation is WarehousePickListResultNav text is "<PickListPrintResultMessage>")
					
				else					
					send notification
						to LocalActor
						description is "<PickListPrintResultMessage>"
						priority is medium
						detail is "<PickListPrintResultMessage>"
						linkback(webapp is ApplicationAdministrator navigation is WarehousePickListResultNav text is "<PickListPrintResultMessage>")
				
				Status				= Status.Completed
				FinishedTimeStamp   = current timestamp
