RecallNoticeTaskStatus is a BusinessClass
    owned by recall
    prefix is RMPTS

    Ontology
    	symbolic key is RecallNoticeTaskStatus
    
    Patterns
    	disable Auditing		
        disable EffectiveDated	
        
	Derived Fields
		NewMessage is a MessageField
			restricted
			"New"
			
		AcceptedMessage is a MessageField
			restricted
			"Accepted"
			
		CompletedMessage is a MessageField
			restricted
			"Completed"
		
		NewType is a StringField
			type is Alpha 35
			restricted
			NewMessage
			"-" 
			StatusCount

		AcceptedType is a StringField
			type is Alpha 35
			restricted
			AcceptedMessage
			"-" 
			StatusCount

		CompletedType is a StringField
			type is Alpha 35
			restricted
			CompletedMessage
			"-" 
			StatusCount
			
		Type is a DerivedField
			type is Alpha 35
			if (RecallNoticeTaskStatus.New)
				return NewType
			else
			if (RecallNoticeTaskStatus.Accepted)
				return AcceptedType
			else
			if (RecallNoticeTaskStatus.Completed)
				return CompletedType
			else
				return blank

		StatusOfTasksMessage is a LabelField
			restricted
			"StatusOfTasks"

		StatusCount is a DerivedField
			type is Numeric 5
			return (instance count of RecallNoticeTaskRel)

	Relations
		RecallNoticeTaskRel
			one-to-many relation to RecallNoticeTask
			Field Mapping uses ByStatus
				related.Status 		 = RecallNoticeTaskStatus
				related.RecallGroup	 = RecallGroup
				related.RecallNotice = RecallNotice
				
	Actions
		Create is an Action
			restricted
		
		Update is an Action
			restricted
		
		Delete is an Action 
			restricted
		
		Purge is a Purge Action
			restricted
