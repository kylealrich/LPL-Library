Security is a BusinessClass
    owned by security
    prefix is PARAM
    stored in environment
	contains environment data
	disable data area copy
		preserve target data

	Ontology
		symbolic key is Security

    Patterns
        implements CRUD
        implements SecurityCache
        disable AuditIndex

    Persistent Fields
        Value is Alpha 50
			States
				AllAccess		value is "ALL_ACCESS"
				NoAccess		value is "NO_ACCESS"
				ProcessRules	value is "PROCESS_RULES"
				On				value is "ON"
				Off				value is "OFF"
    
    Field Rules

		Value
			if (Security.Param = Security.Param.SecurityStatus)
				constraint (Value = Value.AllAccess or Value = Value.NoAccess or Value.ProcessRules)
					"InvalidValueSelected:SelectEither_All_Access,_No_Access,or_Process_Rules"			
			if (Security.Param = Security.Param.ActionPeriod)
				constraint (Value = Value.On or Value.Off)
					"InvalidValueSelectOnOrOff"			
			if (Security.Param = Security.Param.EmailValidation)
				constraint (Value.On or Value.Off)
					"InvalidValueSelectOnOrOff"			

			
    Derived Fields
    
        SecurityRelated is a ConditionalField
    		type is Boolean
			default label is untranslatable
    		if (Security.Param = Security.Param.SecurityStatus)
    			true
    		else
    			false    	
    
    	ProcessState is a ConditionalField
    		type is Boolean
			default label is untranslatable
    		if (SecurityRelated and Value = Value.ProcessRules)
    			true
    		else
    			false
    	AllAccessState is a ConditionalField
    		type is Boolean
			default label is untranslatable
    		if (SecurityRelated and Value = Value.AllAccess)
    			true
    		else
    			false
    	NoAccessState is a ConditionalField
    		type is Boolean
			default label is untranslatable
    		if (SecurityRelated and Value = Value.NoAccess)
    			true
    		else
    			false    			    			

		ActionPeriodRelated is a ConditionalField
			type is Boolean
			default label is untranslatable
			if (Security.Param = Security.Param.ActionPeriod)
				true
			else
				false

        ActionPeriodOnState is a ConditionalField
            type is Boolean
			default label is untranslatable
            if (ActionPeriodRelated and Value = Value.On)
				true
		    else
		        false	
		        
		EmailValidationRelated is a ConditionalField
			type is Boolean
			default label is untranslatable
			if (Security.Param = Security.Param.EmailValidation)
				true
			else
				false
				
        EmailValidationOnState is a ConditionalField
            type is Boolean
			default label is untranslatable
            if (EmailValidationRelated and Value = Value.On)
 				true
 		    else
		        false
					
	Actions

		ProcessRules is an Instance Action
			valid when (SecurityRelated)
			Action Rules
				Value = Value.ProcessRules
		AllAccess is an Instance Action
			valid when (SecurityRelated)
			Action Rules
				Value = Value.AllAccess
		NoAccess is an Instance Action
			valid when (SecurityRelated)
			Action Rules
				Value = Value.NoAccess				

		ActionPeriodOn is an Instance Action
			valid when (ActionPeriodRelated)
			Action Rules
				Value = Value.On

		ActionPeriodOff is an Instance Action
			valid when (ActionPeriodRelated)
			Action Rules
				Value = Value.Off

		EmailValidationOn is an Instance Action
			valid when (EmailValidationRelated)
			Action Rules
				Value = Value.On

		EmailValidationOff is an Instance Action
			valid when (EmailValidationRelated)
			Action Rules
				Value = Value.Off
				
		Create is an Action 	
		Update is an Action
		Delete is an Action
		
    Sets
    
        ByParams
            Sort Order
                Security.Param
                Security.ProductLine

