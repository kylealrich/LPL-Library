AccountingUnitSecurityGroupDetail is a BusinessClass
	owned by GeneralLedger
	
	prefix is AUSGD
	sql name is AUSecurityGroupDetail
	
	Ontology
		symbolic key is AccountingUnitSecurityGroupDetail
	
	Patterns
		disable Auditing
		implements UpdateStamp
					
	Persistent Fields
		AccountingUnitType			is a snapshot of AccountingUnit.AccountingUnitType
		CreatedForHierarchyAccess	is Boolean
		MatrixSecurityDetail		is Boolean
							
	Sets
		
	Conditions

		MatrixSecurityEnabled
            restricted
            when (FinanceEnterpriseGroup.ResponsibilityMatrixSecurity)
			
	Field Rules
		
	Field Groups
		FEGAndEntity
			FinanceEnterpriseGroup
			AccountingEntity
						
	Actions
		Create is an Action
			restricted
			bypass field rules
			Action Rules
				AccountingUnitType = AccountingUnit.AccountingUnitType
					
		Delete is an Action
			restricted
		
		Purge is a Purge Action
			restricted

		ResetCreatedForHierarchyAccess is an Instance Action
			restricted
			
			Action Rules
				CreatedForHierarchyAccess = false
						
		DeleteDetailsForGroup is a Set Action
			restricted
			disable checkpoint
			
			Parameters
				PrmFinanceEnterpriseGroup is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
				PrmAccountingUnitSecurityGroup is an AccountingUnitSecurityGroup
					default label is "AccountingUnitSecurityGroup"
				PrmKeepAccountingUnitSecurityGroup is Boolean			

			Instance Selection
				where (FinanceEnterpriseGroup		= PrmFinanceEnterpriseGroup
				and    AccountingUnitSecurityGroup	= PrmAccountingUnitSecurityGroup)
						
			Action Rules
				Set Rules
					Exit Rules
						if (!PrmKeepAccountingUnitSecurityGroup)
							invoke Delete PrmAccountingUnitSecurityGroup
				Instance Rules
					invoke Purge

		DeleteDetailsForMatrixGroup is a Set Action
			restricted
			disable checkpoint
			
			Parameters
				PrmFinanceEnterpriseGroup is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
				PrmAccountingUnitSecurityGroup is an AccountingUnitSecurityGroup
					default label is "AccountingUnitSecurityGroup"
				PrmKeepAccountingUnitSecurityGroup is Boolean			

			Instance Selection
				where (FinanceEnterpriseGroup		= PrmFinanceEnterpriseGroup
				and    AccountingUnitSecurityGroup	= PrmAccountingUnitSecurityGroup
				and   !MatrixSecurityDetail)
						
			Action Rules
				Set Rules
					Exit Rules
						if (!PrmKeepAccountingUnitSecurityGroup)
							invoke Delete PrmAccountingUnitSecurityGroup
				Instance Rules
					invoke Purge

		DeleteAccountingUnitMatrixDetails is a Set Action
			restricted
			disable checkpoint
			
			Parameters
				PrmFinanceEnterpriseGroup is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"

			Instance Selection
				where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
				and    MatrixSecurityDetail)
						
			Action Rules
				Instance Rules
					invoke Purge

					
