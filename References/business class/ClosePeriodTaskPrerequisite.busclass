ClosePeriodTaskPrerequisite is a BusinessClass
	owned by closemgmt
	
	prefix is CPTPr
	
	Ontology
		symbolic key is ClosePeriodTaskPrerequisite	
	
 	Patterns

	Persistent Fields
		DependencyType				is Numeric 02
			States
				CannotStart			value is 01
				CannotComplete		value is 02	
				NotRequired			value is 03
		WaitForApproval				is Boolean 
		Notes 						is Alpha size up to 500
		
	Field Rules
	
    Conditions
    	PrereqTaskIsOpen
    		restricted
    		when (ClosePeriodTaskPrerequisite.PrerequisiteTask.TaskStatus.Scheduled
    		or    ClosePeriodTaskPrerequisite.PrerequisiteTask.TaskStatus.InProcess
    		or   (ClosePeriodTaskPrerequisite.PrerequisiteTask.TaskStatus.PendingApproval
    		and   WaitForApproval))
    		
    	DependentTaskIsClosed
    		restricted
    		when (ClosePeriodTaskPrerequisite.ClosePeriodTask.TaskStatus.Closed
    		or    ClosePeriodTaskPrerequisite.ClosePeriodTask.TaskStatus.PendingApproval)

	Relations

	Derived Fields	
		BeforeMessage is a MessageField
			"Until"
			
		CompletedMessage is a MessageField
			"HasBeenCompleted"	

		DerivedTaskName is a DerivedField
			type is Alpha 40
			restricted
			return ClosePeriodTaskPrerequisite.PrerequisiteTask.TaskName

	Sets

	Actions
		Create is a Create Action
			restricted
		Update is an Update Action
			restricted
		Delete is a Purge Action
			restricted
			
								
						
						
						
