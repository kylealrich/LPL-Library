PurchasingOverdueReceiptsCount is a BusinessClass
	owned by po
	
	prefix is Purc
	
	Ontology
		symbolic key is PurchasingOverdueReceiptsCount
	
	Patterns
	
	Derived Fields
	
		Message1To3 is a MessageField
			restricted
			"1To3Days"
			
		Message4To7 is a MessageField
			restricted
			"4To7Days"
			
		Message8To14 is a MessageField
			restricted
			"8To14Days"
			
		Message15To21 is a MessageField
			restricted
			"15To21Days"
			
		Over21Message is a MessageField
			restricted
			"Over21Days"
		
		Type is a ConditionalField
			type is Alpha 20
			if (PurchasingOverdueReceiptsCount.1To3Days)
				Message1To3
			else
			if (PurchasingOverdueReceiptsCount.4To7Days)
				Message4To7			
			else
			if (PurchasingOverdueReceiptsCount.8To14Days)
				Message8To14			
			else
			if (PurchasingOverdueReceiptsCount.15To21Days)
				Message15To21	
			else
				Over21Message	
				
		Count is a ComputeField
			type is Numeric 5
			(instance count of PurchaseOrderLineOverdueRel)
	
	Conditions
		IsValidForActorContext
			restricted
			when ((actor.context.FinanceEnterpriseGroup != ""
			and   ProcurementGroup.BusinessGroup.FinanceEnterpriseGroup = actor.context.FinanceEnterpriseGroup)
			or   (actor.context.FinanceEnterpriseGroup = ""))

	Persistent Fields
	
	Relations
		PurchaseOrderLineOverdueRel is a PurchaseOrderLine set
			Instance Selection
				where (related.IsValidForActorContext
				and    related.DerivedOverdueDate = PurchasingOverdueReceiptsCount)

	
