FranchiseCalendar is a BusinessClass
    owned by fr
    prefix is FRA
    classic name is FRCALID

    Ontology
        symbolic key is FranchiseCalendar
            classic set name is FRASET1
            classic name is CALENDAR-ID

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        CalendarDescription is Alpha size 30
            classic name is CALENDAR-DESC

	         	
	Field Rules
		CalendarDescription
			required  


			
	Relations
	 	AllFranchiseCalendars
	 		one-to-many relation to FranchiseCalendar
	 		Field Mapping uses symbolic key
	 		
	 
		FranchiseCalendarDatesByYearRel		
			one-to-many relation to FranchiseCalendarDates
			Field Mapping uses symbolic key
				related.Company						= Company
				related.FranchiseCalendar			= FranchiseCalendar	

			    
		SalesCalendarYearsRel
			one-to-many relation to FranchiseSalesCalendar
			Field Mapping uses symbolic key
				related.Company						= Company


		FranchiseCompanyRel
			one-to-one relation to FranchiseCompany
			Field Mapping uses symbolic key
				related.Company						= Company

        ICCompanyRel
            one-to-one relation to InventoryCompany
            required
            Field Mapping uses symbolic key
                related.Company 					= Company

	Derived Fields									
	
		RepresentativeText is a StringField
			type is Text
			default label is "Calendar"
			FranchiseCalendar " - " CalendarDescription
				
	Sets

	Conditions
	
		IsValidForActorContext			
			restricted
			when ((actor.context.FinanceEnterpriseGroup != ""
			and   Company.GeneralLedgerCompany.FinanceEnterpriseGroup = actor.context.FinanceEnterpriseGroup)
			or   (actor.context.FinanceEnterpriseGroup = ""))

		FranchiseCalendarExists					
			restricted
			when (FranchiseCalendar exists)
			
    Actions
        Create is a Create Action

        Update is an Update Action

        Delete is a Delete Action
        	Action Rules
        		invoke Delete FranchiseCalendarDatesByYearRel



			    
			    						      	
