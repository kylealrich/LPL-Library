RequesterPurchasingClass is a BusinessClass
    owned by rq
    prefix is RQP
    classic name is RQPURCHCLS

    Ontology
        symbolic key is RequesterPurchasingClass
            classic set name is RQPSET1
            classic name for RequesterPurchasingClass.MajorPurchasingClass is PURCH-MAJOR
            classic name for RequesterPurchasingClass.MinorPurchasingClass is PURCH-MINOR

    Patterns
        implements StaticJava
        disable AuditIndex

	Conditions
		MinorPurchasingClassEntered
			restricted
			when (RequesterPurchasingClass.MinorPurchasingClass entered)

    Relations




















		SetupAtMajorClassRel
			one-to-one relation to RequesterPurchasingClass
			Field Mapping uses symbolic key
				related.HROrganization									= HROrganization
				related.Requester										= Requester
				related.ItemGroup										= ItemGroup
				related.RequesterPurchasingClass.MajorPurchasingClass	= RequesterPurchasingClass.MajorPurchasingClass
				related.RequesterPurchasingClass.MinorPurchasingClass	= blank

		SetupAtMinorClassRel
			one-to-many relation to RequesterPurchasingClass
			Field Mapping uses symbolic key
				related.HROrganization	= HROrganization
				related.Requester		= Requester
				related.ItemGroup		= ItemGroup
			Instance Selection
				where (related.RequesterPurchasingClass.MajorPurchasingClass = this instance.RequesterPurchasingClass.MajorPurchasingClass
				and    related.RequesterPurchasingClass.MinorPurchasingClass entered)

		AnotherRecordRel
			one-to-many relation to RequesterPurchasingClass
			Field Mapping uses symbolic key
				related.HROrganization	= HROrganization
				related.Requester		= Requester
				related.ItemGroup		= ItemGroup
			Instance Selection
				where (related.RequesterPurchasingClass.MajorPurchasingClass != this instance.RequesterPurchasingClass.MajorPurchasingClass
				or     (related.RequesterPurchasingClass.MajorPurchasingClass = this instance.RequesterPurchasingClass.MajorPurchasingClass
				and     related.RequesterPurchasingClass.MinorPurchasingClass != this instance.RequesterPurchasingClass.MinorPurchasingClass))

    Sets

	Field Rules
		RequesterPurchasingClass
			if (RequesterPurchasingClass.MinorPurchasingClass entered)
				constraint (SetupAtMajorClassRel not exists)
					"AlreadySetupAtMajorClass;CannotAddMinorClass"
			else
				constraint (SetupAtMinorClassRel not exists)
					"AlreadySetupAtMinorClass;CannotAddMajorClassOnly"

	Actions
		Create is a Create Action

		Update is an Update Action

		Delete is a Delete Action




