ManufacturerIDManufacturer is a BusinessClass
    owned by ic
    prefix is MFC
    classic name is ICMFGCODE

    Ontology
        symbolic key is ManufacturerIDManufacturer
            classic set name is MFCSET1
            classic name for ManufacturerID is MANUF-ID
            classic name for Manufacturer.ManufacturerCode is MANUF-CODE
            classic name for Manufacturer.ManufacturerDivision is MANUF-DIVISION

    Patterns
        implements StaticJava
        disable AuditIndex

    Sets

        Set2
            indexed
            Sort Order
                ItemGroup
                Manufacturer
                ManufacturerID

	Relations
		OtherManufacturerIDsForManufacturerRel
			one-to-many relation to ManufacturerIDManufacturer
			Field Mapping uses Set2
				related.ItemGroup											= ItemGroup
				related.Manufacturer										= Manufacturer
			Instance Selection
				where (related.ManufacturerIDManufacturer.ManufacturerID 	!= ManufacturerIDManufacturer.ManufacturerID)

		OtherManufacturersForManufacturerIDRel
			one-to-many relation to ManufacturerIDManufacturer
			Field Mapping uses symbolic key
				related.ItemGroup											= ItemGroup
				related.ManufacturerID										= ManufacturerID
			Instance Selection
				where (related.Manufacturer									!= Manufacturer)
		
	
	Field Rules
	
		ManufacturerIDManufacturer
			constraint (!OtherManufacturerIDsForManufacturerRel exist)
				"Manufacturer_\Code/\DivisionAlreadyAssociatedToAnother_\Manufacturer_\Id"


    Actions
        Create is a Create Action

        Update is an Update Action

        Delete is a Delete Action
        	Action Rules
        		constraint (OtherManufacturersForManufacturerIDRel exist)
        			"CannotDeleteLast_\Manufacturer_\Code"              
        			
		RestrictedDelete is a Delete Action
			restricted
