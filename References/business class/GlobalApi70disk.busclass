GlobalApi70disk is a BusinessClass
    owned by workfile
    prefix is W0766

    Patterns
        disable StaticTranslations
        implements WorkFile

    Persistent Fields
        WorkFile                is UniqueID
        WorkFileSeq             is Numeric size 12
        RecKey                  is a GlobalApi70diskRecKeyGroup
        VendorGroup             is like VendorGroup 
        Operator                   
        RecStatus               is Numeric size 1
        ProcLevel               is like PayablesProcessLevel 
        BatchNum                is like BatchNumber 
        AuthCode                is like PayablesAuthorityCode 
        VoucherNbr              is like VoucherNumber
        AccrCode                is like PayablesAccrualCode 
        Location                is like InventoryLocation 
        PoNumber                is like PurchaseOrder    
        PoRelease               is like PORelease 
        PoCode                  is like POCode 
        ExternalPurchaseOrder   is Alpha size 22 
        ServiceContract         is like Contract
        ReturnNumber            is like VendorReturn 
        InvcRefType             is Alpha size 2
        IncomeCode              is like PayablesIncomeCode 
        DiscountCode            is like DiscountCode 
        PurchFrLoc              is like VendorLocation 
        MatchFl                 is like MatchInvoice 
        PayVendor               is like Vendor
        RemitToCode             is like VendorLocation
        InvCurrency             is like Currency 
        InvoiceGroup            is like InvoiceGroup 
        CashCode                is like CashCode
        BankInstCode            is like BankTransactionCode 
        InvoiceDate             is Date 
        InvoiceType             is like InvoiceType 
        TaxCode                 is like TaxCode 
        DueDate                 is Date 
        TermCode                is like TermsCode 
        DiscDate                is Date 
        DistCode                is like PayablesDistributionCode 
        SepChkFlag              is Boolean 
        NbrRecurPmt             is Numeric size 3
        RecurFreq               is like RecurringFrequency 
        CurrRecalc              is Boolean 
        HldCode                 is Alpha size 4
        DistribDate             is Date 
        Enclosure               is Boolean 
        PayImmFlag              is Boolean 
        Anticipation            is Boolean 
        Description             is like Description 
        InvoiceSource           is Alpha size 1
        TranInvAmtNd            is like NumberOfDecimals 
        BaseInvAmtNd            is like NumberOfDecimals 
        TranAlowAmtNd           is like NumberOfDecimals 
        TranTaxAmtNd            is like NumberOfDecimals 
        TranTxblAmtNd           is like NumberOfDecimals 
        TranTotTxblNd           is like NumberOfDecimals 
        TranIncAmtNd            is like NumberOfDecimals 
        TranDiscAmtNd           is like NumberOfDecimals 
        BaseDiscAmtNd           is like NumberOfDecimals 
        OrigCnvRate             is like CnvRate
        DiscountRt              is Decimal size 6.5
        TranInvAmt              is like InternationalAmount
        TranTaxAmt              is like InternationalAmount
        TranTxblAmt             is like InternationalAmount
        TranTotTxbl             is like InternationalAmount
        BaseInvAmt              is like InternationalAmount
        TranAlowAmt             is like InternationalAmount
        TranIncAmt              is like InternationalAmount
        TranDiscAmt             is like InternationalAmount
        BaseDiscAmt             is like InternationalAmount
        ErrorFlag               is Alpha size 1
        ErrorMsg                is Alpha size up to 200			
        RetailAmt               is like InternationalAmount
        RetailAmtNd             is like NumberOfDecimals 
        RcptInvDate             is Date 
        ReasonCode              is like ProcurementReasonCode 
        MatchRefNbr             is Alpha size 22
        MatchStatus             is Numeric size 1
        EdiNbr                  is like EDINumber 
        MatchAmt                is like InternationalAmount
        MatchCnt                is Numeric size 6
        PjAdjustAmt             is like InternationalAmount 
        InvUsrFld01             is Alpha size 20
        InvUsrFld02             is Alpha size 20
        InvUsrFld03             is Alpha size 20
        InvUsrFld04             is Alpha size 20
        InvUsrFld05             is Alpha size 20
        CbprintFl               is Alpha size 1
        LastMatchLn             is like OrigLine 
        AocAllowAmt             is like InternationalAmount
        PovItaxTotal            is like InternationalAmount
        OvItaxTotal             is like InternationalAmount
        AccrTaxTotal            is like InternationalAmount
        ApiObjId                is like ObjId 
        TaxOverrideFl           is Alpha size 1
        RecDate                 is Date 
        ServiceFl               is Boolean
        ServiceAmt              is like InternationalAmount
        PostingStatus           is Numeric size 1
        JrnlBookNbr             is like JournalBook 
        	restricted
        JbkSeqNbr               is like JbkSeqNbr 
        	restricted
        UnloadingPort           is like UnloadingPort 
        Notc                    is like IntrastatNatureOfTransactionCode 
        StatProc                is like IntrastatStatisticalProcedure 
        ShipVia                 is like ShipVia 
        FobCode                 is like ShipTerm 
        DropshipFl              is Boolean 
        DestRegion              is like Region
        DestCountryCode         is like Country
        OriginRegion            is like Region
        OriginCountryCode       is like Country
        VatRegCtry              is like Country
        VatRegNbr               is like VATRegistrationNumber 
        	holds pii
        MainvmsgSw              is Alpha size 1
        DiverseCode             is like PayablesDiversityCode 
        FlexFlag                is Boolean
        RuleGroup               is like MatchRule 
        HashQty                 is like HashQuantity 
        MatchAoc                is like InternationalAmount 
        CocoFl                  is Boolean 
        Buyer                   is like Buyer
        ProcurementCardProgram  is like ProcurementCardProgram
        Statement               is like ProcurementCardStatement 
        MtchProcType            is like MatchProcessType 
        ContractGroup           is Alpha size 4
        CmContract              is like Contract 
        RebateType              is like ContractRebateType 
        RebateDueDte            is Date 
        RetAccrCode             is like PayablesAccrualCode 
        RefInvNbr               is like Invoice 
        DiscDate2               is Date 
        DiscDate3               is Date 
        DiscountRt2             is Decimal size 6.5
        DiscountRt3             is Decimal size 6.5
        TranDiscAmt2            is like InternationalAmount
        TranDiscAmt3            is like InternationalAmount
        TranDiscAmt2Nd          is like NumberOfDecimals 
        TranDiscAmt3Nd          is like NumberOfDecimals 
        GlblDocType             is like GlobalDocumentType 
        RefType                 is like ReferenceType 
        CustomerId              is like CustomerID 
        PmtCatCode              is like PaymentCategoryCode 
        NoPayConcern            is like NoPayConcern 
        ReferenceNo             is like ReferenceNumber 
        PayablesInvoice         is like PayablesInvoice
  
    Sets

        RecKey
            indexed
            no duplicates
            primary
            Sort Order
                WorkFile
                RecKey

        InsertionOrderSet
            indexed
            no duplicates
            Sort Order
                WorkFile
                WorkFileSeq

    Actions

        Create is a Create Action

            Field Rules
                WorkFileSeq
                    autosequence

        Delete is a Delete Action

        DeleteAll is a Set Action
            restricted

            Parameters
                WorkFileHeader is UniqueID

            Instance Selection
                where (WorkFile = WorkFileHeader)

            Local Fields
                LWorkFileHeader is a WorkFile

            Parameter Rules
                WorkFileHeader
                    required
                    LWorkFileHeader = WorkFileHeader

            Action Rules
                Instance Rules
                    invoke Delete

                Empty Set Rules
                    invoke Purge LWorkFileHeader

                Set Rules
                    Exit Rules
                        invoke Purge LWorkFileHeader
