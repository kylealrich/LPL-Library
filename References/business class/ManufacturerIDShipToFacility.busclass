ManufacturerIDShipToFacility is a BusinessClass
    owned by ic
    prefix is MFG
    classic name is MFGSHPFAC

    Ontology
        symbolic key is ManufacturerIDShipToFacility
            classic set name is MFGSET1
            classic name for ManufacturerID is MANUF-ID
            classic name for ShipToFacility is ST-FACILITY

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        Name
        ManufacturerCrossReference is AlphaUpper size 15
            classic name is MANUF-FAC-ID
        PostalAddress				is a PostalAddressV2	
        	holds pii
			classic name for PostalAddress.DeliveryAddress.AddressLine1 is ADDR1
			classic name for PostalAddress.DeliveryAddress.AddressLine2 is ADDR2
			classic name for PostalAddress.DeliveryAddress.AddressLine3 is ADDR3
			classic name for PostalAddress.DeliveryAddress.AddressLine4 is ADDR4
			classic name for PostalAddress.Municipality is CITY-ADDR5
			classic name for PostalAddress.StateProvince is STATE-PROV
			classic name for PostalAddress.Country is COUNTRY-CODE

    Sets

        Set2
            indexed
            Sort Order
                ItemGroup
                ShipToFacility
                ManufacturerID

	Relations
	
		OtherShipToFacilitiesForManufacturerIDRel
			one-to-many relation to ManufacturerIDShipToFacility
			Field Mapping uses symbolic key
				related.ItemGroup													= ItemGroup
			Instance Selection
				where 	(related.ManufacturerIDShipToFacility.ManufacturerID		= ManufacturerIDShipToFacility.ManufacturerID
				and 	related.ManufacturerIDShipToFacility.ShipToFacility			!= ManufacturerIDShipToFacility.ShipToFacility)

	Field Rules
		
		ManufacturerCrossReference
			default to ShipToFacility
		Name
			default to ShipToFacility.Name

    Actions
        Create is a Create Action

        Update is an Update Action

        Delete is a Delete Action
        	Action Rules
        		constraint (OtherShipToFacilitiesForManufacturerIDRel exist)
        			"CannotDeleteLast_\Manufacturer_\Id_\Ship_\To_\Facility"
        			
		RestrictedDelete is a Delete Action
			restricted
