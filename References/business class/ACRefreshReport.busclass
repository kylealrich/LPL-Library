ACRefreshReport is a BusinessClass
    owned by la
    prefix is ACRR
    default label is untranslatable

    Ontology
    	symbolic key is ACRefreshReport
        
	Patterns
    	implements CRUD
		disable Auditing
		disable EffectiveDated
		disable RetroactiveEffectiveDating
	
    Persistent Fields
    	Description   is Alpha size 60
		RunDate       is TimeStamp
		Report        is LPL
		ReportLineNbr is Numeric size 10
		    	
	Local Fields
		SpecialChar
		
	Sets
		ByRunDate
			Sort Order
				BusinessClass
				RunDate
				ACRefreshReport
				
	Conditions
		EnableRestrictedActions
			restricted
			when (AnalyticCube.EnableRestrictedActions) 			

		CanCreateTextDocument
			restricted
			when (Report not entered) 			

		CanCreateTextDocumentInForeground
			restricted
			when (CanCreateTextDocument and EnableRestrictedActions) 			

	Actions
		Create is a Create Action
		Delete is a Purge Action
		Update is an Update Action
		
		CreateTextDocument is an Instance Action
			valid when (CanCreateTextDocument)	
			run in background
			Action Rules
				for each ACRefreshReportLine set
					Report = Report + each.ReportLine + SpecialChar.NewLine

		CreateTextDocumentInForeground is an Instance Action
			valid when (CanCreateTextDocumentInForeground)	
			Action Rules
				for each ACRefreshReportLine set
					Report = Report + each.ReportLine + SpecialChar.NewLine

					
