TrueCostCapacity is a BusinessClass
	default label is "PracticalCapacity"
	owned by truecost
	
	prefix is TCCap
	
	Ontology
		symbolic key is TrueCostCapacity
		
	
	Patterns
	
	Persistent Fields
		Description
		VolumeDimension			is a StructureRow
		HasAccount				is Boolean
			restricted
			default label is "<TrueCostConfiguration.AccountLabel>"
		HasProject				is Boolean
			default label is "<TrueCostConfiguration.ProjectLabel>"
		HasAccountingUnit		is Boolean
			default label is "<TrueCostConfiguration.AccountingUnitLabel>"
        HasDimension1        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension1Label>"
        HasDimension2        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension2Label>"
        HasDimension3        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension3Label>"
        HasDimension4        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension4Label>"
        HasDimension5        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension5Label>"
        HasDimension6        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension6Label>"
        HasDimension7        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension7Label>"
        HasDimension8        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension8Label>"
        HasDimension9        	is Boolean
        	default label is "<TrueCostConfiguration.FinanceDimension9Label>"
        HasDimension10        	is Boolean		
        	default label is "<TrueCostConfiguration.FinanceDimension10Label>"	

	Field Rules
		VolumeDimension
			required
			if (VolumeDimension.Type.Account)
				constraint (HasAccount)
					"<TrueCostConfiguration.AccountLabel>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Project)
				constraint (HasProject)
					"<TrueCostConfiguration.ProjectLabel>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.AccountingUnit)
				constraint (HasAccountingUnit)
					"<TrueCostConfiguration.AccountingUnitLabel>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension1)
				constraint (HasDimension1)
					"<TrueCostConfiguration.FinanceDimension1Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension2)
				constraint (HasDimension2)
        			"<TrueCostConfiguration.FinanceDimension2Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension3)
				constraint (HasDimension3)
        			"<TrueCostConfiguration.FinanceDimension3Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension4)
				constraint (HasDimension4)
        			"<TrueCostConfiguration.FinanceDimension4Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension5)
				constraint(HasDimension5)
        			"<TrueCostConfiguration.FinanceDimension5Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension6)
				constraint (HasDimension6)
        			"<TrueCostConfiguration.FinanceDimension6Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension7)
				constraint (HasDimension7)
        			"<TrueCostConfiguration.FinanceDimension7Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension8)
				constraint (HasDimension8)
        			"<TrueCostConfiguration.FinanceDimension8Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension9)
				constraint (HasDimension9)
        			"<TrueCostConfiguration.FinanceDimension9Label>ShouldBeEnabledInDimensions"		
			if  (VolumeDimension.Type.Dimension10)
				constraint (HasDimension10)
        			"<TrueCostConfiguration.FinanceDimension10Label>ShouldBeEnabledInDimensions"
        			
		HasProject
			constraint (TrueCostConfiguration.ProjectEntry)
    			"FieldMustBeBlank"
			constraint (TrueCostConfiguration.HasProject)
				"<TrueCostConfiguration.ProjectLabel>IsDisabledIn_True\CostConfiguration"
		HasAccountingUnit
			constraint (TrueCostConfiguration.AccountingUnitSelected)
        		"FieldMustBeBlank"
			constraint (TrueCostConfiguration.HasAccountingUnit)
				"<TrueCostConfiguration.AccountingUnitLabel>IsDisabledIn_True\CostConfiguration"
        HasDimension1
        	constraint (TrueCostConfiguration.FinanceDimension1Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension1)
				"<TrueCostConfiguration.FinanceDimension1Label>IsDisabledIn_True\CostConfiguration"
        HasDimension2
        	constraint (TrueCostConfiguration.FinanceDimension2Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension2)
				"<TrueCostConfiguration.FinanceDimension2Label>IsDisabledIn_True\CostConfiguration"
        HasDimension3
        	constraint (TrueCostConfiguration.FinanceDimension3Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension3)
				"<TrueCostConfiguration.FinanceDimension3Label>IsDisabledIn_True\CostConfiguration"
        HasDimension4
        	constraint (TrueCostConfiguration.FinanceDimension4Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension4)
				"<TrueCostConfiguration.FinanceDimension4Label>IsDisabledIn_True\CostConfiguration"
        HasDimension5
        	constraint (TrueCostConfiguration.FinanceDimension5Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension5)
				"<TrueCostConfiguration.FinanceDimension5Label>IsDisabledIn_True\CostConfiguration"
        HasDimension6
        	constraint (TrueCostConfiguration.FinanceDimension6Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension6)
				"<TrueCostConfiguration.FinanceDimension6Label>IsDisabledIn_True\CostConfiguration"
        HasDimension7
        	constraint (TrueCostConfiguration.FinanceDimension7Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension7)
				"<TrueCostConfiguration.FinanceDimension7Label>IsDisabledIn_True\CostConfiguration"
        HasDimension8
        	constraint (TrueCostConfiguration.FinanceDimension8Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension8)
				"<TrueCostConfiguration.FinanceDimension8Label>IsDisabledIn_True\CostConfiguration"
        HasDimension9
        	constraint (TrueCostConfiguration.FinanceDimension9Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension9)
				"<TrueCostConfiguration.FinanceDimension9Label>IsDisabledIn_True\CostConfiguration"
        HasDimension10
        	constraint (TrueCostConfiguration.FinanceDimension10Entry)
        		"FieldMustBeBlank"
        	constraint (TrueCostConfiguration.HasDimension10)
				"<TrueCostConfiguration.FinanceDimension10Label>IsDisabledIn_True\CostConfiguration"
	
	Conditions
		HasAccountingUnitEntered
			restricted
			when (HasAccountingUnit)
		
		HasProjectEntered
			restricted
			when (HasProject)

		HasDimension1Entered
			restricted
			when (HasDimension1)
			
		HasDimension2Entered
			restricted
			when (HasDimension2)

		HasDimension3Entered
			restricted
			when (HasDimension3)

		HasDimension4Entered
			restricted
			when (HasDimension4)

		HasDimension5Entered
			restricted
			when (HasDimension5)

		HasDimension6Entered
			restricted
			when (HasDimension6)

		HasDimension7Entered
			restricted
			when (HasDimension7)

		HasDimension8Entered
			restricted
			when (HasDimension8)

		HasDimension9Entered
			restricted
			when (HasDimension9)

		HasDimension10Entered
			restricted
			when (HasDimension10)

		VolumeDimensionAccountingUnit
			restricted
			when (VolumeDimension.Type.AccountingUnit)
						
		VolumeDimension1
			restricted
			when (VolumeDimension.Type.Dimension1)

		VolumeDimension2
			restricted
			when (VolumeDimension.Type.Dimension2)

		VolumeDimension3
			restricted
			when (VolumeDimension.Type.Dimension3)

		VolumeDimension4
			restricted
			when (VolumeDimension.Type.Dimension4)

		VolumeDimension5
			restricted
			when (VolumeDimension.Type.Dimension5)

		VolumeDimension6
			restricted
			when (VolumeDimension.Type.Dimension6)			

		VolumeDimension7
			restricted
			when (VolumeDimension.Type.Dimension7)											

		VolumeDimension8
			restricted
			when (VolumeDimension.Type.Dimension8)					

		VolumeDimension9
			restricted
			when (VolumeDimension.Type.Dimension9)

		VolumeDimension10
			restricted
			when (VolumeDimension.Type.Dimension10)

		PostingAccountingUnit
			restricted
			when (HasAccountingUnit and not VolumeDimension.Type.AccountingUnit)
			
		PostingDimension1
			restricted
			when (HasDimension1 and not VolumeDimension.Type.Dimension1)

		PostingDimension2
			restricted
			when (HasDimension2 and not VolumeDimension.Type.Dimension2)

		PostingDimension3
			restricted
			when (HasDimension3 and not VolumeDimension.Type.Dimension3)

		PostingDimension4
			restricted
			when (HasDimension4 and not VolumeDimension.Type.Dimension4)

		PostingDimension5
			restricted
			when (HasDimension5 and not VolumeDimension.Type.Dimension5)

		PostingDimension6
			restricted
			when (HasDimension6 and not VolumeDimension.Type.Dimension6)			

		PostingDimension7
			restricted
			when (HasDimension7 and not VolumeDimension.Type.Dimension7)											

		PostingDimension8
			restricted
			when (HasDimension8 and not VolumeDimension.Type.Dimension8)											

		PostingDimension9
			restricted
			when (HasDimension9 and not VolumeDimension.Type.Dimension9)

		PostingDimension10
			restricted
			when (HasDimension10 and not VolumeDimension.Type.Dimension10)	
		
	Derived Fields
		DerivedAccountingEntity is a DerivedField
			type is Boolean
			default label is "<TrueCostConfiguration.AccountingEntityLabel>"
			return true
			
	Actions
		Create is a Create Action

		Update is an Update Action
			Action Rules

				if (HasAccount    changed
				or  HasProject    changed
				or  HasAccountingUnit changed
				or 	HasDimension1 changed
				or 	HasDimension2 changed
				or 	HasDimension3 changed
				or 	HasDimension4 changed
				or 	HasDimension5 changed
				or 	HasDimension6 changed
				or 	HasDimension7 changed
				or 	HasDimension8 changed
				or 	HasDimension9 changed
				or 	HasDimension10 changed
				or  VolumeDimension changed)
					constraint (TrueCostCapacityDetail set not exists)
						"FieldCannotBeChanged.PracticalCapacityExist."	
					constraint (TrueCostCapacityUnutilized set not exists)
						"FieldCannotBeChanged.UnutilizedCapacityExist."

		Delete is a Delete Action

		
