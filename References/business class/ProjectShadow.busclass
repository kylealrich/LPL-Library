ProjectShadow is a BusinessClass
	owned by Projects
	
	prefix is PRShd
	
	Ontology
		symbolic key is ProjectShadow
			
	Patterns
		disable Auditing


				
	Persistent Fields
		ProjectType		is a DimensionType
	
	Local Fields
		LocalCodeBlockRelation				is a CodeBlockRelation		
		LocalKeyFromValue					is Alpha 200				
		LocalKeyToValue						is Alpha 200				
		LocalCommitCounter					is Numeric size 3			
		LocalArrayCounter					is Numeric size 5			
		LocalSystem							is like GeneralLedgerSystemCode
		LocalProjectContract				is like Project
		LocalFinanceDimension2				is like FinanceDimension2
		LocalDateRange						is a DateRange
		LocalGLTransactionDetail			is a GLTransactionDetail
		LocalDimensionGroupType				is a DimensionGroupType
		LocalFinanceDimensionSecurityGroup	is like FinanceDimensionSecurityGroup

	Derived Fields
		SummaryContractCurrency is a DerivedField
			type is like Currency
			restricted
			return ProjectContractRel.Currency

	Relations
		ProjectContractRel
			one-to-one relation to ProjectContract
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.ProjectContract			= SummaryProject		
				
		CalculateProjectContractRel
			one-to-one relation to ProjectContract
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.ProjectContract			= LocalProjectContract		

		CodeBlockRelationDetailFromToRel
			one-to-one relation to CodeBlockRelationDetail
			Field Mapping uses ByKeyValues
				related.FinanceEnterpriseGroup				= FinanceEnterpriseGroup
				related.CodeBlockRelation					= LocalCodeBlockRelation
				related.KeyFromValue						= LocalKeyFromValue
				related.KeyToValue							= LocalKeyToValue					

		ProjectFundingSourceRel
			one-to-one relation to ProjectFundingSource
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.ProjectContract			= LocalProjectContract
				related.FinanceDimension2		= LocalFinanceDimension2
		ProjectFESGLTransactionDetailRel
			one-to-many relation to GLTransactionDetail
			Field Mapping uses TransactionsByProject
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
				related.FinanceCodeBlock.Project   	= Project
			Instance Selection
				where (related.FinanceCodeBlock.FinanceDimension2 entered
				and    related.ReportCurrencyAmount.ProjectAmount.EnteredCurrencyAmount entered
				and   !related.FESExcludedEvent)
		ProjectFESGeneralLedgerTransactionRel
			one-to-many relation to GeneralLedgerTransaction
			Field Mapping uses ByProjectAndPostingDate
				related.FinanceEnterpriseGroup 		= FinanceEnterpriseGroup
				related.FinanceCodeBlock.Project   	= Project
			Instance Selection
				where (related.FinanceCodeBlock.FinanceDimension2 entered
				and    related.ReportCurrencyAmount.ProjectAmount.EnteredCurrencyAmount entered
				and    related.Status.Unreleased
				and   !related.FESExcludedEvent)
		ProjectFESGLCommitRel
			one-to-many relation to GLCommit
			Field Mapping uses ByProjectAndSystemCurrent
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
				related.FinanceCodeBlock.Project	= Project
				related.System				   		= LocalSystem
			Instance Selection
				where (related.FinanceCodeBlock.FinanceDimension2 entered
				and    related.ReportCurrencyAmount.ProjectAmount.EnteredCurrencyAmount entered)
		ProjectFESGLTransactionInterfaceRel
			one-to-many relation to GLTransactionInterface
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
			Instance Selection
				where (related.Project = Project
				and    related.FinanceDimension2 entered
				and    related.CurrencyCode = Project.Currency
				and    related.TransactionAmount entered
				and   !related.FESExcludedEvent)
		FESProjectIndirectBurdenTransactionRel
			one-to-many relation to ProjectIndirectBurdenTransaction
			Field Mapping uses part of key
				related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
				related.Project					= Project
			Instance Selection
				where (related.Status.Created
				and    related.FESFD2 entered)

    	GeneralLedgerTransactionReallocRel
    		one-to-many relation to GeneralLedgerTransaction
    		Field Mapping uses ByProjectAndPostingDate
    			related.FinanceEnterpriseGroup		= FinanceEnterpriseGroup
    			related.FinanceCodeBlock.Project	= Project
    			related.PostingDate					<= LocalDateRange.End
    		Instance Selection
				where (related.Status.Posted
				and    related.FinanceCodeBlock.FinanceDimension2 entered
    			and    related.PostingDate >= LocalDateRange.Begin
    			and    related.System != "PS"
    			and    related.GeneralLedgerEvent != "PL"
    			and    related.GeneralLedgerEvent != "PJ"
    			and    related.GeneralLedgerEvent != "BD"
    			and    related.GeneralLedgerEvent != "LR")

		ProjectContractReallocationSelectionRel
			one-to-one relation to ProjectContractReallocationSelection
			Field Mapping uses ByGLTransactionDetail
				related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				related.GLTransactionDetail	   = LocalGLTransactionDetail

		GroupSecurityDetailRel
			one-to-one relation to FinanceDimensionSecurityGroupDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup              = FinanceEnterpriseGroup
				related.DimensionGroupType					= LocalDimensionGroupType
				related.FinanceDimensionSecurityGroup       = LocalFinanceDimensionSecurityGroup
				related.FinanceDimensionSecurityGroupDetail	= Project

	Conditions
		IsContract
			restricted		
			when (Project.Contract)

	Field Rules
		ProjectStructure
			default to FinanceEnterpriseGroup.EnterpriseProjectStructure
	
	Sets
		BySummaryProject
			Sort Order
				FinanceEnterpriseGroup

				SummaryProject
				Project
	
	Actions
		Create is an Action
			restricted
		Update is an Action
			restricted
		Delete is an Action
			restricted
			
		DeleteShadowForStructure is a Set Action
			restricted
			disable checkpoint
			Parameters
				PrmFinanceEnterpriseGroup 	is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
				PrmDimensionStructure		is a ProjectStructure
					default label is "ProjectStructure"
			Parameter Rules
				PrmFinanceEnterpriseGroup
					required
				PrmDimensionStructure
					required
			Instance Selection
				where (FinanceEnterpriseGroup 		= PrmFinanceEnterpriseGroup
				and    ProjectStructure				= PrmDimensionStructure)
				
			Action Rules
				Instance Rules
					invoke Delete


		CreateOrDeleteProjByValRelFromProjectToBlank is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmProject         				is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
                PrmCodeBlockRelation
				PrmProject
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
				LocalCommitCounter				is Numeric 3
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyFromValue			= Project
					LocalKeyToValue				= blank
					if(PrmDeleteFlag)
						invoke Delete CodeBlockRelationDetailFromToRel
					else
						invoke Update CodeBlockRelationDetailFromToRel
							invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
							invoked.CodeBlockRelation                   = PrmCodeBlockRelation
							invoked.Project		          				= Project
							invoked.DefaultToValue                      = PrmDefaultToValue
					increment LocalCommitCounter
					if (LocalCommitCounter > 50)
						commit transaction
						initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromProjectToAnyTo is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmProject         				is a Project
				PrmAllAreValid		    		is Alpha 15
				PrmAllowBlankWithAnyTo			is Boolean
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
                PrmCodeBlockRelation
				PrmProject
				PrmAllAreValid
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
				LocalCommitCounter				is Numeric 3
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyFromValue			= Project
					LocalKeyToValue				= PrmAllAreValid
					if(PrmDeleteFlag)
						invoke Delete CodeBlockRelationDetailFromToRel
					else
						invoke Update CodeBlockRelationDetailFromToRel
							invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
							invoked.CodeBlockRelation                   = PrmCodeBlockRelation
							invoked.Project		          				= Project
							invoked.AnyTo								= true
							invoked.AllowBlankWithAnyTo					= PrmAllowBlankWithAnyTo
							invoked.DefaultToValue                      = PrmDefaultToValue
					increment LocalCommitCounter
					if (LocalCommitCounter > 50)
						commit transaction
						initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromProjectToUnit is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject         				is a Project
				PrmAccountingEntity				is an AccountingEntity
                PrmAccountingUnit	    		is an AccountingUnit
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
				PrmAccountingEntity
                PrmAccountingUnit
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order
                FinanceEnterpriseGroup
				Project
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteUnitByValRelFromProjectToUnit AccountingUnitShadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
								invoked.PrmAccountingEntity				= PrmAccountingEntity
                            	invoked.PrmAccountingUnit		        = PrmAccountingUnit
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteUnitByValRelFromProjectToUnit AccountingUnitShadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
							invoked.PrmAccountingEntity				= PrmAccountingEntity
                            invoked.PrmAccountingUnit		        = PrmAccountingUnit
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToAccount is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmAccount	    				is a GeneralLedgerChartAccount
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmAccount
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteAccByValRelFromProjectToAccount GLChartAccountShadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmAccount		            	= PrmAccount
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteAccByValRelFromProjectToAccount GLChartAccountShadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmAccount		            	= PrmAccount
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension1 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension1	    			is a FinanceDimension1
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension1
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim1ByValRelFromProjectToDimension1 FinanceDimension1Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension1		            = PrmDimension1
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim1ByValRelFromProjectToDimension1 FinanceDimension1Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension1		            = PrmDimension1
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension2 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension2	    			is a FinanceDimension2
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension2
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim2ByValRelFromProjectToDimension2 FinanceDimension2Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension2		            = PrmDimension2
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim2ByValRelFromProjectToDimension2 FinanceDimension2Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension2		            = PrmDimension2
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

        CreateOrDeleteProjByValRelFromProjectToDimension3 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension3	    			is a FinanceDimension3
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension3
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim3ByValRelFromProjectToDimension3 FinanceDimension3Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension3		            = PrmDimension3
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim3ByValRelFromProjectToDimension3 FinanceDimension3Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension3		            = PrmDimension3
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension4 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension4	    			is a FinanceDimension4
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension4
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim4ByValRelFromProjectToDimension4 FinanceDimension4Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension4		            = PrmDimension4
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim4ByValRelFromProjectToDimension4 FinanceDimension4Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension4		            = PrmDimension4
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension5 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension5	    			is a FinanceDimension5
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension5
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim5ByValRelFromProjectToDimension5 FinanceDimension5Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension5		            = PrmDimension5
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim5ByValRelFromProjectToDimension5 FinanceDimension5Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension5		            = PrmDimension5
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension6 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension6	    			is a FinanceDimension6
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension6
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim6ByValRelFromProjectToDimension6 FinanceDimension6Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension6		            = PrmDimension6
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim6ByValRelFromProjectToDimension6 FinanceDimension6Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension6		            = PrmDimension6
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension7 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension7	    			is a FinanceDimension7
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension7
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim7ByValRelFromProjectToDimension7 FinanceDimension7Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension7		            = PrmDimension7
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim7ByValRelFromProjectToDimension7 FinanceDimension7Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension7		            = PrmDimension7
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension8 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension8	    			is a FinanceDimension8
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension8
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim8ByValRelFromProjectToDimension8 FinanceDimension8Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension8		            = PrmDimension8
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim8ByValRelFromProjectToDimension8 FinanceDimension8Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension8		            = PrmDimension8
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension9 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension9	    			is a FinanceDimension9
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension9
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim9ByValRelFromProjectToDimension9 FinanceDimension9Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension9		            = PrmDimension9
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim9ByValRelFromProjectToDimension9 FinanceDimension9Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension9		            = PrmDimension9
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project

		CreateOrDeleteProjByValRelFromProjectToDimension10 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension10	    			is a FinanceDimension10
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension10
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalArrayCounter				is Numeric 5
				LocalProjectArray				is a ProjectArray
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
					Exit Rules
						if (LocalArrayCounter > 0)
							invoke CreateOrDeleteDim10ByValRelFromProjectToDimension10 FinanceDimension10Shadow
								invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            	invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
                            	invoked.PrmProject						= LocalProjectArray.Project[1]
								invoked.PrmProjectArray    				= LocalProjectArray
                            	invoked.PrmDimension10		            = PrmDimension10
                            	invoked.PrmDefaultToValue               = PrmDefaultToValue
								invoked.PrmDeleteFlag					= PrmDeleteFlag
                            	invoked.PrmUniqueID						= PrmUniqueID	
                Instance Rules
					LocalArrayCounter += 1
					if (LocalArrayCounter < FinanceEnterpriseGroup.StructureRelationArraySize)
						LocalProjectArray.Project[LocalArrayCounter] = Project
					else
						invoke CreateOrDeleteDim10ByValRelFromProjectToDimension10 FinanceDimension10Shadow
							invoked.PrmFinanceEnterpriseGroup       = PrmFinanceEnterpriseGroup
                            invoked.PrmCodeBlockRelation            = PrmCodeBlockRelation
							invoked.PrmProject						= LocalProjectArray.Project[LocalArrayCounter-1]
							invoked.PrmProjectArray    				= LocalProjectArray
                            invoked.PrmDimension10		            = PrmDimension10
                            invoked.PrmDefaultToValue               = PrmDefaultToValue
							invoked.PrmDeleteFlag					= PrmDeleteFlag
                            invoked.PrmUniqueID						= PrmUniqueID	
						initialize LocalProjectArray
						initialize LocalArrayCounter

						LocalArrayCounter = 1
						LocalProjectArray.Project[LocalArrayCounter] = Project



		CreateOrDeleteProjByValRelFromProjectToNewDimension3 is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmProject               		is a Project
                PrmDimension3	    			is a FinanceDimension3
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
                PrmProject
                PrmDimension3
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
            	LocalCommitCounter				is Numeric 3
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
				Set Rules
					Entrance Rules
						initialize LocalCommitCounter      
						LocalCodeBlockRelation 		= PrmCodeBlockRelation
						LocalKeyToValue				= PrmDimension3
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalKeyFromValue			= Project
					if(PrmDeleteFlag)
						invoke Delete CodeBlockRelationDetailFromToRel
						increment LocalCommitCounter
						if (LocalCommitCounter > 50)
							commit transaction
							initialize LocalCommitCounter
					else
						invoke Update CodeBlockRelationDetailFromToRel
							invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
							invoked.CodeBlockRelation                   = PrmCodeBlockRelation
							invoked.Project           					= Project
							invoked.Dimension3							= PrmDimension3    
							invoked.DefaultToValue                      = PrmDefaultToValue
						increment LocalCommitCounter
						if (LocalCommitCounter > 50)
							commit transaction
							initialize LocalCommitCounter



		CreateOrDeleteProjByValRelFromBlankToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmProject         				is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
                PrmCodeBlockRelation
				PrmProject
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
				LocalCommitCounter				is Numeric 3
			Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyFromValue			= blank
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						invoke Delete CodeBlockRelationDetailFromToRel
					else
						invoke Update CodeBlockRelationDetailFromToRel
							invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
							invoked.CodeBlockRelation                   = PrmCodeBlockRelation
							invoked.Project		          				= Project
							invoked.DefaultToValue                      = PrmDefaultToValue
					increment LocalCommitCounter
					if (LocalCommitCounter > 50)
						commit transaction
						initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromUnitToProject is a Set Action
			restricted
			Parameters
				PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
				PrmAccountingEntity				is like AccountingEntity
                PrmAccountingUnit				is like AccountingUnit
                PrmAccountingUnitArray			is like AccountingUnitArray
                PrmProject					    is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
            Set Is
                PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmAccountingEntity
				PrmAccountingUnit
                PrmProject
				PrmDeleteFlag
                PrmUniqueID
            Local Fields
				LocalArrayCounter				is Numeric 5
            	LocalCommitCounter				is Numeric 3
            Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	Project.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
					initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project					   
					if(PrmDeleteFlag)
						while (PrmAccountingUnitArray.AccountingEntityAndUnit[LocalArrayCounter].AccountingUnit entered)
							LocalKeyFromValue	= PrmAccountingUnitArray.AccountingEntityAndUnit[LocalArrayCounter].DerivedEntityAccountingUnit
							invoke Delete CodeBlockRelationDetailFromToRel 
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmAccountingUnitArray.AccountingEntityAndUnit[LocalArrayCounter].AccountingUnit entered)
							LocalKeyFromValue	= PrmAccountingUnitArray.AccountingEntityAndUnit[LocalArrayCounter].DerivedEntityAccountingUnit
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.AccountingEntity           			= PrmAccountingUnitArray.AccountingEntityAndUnit[LocalArrayCounter].AccountingEntity
								invoked.AccountingUnit						= PrmAccountingUnitArray.AccountingEntityAndUnit[LocalArrayCounter].AccountingUnit
								invoked.Project								= Project    
								invoked.DefaultToValue                      = PrmDefaultToValue
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

        CreateCodeBlockRelationDetails is a Set Action
            restricted
            
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmGeneralLedgerChartAccount    is an GeneralLedgerChartAccount
                PrmProject                      is a Project
                PrmAccountArray					is an AccountArray
                PrmSequenceNumber				is Numeric 5
                PrmDefaultToValue               is Alpha 200
                PrmCreateBlankTo				is Boolean
                PrmUniqueID						is a UniqueID

			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmGeneralLedgerChartAccount
				PrmProject
				PrmUniqueID
				            
            Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and    SummaryProject =  PrmProject
                and    Project.ProjectType.Posting)
            
            Sort Order
				FinanceEnterpriseGroup
				Project
                    
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                        
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
                	while (PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter] entered)
                		if (PrmCreateBlankTo)
							LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    	LocalKeyFromValue			= PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
	                    	LocalKeyToValue				= blank
							invoke Update CodeBlockRelationDetailFromToRel
	                        	invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
	                        	invoked.CodeBlockRelation                   = PrmCodeBlockRelation
	                            invoked.DefaultToValue                      = PrmDefaultToValue
	                            invoked.GeneralLedgerChartAccount           = PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
	                            invoked.Project                             = blank
	                	LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    LocalKeyFromValue			= PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
	                    LocalKeyToValue				= Project
	                    invoke Update CodeBlockRelationDetailFromToRel
	                    	invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
	                        invoked.CodeBlockRelation                   = PrmCodeBlockRelation
	                        invoked.DefaultToValue                      = PrmDefaultToValue
	                        invoked.GeneralLedgerChartAccount           = PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
	                        invoked.Project                             = Project    
	                    LocalArrayCounter += 1
	                    increment LocalCommitCounter
						if (LocalCommitCounter > 50)
							commit transaction
							initialize LocalCommitCounter
		
        DeleteCodeBlockRelationDetails is a Set Action
            restricted
            
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmGeneralLedgerChartAccount    is an GeneralLedgerChartAccount
                PrmProject                      is a Project
                PrmAccountArray					is an AccountArray
                PrmSequenceNumber				is Numeric 5
                PrmDefaultToValue               is Alpha 200
                PrmCreateBlankTo				is Boolean
                PrmUniqueID						is a UniqueID

			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmGeneralLedgerChartAccount
				PrmProject
				PrmUniqueID
				            
            Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and    SummaryProject =  PrmProject
                and    Project.ProjectType.Posting)
            
            Sort Order
				FinanceEnterpriseGroup
				Project
                    
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                        
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
                	while (PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter] entered)
                		if (PrmCreateBlankTo)
							LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    	LocalKeyFromValue			= PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
	                    	LocalKeyToValue				= blank
							invoke Delete CodeBlockRelationDetailFromToRel
                	
	                	LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    LocalKeyFromValue			= PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
	                    LocalKeyToValue				= Project
	                    invoke Delete CodeBlockRelationDetailFromToRel 
	                    LocalArrayCounter += 1
	                    increment LocalCommitCounter
						if (LocalCommitCounter > 50)
							commit transaction
							initialize LocalCommitCounter
	
        CreateFinanceDimension1StructureCodeBlockDetails is a Set Action
            restricted
            
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmProject                      is a Project
                PrmFinanceDimension1Array		is a FinanceDimension1Array
                PrmSequenceNumber				is Numeric 5
                PrmDefaultToValue               is Alpha 200
                PrmUniqueID						is a UniqueID
                PrmCodeBlockRelationRule		is a CodeBlockRelationRule
                PrmDeleteFlag					is Boolean

			Set Is
				PrmFinanceEnterpriseGroup
				PrmFinanceDimension1Array
				PrmUniqueID
				PrmCodeBlockRelation
				PrmProject

				            
            Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and    SummaryProject =  PrmProject
                and    ProjectShadow.ProjectType.Posting)
            
            Sort Order
				FinanceEnterpriseGroup
				Project
                    
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                        
                Instance Rules
                	if(!PrmDeleteFlag)
						LocalArrayCounter = 1
                    	initialize LocalCommitCounter
                    	while (PrmFinanceDimension1Array.FinanceDimension1[LocalArrayCounter] entered)
                    		if (PrmCodeBlockRelationRule.CreateBlankTo)
								LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    		LocalKeyFromValue			= PrmFinanceDimension1Array.FinanceDimension1[LocalArrayCounter]
	                    		LocalKeyToValue				= blank
								invoke Update CodeBlockRelationDetailFromToRel
	                        		invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
	                        		invoked.CodeBlockRelation                   = PrmCodeBlockRelation
	                            	invoked.DefaultToValue                      = PrmDefaultToValue
	                            	invoked.Dimension1           				= PrmFinanceDimension1Array.FinanceDimension1[LocalArrayCounter]
	                            	invoked.Project                             = blank
	                		LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    	LocalKeyFromValue			= PrmFinanceDimension1Array.FinanceDimension1[LocalArrayCounter]
	                    	LocalKeyToValue				= Project
	                    	invoke Update CodeBlockRelationDetailFromToRel
	                    		invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
	                        	invoked.CodeBlockRelation                   = PrmCodeBlockRelation
	                        	invoked.DefaultToValue                      = PrmDefaultToValue
	                        	invoked.Dimension1                   		= PrmFinanceDimension1Array.FinanceDimension1[LocalArrayCounter]
	                        	invoked.Project                             = Project
	                    	LocalArrayCounter += 1
	                    	increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
						if (PrmCodeBlockRelationRule.CreateBlankFrom)
	                		invoke Update CodeBlockRelationDetailFromToRel
	                    		invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
	                        	invoked.CodeBlockRelation                   = PrmCodeBlockRelation
	                        	invoked.DefaultToValue                      = PrmDefaultToValue
	                        	invoked.Dimension1			        		= blank
	                        	invoked.Project                             = Project
	                        	
	                if(PrmDeleteFlag)
	                	LocalArrayCounter = 1
                    	initialize LocalCommitCounter
                    	while (PrmFinanceDimension1Array.FinanceDimension1[LocalArrayCounter] entered)
                    		if (PrmCodeBlockRelationRule.CreateBlankTo)
								LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    		LocalKeyFromValue			= PrmFinanceDimension1Array.FinanceDimension1[LocalArrayCounter]
	                    		LocalKeyToValue				= blank
								invoke Delete CodeBlockRelationDetailFromToRel
	                		LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    	LocalKeyFromValue			= PrmFinanceDimension1Array.FinanceDimension1[LocalArrayCounter]
	                    	LocalKeyToValue				= Project
	                    	invoke Delete CodeBlockRelationDetailFromToRel
	                    	LocalArrayCounter += 1
	                    	increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
						if (PrmCodeBlockRelationRule.CreateBlankFrom)
							LocalCodeBlockRelation 		= PrmCodeBlockRelation
	                    	LocalKeyFromValue			= blank
	                    	LocalKeyToValue				= Project
	                		invoke Delete CodeBlockRelationDetailFromToRel

        CreateOrDeleteProjByValRelFromAccountToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmAccount    					is like GeneralLedgerChartAccount
                PrmAccountArray					is like AccountArray
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmAccount
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.GeneralLedgerChartAccount          	= PrmAccountArray.GeneralLedgerChartAccount[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromDimension1ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension1    				is like FinanceDimension1
                PrmDimension1Array				is like FinanceDimension1Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension1
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension1Array.FinanceDimension1[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension1Array.FinanceDimension1[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension1Array.FinanceDimension1[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension1Array.FinanceDimension1[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension1				          	= PrmDimension1Array.FinanceDimension1[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

        CreateOrDeleteProjByValRelFromDimension2ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension2    				is like FinanceDimension2
                PrmDimension2Array				is like FinanceDimension2Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension2
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension2Array.FinanceDimension2[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension2Array.FinanceDimension2[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension2Array.FinanceDimension2[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension2Array.FinanceDimension2[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension2				          	= PrmDimension2Array.FinanceDimension2[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromDimension3ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension3    				is like FinanceDimension3
                PrmDimension3Array				is like FinanceDimension3Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension3
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension3Array.FinanceDimension3[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension3Array.FinanceDimension3[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension3Array.FinanceDimension3[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension3Array.FinanceDimension3[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension3				          	= PrmDimension3Array.FinanceDimension3[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

        CreateOrDeleteProjByValRelFromDimension4ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension4    				is like FinanceDimension4
                PrmDimension4Array				is like FinanceDimension4Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension4
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension4Array.FinanceDimension4[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension4Array.FinanceDimension4[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension4Array.FinanceDimension4[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension4Array.FinanceDimension4[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension4				          	= PrmDimension4Array.FinanceDimension4[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromDimension5ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension5    				is like FinanceDimension5
                PrmDimension5Array				is like FinanceDimension5Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension5
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension5Array.FinanceDimension5[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension5Array.FinanceDimension5[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension5Array.FinanceDimension5[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension5Array.FinanceDimension5[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension5				          	= PrmDimension5Array.FinanceDimension5[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
		
		CreateOrDeleteProjByValRelFromDimension6ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension6    				is like FinanceDimension6
                PrmDimension6Array				is like FinanceDimension6Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension6
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension6Array.FinanceDimension6[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension6Array.FinanceDimension6[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension6Array.FinanceDimension6[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension6Array.FinanceDimension6[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension6				          	= PrmDimension6Array.FinanceDimension6[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromDimension7ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension7    				is like FinanceDimension7
                PrmDimension7Array				is like FinanceDimension7Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension7
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension7Array.FinanceDimension7[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension7Array.FinanceDimension7[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension7Array.FinanceDimension7[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension7Array.FinanceDimension7[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension7				          	= PrmDimension7Array.FinanceDimension7[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
		
		CreateOrDeleteProjByValRelFromDimension8ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension8    				is like FinanceDimension8
                PrmDimension8Array				is like FinanceDimension8Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension8
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension8Array.FinanceDimension8[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension8Array.FinanceDimension8[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension8Array.FinanceDimension8[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension8Array.FinanceDimension8[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension8				          	= PrmDimension8Array.FinanceDimension8[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromDimension9ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension9    				is like FinanceDimension9
                PrmDimension9Array				is like FinanceDimension9Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension9
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension9Array.FinanceDimension9[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension9Array.FinanceDimension9[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension9Array.FinanceDimension9[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension9Array.FinanceDimension9[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension9				          	= PrmDimension9Array.FinanceDimension9[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

		CreateOrDeleteProjByValRelFromDimension10ToProject is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       is a FinanceEnterpriseGroup
                PrmCodeBlockRelation			is a CodeBlockRelation
                PrmDimension10    				is like FinanceDimension10
                PrmDimension10Array				is like FinanceDimension10Array
                PrmProject                      is a Project
                PrmDefaultToValue               is Alpha 200
				PrmDeleteFlag					is Boolean
                PrmUniqueID						is a UniqueID
			Set Is
				PrmFinanceEnterpriseGroup
				PrmCodeBlockRelation
				PrmDimension10
				PrmProject
				PrmDeleteFlag
				PrmUniqueID
           	Instance Selection
                where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup
                and	SummaryProject =  PrmProject
                and	ProjectShadow.ProjectType.Posting)
            Sort Order is BySummaryProject
            Action Rules
                Set Rules
                	Exit Rules
                		if (LocalCommitCounter > 0)
                			commit transaction
                Instance Rules
					LocalArrayCounter = 1
                    initialize LocalCommitCounter
					LocalCodeBlockRelation 		= PrmCodeBlockRelation
					LocalKeyToValue				= Project
					if(PrmDeleteFlag)
						while (PrmDimension10Array.FinanceDimension10[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension10Array.FinanceDimension10[LocalArrayCounter]
							invoke Delete CodeBlockRelationDetailFromToRel
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter
					else
						while (PrmDimension10Array.FinanceDimension10[LocalArrayCounter] entered)
							LocalKeyFromValue			= PrmDimension10Array.FinanceDimension10[LocalArrayCounter]
							invoke Update CodeBlockRelationDetailFromToRel
								invoked.FinanceEnterpriseGroup              = PrmFinanceEnterpriseGroup
								invoked.CodeBlockRelation                   = PrmCodeBlockRelation
								invoked.DefaultToValue                      = PrmDefaultToValue
								invoked.Dimension10				          	= PrmDimension10Array.FinanceDimension10[LocalArrayCounter]
								invoked.Project                             = Project
							LocalArrayCounter += 1
							increment LocalCommitCounter
							if (LocalCommitCounter > 50)
								commit transaction
								initialize LocalCommitCounter

		RecalculateFundingSourceFESExpenditures is a Set Action
			restricted
			synchronized on "RecalculateFundingSourceFESCommitments:<PrmFinanceEnterpriseGroup><PrmSummaryProject>"
			Parameters
                PrmFinanceEnterpriseGroup	is like FinanceEnterpriseGroup
                PrmSummaryProject			is like Project
			Local Fields
				RecordCount					is Numeric size 3
				LocalSkip					is Boolean
				AsyncId						is a AsyncActionRequest
			Instance Selection
				where (FinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
				and    SummaryProject			= PrmSummaryProject
				and    Project.Active
				and    Project.ProjectType.Posting
				and    Project.IsBillable
				and   !Project.ExcludeFromFES)
			Action Rules
				Instance Rules
					invoke RecalculateProjectFESExpenditures GLTransactionDetail
						run after AsyncId
						assign async action request id to AsyncId
						invoked.PrmFinanceEnterpriseGroup	= FinanceEnterpriseGroup
						invoked.PrmProjectContract			= SummaryProject
						invoked.PrmProject					= Project
					invoke RecalculateProjectFESCommitments GLCommit
						run after AsyncId
						assign async action request id to AsyncId
						invoked.PrmFinanceEnterpriseGroup	= FinanceEnterpriseGroup
						invoked.PrmProjectContract			= SummaryProject
						invoked.PrmProject					= Project
					LocalProjectContract = PrmSummaryProject
					for each ProjectFESGeneralLedgerTransactionRel
						LocalFinanceDimension2 = each.FinanceCodeBlock.FinanceDimension2
						invoke UpdateFESExpenditures ProjectFundingSourceRel
							invoked.TransactionDate	= each.TransactionDate
							invoked.FinanceCodeBlock = each.FinanceCodeBlock
							invoked.Amount = each.ReportCurrencyAmount.ProjectAmount.EnteredCurrencyAmount
						RecordCount += 1
						if (RecordCount >= 20)
							commit transaction
							initialize RecordCount
					for each ProjectFESGLTransactionInterfaceRel
						LocalFinanceDimension2	= each.FinanceDimension2
						invoke UpdateFESExpenditures ProjectFundingSourceRel
							invoked.TransactionDate	= each.TransactionDate
							invoked.FinanceCodeBlock.Ledger						= each.Ledger
							invoked.FinanceCodeBlock.ToAccountingEntity			= each.ToAccountingEntity
							invoked.FinanceCodeBlock.AccountingUnit				= each.AccountingUnit
							invoked.FinanceCodeBlock.GeneralLedgerChartAccount	= each.AccountCode
							invoked.FinanceCodeBlock.Project					= each.Project
							invoked.FinanceCodeBlock.FinanceDimension1			= each.FinanceDimension1
							invoked.FinanceCodeBlock.FinanceDimension2			= each.FinanceDimension2
							invoked.FinanceCodeBlock.FinanceDimension3			= each.FinanceDimension3
							invoked.FinanceCodeBlock.FinanceDimension4			= each.FinanceDimension4
							invoked.FinanceCodeBlock.FinanceDimension5			= each.FinanceDimension5
							invoked.FinanceCodeBlock.FinanceDimension6			= each.FinanceDimension6
							invoked.FinanceCodeBlock.FinanceDimension7			= each.FinanceDimension7
							invoked.FinanceCodeBlock.FinanceDimension8			= each.FinanceDimension8
							invoked.FinanceCodeBlock.FinanceDimension9			= each.FinanceDimension9
							invoked.FinanceCodeBlock.FinanceDimension10			= each.FinanceDimension10
							invoked.Amount = each.TransactionAmount
							invoked.Commitment = true
						RecordCount += 1
						if (RecordCount >= 20)
							commit transaction
							initialize RecordCount
					for each FESProjectIndirectBurdenTransactionRel
						LocalFinanceDimension2 = each.FESFD2
						invoke UpdateFESExpenditures ProjectFundingSourceRel
							invoked.Commitment = true
							invoked.TransactionDate = each.OriginalGLTransactionDetail.TransactionDate
							invoked.FinanceCodeBlock = each.OriginalGLTransactionDetail.FinanceCodeBlock
							invoked.FinanceCodeBlock.FinanceDimension2 = each.FESFD2
							invoked.Amount = each.Amount									
						RecordCount += 1
						if (RecordCount >= 20)
							commit transaction
							initialize RecordCount
							
		SelectTransactionsToReallocate is a Set Action
			restricted
			completion message is "<LocalTransactionCount>TransactionsSelectedForReallocation"
			Parameters
                PrmFinanceEnterpriseGroup	is like FinanceEnterpriseGroup
                PrmSummaryProject			is like Project
                PrmProject					is like Project
				PostingDateRange			is a DateRange
				TransactionDateRange		is a DateRange
				FundingSource1				is like FinanceDimension2
				FundingSource2				is like FinanceDimension2
				Billed						is Numeric 1
        		    States
        		    	Both				value is 0
                		Unprocessed			value is 1
		                Processed			value is 2
			   	System						is like GeneralLedgerSystemCode
				Event						is like GeneralLedgerEvent
				AppendToCurrentSelection	is Boolean
			Local Fields
		   		LocalTransactionCount		is Numeric size 8
				RecordCount					is Numeric size 3
			Instance Selection
				where (FinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
				and    SummaryProject			= PrmSummaryProject
				and   (Project = PrmProject
				or     PrmProject not entered)
				and    Project.Active
				and    Project.ProjectType.Posting
				and    Project.IsBillable)
			Sort Order is BySummaryProject
			Action Rules
				Set Rules
					Entrance Rules
						initialize LocalTransactionCount
				Instance Rules
            		LocalDateRange = PostingDateRange						
					invoke SelectTransactionsToReallocate GLTransactionDetail in background
		                invoked.PrmFinanceEnterpriseGroup	= FinanceEnterpriseGroup
		                invoked.PrmProjectContract			= SummaryProject
		                invoked.PrmProject					= Project
						invoked.PostingDateRange			= PostingDateRange
						invoked.TransactionDateRange		= TransactionDateRange
						invoked.FundingSource1				= FundingSource1
						invoked.FundingSource2				= FundingSource2
						invoked.PrmBilled					= Billed
					   	invoked.PrmSystem					= System
						invoked.Event						= Event
						invoked.AppendToCurrentSelection	= AppendToCurrentSelection

		GenerateSingleProjectInvoices is a Set Action
			restricted
			Parameters
                PrmFinanceEnterpriseGroup	is like FinanceEnterpriseGroup
                PrmProjectContract			is like Project
				DateRange
				ThroughDate					is Date
        		SelectionGroup				is a GLTransactionDetail group
        		FundingSourceDate			is Date
				InvoiceDate					is Date
				ApplyRetainers				is Boolean
				FundingSource				is like FinanceDimension2
				InvoiceMaximum				is like InternationalAmount
		    	PrintStatus		    		is Numeric size 1
				BillingGroup				is like ProjectBillingGroup
                PrmSummaryProject			is like Project
			Parameter Rules
				PrmSummaryProject
					default to PrmProjectContract
			Local Fields
				AsyncId						is a AsyncActionRequest
			Instance Selection
				where (FinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
				and    SummaryProject			= PrmSummaryProject
				and    Project.Active
				and    Project.ProjectType.Posting
				and    Project.IsBillable)
			Sort Order is BySummaryProject
			Action Rules
				Instance Rules
					LocalProjectContract = PrmProjectContract
					invoke CalculateInvoices CalculateProjectContractRel in background
						run after AsyncId
						assign async action request id to AsyncId
	    				resume on error
        				invoked.DateRange			= DateRange
        				invoked.ThroughDate			= ThroughDate
        				invoked.SelectionGroup		= SelectionGroup
        				invoked.FundingSourceDate	= FundingSourceDate
        				invoked.InvoiceDate			= InvoiceDate
        				invoked.ApplyRetainers		= ApplyRetainers
						invoked.SummaryProject		= Project
        				invoked.FundingSource		= FundingSource
        				invoked.InvoiceMaximum		= InvoiceMaximum
						invoked.PrintStatus			= PrintStatus
						invoked.BillingGroup		= BillingGroup

		RecognizeSingleProjectRevenue is a Set Action
			restricted
			Parameters
                PrmFinanceEnterpriseGroup	is like FinanceEnterpriseGroup
                PrmProjectContract			is like Project
				DateRange
				ThroughDate					is Date
        		SelectionGroup				is a GLTransactionDetail group
        		FundingSourceDate			is Date
				RevenueDate					is Date
				Journalize					is Boolean
				PostingDate					is Date
				FundingSource				is like FinanceDimension2
				BillingGroup				is like ProjectBillingGroup
                PrmSummaryProject			is like Project
			Parameter Rules
				PrmSummaryProject
					default to PrmProjectContract
			Local Fields
				AsyncId						is a AsyncActionRequest
			Instance Selection
				where (FinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
				and    SummaryProject			= PrmSummaryProject
				and    Project.Active
				and    Project.ProjectType.Posting
				and    Project.IsRevenueRecognition)
			Sort Order is BySummaryProject
			Action Rules
				Instance Rules
					LocalProjectContract = PrmProjectContract
					invoke CalculateRevenue CalculateProjectContractRel in background
						run after AsyncId
						assign async action request id to AsyncId
	    				resume on error
        				invoked.DateRange			= DateRange
        				invoked.ThroughDate			= ThroughDate
        				invoked.SelectionGroup		= SelectionGroup
        				invoked.FundingSourceDate	= FundingSourceDate
        				invoked.RevenueDate			= RevenueDate
        				invoked.Journalize			= Journalize
        				invoked.PostingDate			= PostingDate
						invoked.SummaryProject		= Project
        				invoked.FundingSource		= FundingSource
						invoked.BillingGroup		= BillingGroup

		CreateFinanceDimensionSecurityGroupDetail is a Set Action
            restricted
            Parameters
                PrmFinanceEnterpriseGroup       		is a FinanceEnterpriseGroup
				PrmDimensionGroupType					is a DimensionGroupType
				PrmFinanceDimensionSecurityGroup		is like FinanceDimensionSecurityGroup
				PrmFinanceDimensionSecurityGroupMember	is like FinanceDimensionSecurityGroupMember
            Instance Selection
                where (FinanceEnterpriseGroup		= PrmFinanceEnterpriseGroup
                and	   SummaryProject				= PrmFinanceDimensionSecurityGroupMember)

            Sort Order is BySummaryProject

			Set Is
                PrmFinanceEnterpriseGroup
				PrmDimensionGroupType
				PrmFinanceDimensionSecurityGroup
				PrmFinanceDimensionSecurityGroupMember

            Action Rules
                Instance Rules
					LocalDimensionGroupType				= PrmDimensionGroupType
					LocalFinanceDimensionSecurityGroup	= PrmFinanceDimensionSecurityGroup

					if (GroupSecurityDetailRel exists)
						if (Project.ProjectType.Summary)
							invoke ResetCreatedForHierarchyAccess GroupSecurityDetailRel
					else
						invoke Create GroupSecurityDetailRel
							resume on error
							invoked.Project				= Project
