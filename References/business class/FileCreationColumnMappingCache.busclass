FileCreationColumnMappingCache is a BusinessClass
    owned by filecreation
    prefix is FCCMC
    
    Ontology
		symbolic key is FileCreationColumnMappingCache

    Patterns
        disable Auditing
		disable EffectiveDated
		disable AsOfDateProcessing
		disable DataTranslations
		disable StaticTranslations
		implements InMemoryCache

    Persistent Fields
    	FileCreationRowDetail       is Numeric 4
    	FileCreationColumnDetail	is Numeric 4
		FieldDataType
		Length						is Numeric 4
		FieldName					is Alpha 40
		Description					is Alpha 60
		InputOption					is Numeric 1
			States
				FieldOptional		value is 1
				FieldRequired		value is 2
				Literal				value is 3
				Blank				value is 4
		SourceFields				is Alpha 100
			is related value for SourceBusinessClassFieldSelect
		ShowAlphaDefaultField		is Boolean
		DefaultAlpha				is Alpha 150
		DefaultNumeric				is Numeric 17
		DefaultDecimal				is Decimal 24.8
		DefaultDate					is Date
		DefaultTime					is Time
		DefaultBoolean				is Boolean
		DefaultTimeStamp			is TimeStamp
		FormattedDefaultValue		is Alpha 150
		UseCurrentSystemDate		is Boolean
		UseCurrentSystemTime		is Boolean
		UseCurrentSystemTimeStamp	is Boolean
		ConvertToUpperCase			is Boolean
		TruncateToLength			is Boolean
		SubstringStart				is Numeric 4
		SubstringEnd				is Numeric 4
		FileName					is Boolean
		OneToManySequenceNumber		is Boolean
		RecordCount1				is Boolean
		RecordCount2				is Boolean
		RecordCount3				is Boolean
		RecordCount4				is Boolean
		RecordCount5				is Boolean
		RecordCount6				is Boolean
		TotalThisColumn				is Boolean
		TotalForRow					is like FileCreationRowDetail
		TotalForColumn				is like FileCreationColumnDetail
		TotalIndex					is Numeric 3
		JavaFormat					is Alpha 40
		ReplacementRegularExpression	is Alpha 50
		ReplacementReplaceWith		is Alpha 50
		ExcludeFieldWhenDeterminingIfRowChanged	is Boolean
		FixedLengthFieldRange
		BaseRelation						is Alpha 50
		FieldRelation						is Alpha 200
		SourceBusinessClassFieldSelect		is Alpha 100
    	RelatedField						is Alpha 200
		LinkedSetup							is a FileCreationSetup
		LinkedRow							is a FileCreationRowDetail
			context of LinkedSetup
		OneToManyField				is Boolean
		AdditionalRecordsRange1		is a FixedLengthFieldRange
		AdditionalRecordsRange2		is a FixedLengthFieldRange
		AdditionalRecordsRange3		is a FixedLengthFieldRange
		AdditionalRecordsRange4		is a FixedLengthFieldRange
		AdditionalRecordsRange5		is a FixedLengthFieldRange
		AdditionalRecordsRange6		is a FixedLengthFieldRange
		AdditionalRecordsRange7		is a FixedLengthFieldRange
		AdditionalRecordsRange8		is a FixedLengthFieldRange
		AdditionalRecordsRange9		is a FixedLengthFieldRange
		AdditionalRecordsRange10	is a FixedLengthFieldRange
		AdditionalRecordsRange11	is a FixedLengthFieldRange
		AdditionalRecordsRange12	is a FixedLengthFieldRange
		AdditionalRecordsRange13	is a FixedLengthFieldRange
		AdditionalRecordsRange14	is a FixedLengthFieldRange
		AdditionalRecordsRange15	is a FixedLengthFieldRange
		AdditionalRecordsRange16	is a FixedLengthFieldRange
		AdditionalRecordsRange17	is a FixedLengthFieldRange
		AdditionalRecordsRange18	is a FixedLengthFieldRange
		AdditionalRecordsRange19	is a FixedLengthFieldRange
		OnSubtotalRow				is Boolean
		ApplyAdjustment				is Boolean
		DateAdjustmentOperator		is Numeric 1
		DateAdjustment				is a UnitsAndUnitType
		DataMappingsExist			is Boolean
		LengthValidationValid		is Boolean
		AlternateChangedField1		is Alpha 100
		AlternateChangedField2		is Alpha 100
		AlternateChangedField3		is Alpha 100
		ChangedFieldLookup			is Alpha 200
    	ChangedFieldTemp			is Alpha 200
		OneToManySequenceField1     is Alpha 50
		OneToManySequenceField2     is Alpha 50
	Local Fields
		LocalDefaultAlphaSet				is Boolean
			
	Derived Fields

		ChangedFieldBusinessClass is a DerivedField
			type is Alpha 100
			restricted
			
			ChangedFieldBusinessClass = SourceBusinessClassFieldSelect
			return ChangedFieldBusinessClass
			
	Conditions
	

	Relations
				
		FileCreationColumnRel
			one-to-one relation to FileCreationColumnDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 				   = FinanceEnterpriseGroup
				related.FileCreationSetup   		   = FileCreationSetup
				related.FileCreationRowDetail   	   = FileCreationRowDetail
				related.FileCreationColumnDetail	   = FileCreationColumnDetail
				
		LinkedFileCreationColumnRel
			one-to-one relation to FileCreationColumnDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 				   = FinanceEnterpriseGroup
				related.FileCreationSetup   		   = LinkedSetup
				related.FileCreationRowDetail   	   = LinkedRow
				related.FileCreationColumnDetail	   = FileCreationColumnDetail	
				
		FileCreationTotalCacheRel
			one-to-many relation to FileCreationTotalCache
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 				       = FinanceEnterpriseGroup
				related.FileCreationSetup   		       = FileCreationSetup
			Instance Selection
				where (related.TotalledRowCache = FileCreationRowMappingCache
				and    related.TotalledColumnCache = FileCreationColumnMappingCache)
				
		FileCreationTotalledColumnRel
			one-to-one relation to FileCreationColumnDetail
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup 				   = FinanceEnterpriseGroup
				related.FileCreationSetup   		   = FileCreationSetup
				related.FileCreationRowDetail   	   = TotalForRow
				related.FileCreationColumnDetail	   = TotalForColumn	
				

	Field Rules
		

	Sets
	
				
	Actions
		
		Create is a Create Action
			Exit Rules
				ChangedFieldTemp = ChangedFieldBusinessClass
				ChangedFieldLookup = ChangedFieldTemp + "." + SourceFields
				if (LinkedSetup entered
				and LinkedRow entered)
					if (LinkedFileCreationColumnRel.FileCreationDataMappingRel exists)
						for each LinkedFileCreationColumnRel.FileCreationDataMappingRel							
							if (each.FileCreationDataMappingCacheRel not exists)
								invoke Create FileCreationDataMappingCache
									fill in fields from each
									invoked.FileCreationSetup				= FileCreationSetup
									invoked.FileCreationRowMappingCache 	= FileCreationRowMappingCache
									invoked.FileCreationColumnMappingCache  = FileCreationColumnMappingCache
									invoked.FileCreationDataMappingCache 	= each.FileCreationDataMapping
									invoked.AlphaFromValue             		= each.AlphaFromValueDerived
									invoked.AlphaCompareValue    			= each.AlphaFromValue
						DataMappingsExist = true
				else
					if (FileCreationColumnRel.FileCreationDataMappingRel exists)
						for each FileCreationColumnRel.FileCreationDataMappingRel
							if (each.FileCreationDataMappingCacheRel not exists)
								invoke Create FileCreationDataMappingCache
									fill in fields from each
									invoked.FileCreationRowMappingCache 	= FileCreationRowMappingCache
									invoked.FileCreationColumnMappingCache  = FileCreationColumnMappingCache
									invoked.FileCreationDataMappingCache 	= each.FileCreationDataMapping	
									invoked.AlphaFromValue             		= each.AlphaFromValueDerived	
									invoked.AlphaCompareValue    			= each.AlphaFromValue
						DataMappingsExist = true
				if (TotalForRow entered
				and TotalForColumn entered)
					invoke Create FileCreationTotalCache
						fill in fields from this instance
						invoked.Row    = TotalForRow
						invoked.Column = TotalForColumn	
						invoked.FileCreationTotalCache = 1	
						invoked.TotalledRowCache = FileCreationTotalledColumnRel.FileCreationRowDetail.RowOrder
						invoked.TotalledColumnCache = FileCreationTotalledColumnRel.ColumnOrder	

		Update is an Update Action
																																																										
		Delete is a Delete Action
		
					
		
