PayablesJobResultDetail is a BusinessClass			
	owned by ap
	prefix is VRD

	Ontology
		symbolic key is PayablesJobResultDetail

	Persistent Fields
		Vendor
		VendorName
		PaymentAmount 		is an InternationalAmount
		ContractAmount 		is an InternationalAmount

	Field Rules
		VendorName
			force default to Vendor.VendorName
	
	Sets
		ByVendorName
			Sort Order
				VendorName
				Vendor
				PayablesJobResult
				PayablesJobResultDetail




	Relations
		VendorPaymentSpendRel
			one-to-many relation to PayablesInvoicePayment
			Field Mapping uses ByCheckDateCompanyVendor
				related.InvoiceCurrency = PayablesJobResult.ParametersVendorPaymentReportResult.InvoiceCurrency
			Instance Selection
				where ((PayablesJobResult.ParametersVendorPaymentReportResult.Company		not entered
				or     (PayablesJobResult.ParametersVendorPaymentReportResult.Company		entered
				and		related.Company														= PayablesJobResult.ParametersVendorPaymentReportResult.Company))
				and	   (PayablesJobResult.ParametersVendorPaymentReportResult.ProcessLevel	not entered
				or     (PayablesJobResult.ParametersVendorPaymentReportResult.ProcessLevel	entered
				and		related.ProcessLevel												= PayablesJobResult.ParametersVendorPaymentReportResult.ProcessLevel))
				and	   (PayablesJobResult.ParametersVendorPaymentReportResult.IncomeCode	not entered
				or     (PayablesJobResult.ParametersVendorPaymentReportResult.IncomeCode	entered
				and		related.IncomeCode													= PayablesJobResult.ParametersVendorPaymentReportResult.IncomeCode))
				and	   (PayablesJobResult.ParametersVendorPaymentReportResult.PayGroup	    not entered
				or     (PayablesJobResult.ParametersVendorPaymentReportResult.PayGroup	    entered
				and		related.PayGroup													= PayablesJobResult.ParametersVendorPaymentReportResult.PayGroup))
				and		related.Vendor														= Vendor
				and		related.InvoiceCurrency												= PayablesJobResult.ParametersVendorPaymentReportResult.InvoiceCurrency
				and		related.Company.VendorGroup											= PayablesJobResult.ParametersVendorPaymentReportResult.VendorGroup
				and		related.CheckDate													within PayablesJobResult.ParametersVendorPaymentReportResult.PaymentDateRange
				and		!related.IsVoidPayment)

		VendorContractSpendRel
			one-to-many relation to Contract
			Field Mapping uses ByVendor
				related.ContractGroup	= VendorGroup
				related.Vendor			= Vendor
			Instance Selection	
				where (related.EffectiveDate within PayablesJobResult.ParametersVendorPaymentReportResult.PaymentDateRange
				and	   related.CurrencyCode	 = PayablesJobResult.ParametersVendorPaymentReportResult.InvoiceCurrency
				and    related.ActiveWithMaximumAmount)

	Actions
		Create is a Create Action
			restricted
	
		Update is an Update Action
			restricted
	
		Delete is a Delete Action
			restricted


