PurchaseOrderLineError is a BusinessClass
	owned by po
	
	prefix is POERR
	
	Ontology
		symbolic key is PurchaseOrderLineError
		
	
	Patterns
	
	Persistent Fields
		ErrorDate					is Date 
		ErrorType					is AlphaUpper size 1
			States
				Distribution		value is "D"
				External            value is "E"
				Line                value is "L"
				Copy				value is "C"
				FES					value is "S"				
		ErrorMessageNumber          is Numeric 3
		DefaultedDistribution       is Alpha size up to 280
		ErrorMessage				is Alpha size up to 300

	Derived Fields
	
		DistributionErrorMessage is a MessageField
			restricted
			"DistributionInformationCouldNotBeFullyDefaulted;Defaulted<DefaultedDistribution>;<ErrorMessage>"
			
		ErrorMessageDisplay is a ConditionalField
			type is Alpha 300
			if (ErrorType.Distribution)
				DistributionErrorMessage
			else
				ErrorMessage
	
	Field Rules
	
		ErrorMessageNumber
			if (ErrorMessage not entered)
				required
				
	Conditions
		IsPurchaseOrderHeader
			restricted
			when (PurchaseOrderLine not entered)

	Actions
		Create is a Create Action
			restricted
			
			Exit Rules
				if (ErrorMessageNumber = 999)
					invoke Delete

		Update is an Update Action
			restricted
			
			Exit Rules
			
				if (ErrorMessageNumber = 999)
					invoke Delete

		Delete is a Delete Action
			valid when (IsPurchaseOrderHeader)

		Purge is a Purge Action
			restricted
