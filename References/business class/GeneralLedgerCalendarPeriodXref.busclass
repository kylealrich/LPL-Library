GeneralLedgerCalendarPeriodXref is a BusinessClass
	default label is "GlobalLedgerCalendarPeriodXref"
	owned by GeneralLedger
	prefix is GLCPX
	sql name is GLCalPeriodXref	
	
	Ontology
		symbolic key is GeneralLedgerCalendarPeriodXref	
	
	Patterns
		implements DynamicCreation	
		disable Auditing
		implements UpdateStamp
		
	Persistent Fields
		GeneralLedgerCalendarPeriod
			delete cascades
	
	Local Fields
		LocalYearDay			is Numeric 3
		
	Derived Fields
		DerivedJulianDate		is a DerivedField
			type is AlphaUpper 7
			DerivedJulianDate 	= GeneralLedgerCalendarPeriodXref year
			LocalYearDay		= GeneralLedgerCalendarPeriodXref year day
			if (LocalYearDay > 99)
				DerivedJulianDate += LocalYearDay
			else
			if (LocalYearDay > 9)
				DerivedJulianDate += "0" + LocalYearDay
			else
				DerivedJulianDate += "00" + LocalYearDay
		
	Relations
		GeneralLedgerCalendarPeriodRel
			one-to-many relation to GeneralLedgerCalendarPeriod
			Field Mapping uses LeafRecords
				related.FinanceEnterpriseGroup   = FinanceEnterpriseGroup
			Instance Selection
				where (related.GeneralLedgerCalendarPeriod >= DerivedJulianDate)

	Actions
		Create is an Action
			restricted
			bypass field rules
			Action Rules
				GeneralLedgerCalendarPeriod = first GeneralLedgerCalendarPeriodRel.GeneralLedgerCalendarPeriod

		Update is an Action
			restricted
			bypass field rules
			Action Rules
				GeneralLedgerCalendarPeriod = first GeneralLedgerCalendarPeriodRel.GeneralLedgerCalendarPeriod

		Delete is an Action
			restricted
			
		DeleteAll is a Set Action
			restricted
			disable checkpoint
			Parameters
				PrmFinanceEnterpriseGroup		is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
					
			Parameter Rules
				PrmFinanceEnterpriseGroup
					required
			
			Instance Selection
				where (FinanceEnterpriseGroup = PrmFinanceEnterpriseGroup)

			Action Rules
				Instance Rules
					invoke Delete
												
