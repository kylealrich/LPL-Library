FSMCDInboundBODImport is a BusinessClass
	owned by integration
	
	prefix is FSMCD
	
	Ontology
		symbolic key is FSMCDInboundBODImport
	
	Patterns
		implements InlineUserFields
			size is 1000
        implements StaticJava
        disable AuditIndex
	
	Context Fields
		FSMInboundBODTracker
	
	Persistent Fields
	
	Transient Fields
		TransientFinanceEnterpriseGroup		is a FinanceEnterpriseGroup
		TransientAccountingUnitStructure	is a AccountingUnitStructure
		TransientFinanceDimension1Strcture	is a FinanceDimension1Structure
		TransientFinanceDimension2Strcture	is a FinanceDimension2Structure
		TransientFinanceDimension3Strcture	is a FinanceDimension3Structure
		TransientFinanceDimension4Strcture	is a FinanceDimension4Structure
		TransientFinanceDimension5Strcture	is a FinanceDimension5Structure
		TransientFinanceDimension6Strcture	is a FinanceDimension6Structure
		TransientFinanceDimension7Strcture	is a FinanceDimension7Structure
		TransientFinanceDimension8Strcture	is a FinanceDimension8Structure
		TransientFinanceDimension9Strcture	is a FinanceDimension9Structure
		TransientFinanceDimension10Strcture	is a FinanceDimension10Structure
	
	Field Rules

	
	Local Fields
		NewBODTracker  					is a FSMInboundBODTracker view
        LikeInboundTracker				is like FSMInboundBODTracker
        LocalConfigurationParameter		is Alpha size up to 200
		LocalAccountingEntity			is AlphaUpper size 40
		LocalFinanceDimension      		is AlphaUpper size 15
		LocalParentDimension			is AlphaUpper size 15
		LocalFinanceEnterpriseGroup		is Alpha 9
		LocalListID						is Alpha 40
		LocalDocumentID					is Alpha 40
		LocalCodeValue					is Alpha 40
		LocalDescription				is Alpha 150
		LocalStructureName				is Alpha 20
		LocalStructure					is Alpha 20
		ActionCode						is Alpha 9
		LocalErrorMessage 				is Alpha 300
        ErrorMessage      				is Alpha 300
        LocalFromLogicalID				is Alpha 40
        LocalComponentID				is Alpha 40
        LocalNameValue					is Alpha 40
        LocalBODID						is Alpha 100
        LocalTaskID						is Alpha 100
        LocalReferenceID				is Alpha 100
        LocalConfirmationCode 			is Alpha 100
        LocalAuthorizationID 			is Alpha 100
		LocalLocation					is Alpha 20
		LocalExpenseType				is Alpha 20
		LocalExpenseCode				is Alpha 20
		LocalVariationID				is Alpha 100
		LocalIterator					is Numeric 9
		LocalUserAreaCount				is Numeric 9
        LocalFSMInboundBODTracker		is Numeric 15
        LocalTrackerID					is Numeric 15
		Error             				is Boolean
        LocalSCodeDefinitionXML 		is XMLDocument
        LocalBODXML						is XMLDocument
		LocalCommodityCode				is like CommCodes
		LocalGenericDelimiter			is Alpha 9
		LocalEMAccountingEntity         is Alpha 22
		LocalCStructure					is Alpha 20
		LocalCommodityCode1				is Alpha 10
		LocalCommodityCode2				is Alpha 10
		LocalCommodityCode3				is Alpha 10
		LocalCommodityCode4				is Alpha 10
		LocalCommodityCode5				is Alpha 10
		LocalCommodityCode6				is Alpha 10
		CrossAccountingEntity			is Alpha 40
		LocalSegment1					is Numeric 10
		LocalSegment2					is Numeric 10
		LocalSegment3					is Numeric 10
		LocalSegment4					is Numeric 10
		LocalSegment5					is Numeric 10
		LocalSegment6					is Numeric 10
		LocalCommCodes					is like CommCodes
		LocalMainUserTemplate			is Alpha size 250
		LocalIntegrationApplication		is Alpha size 40
		LocalIntegratingApplication		is Alpha size 40
		LocalAUType						is Numeric 2
		LocalStatus						is Alpha size 10
		LocalStructureSequence			is Numeric 9
		LocalName 						is Alpha 40
		LocalValue						is Alpha 40
		LocalCodeType					is Alpha 40
		LocalActive						is Boolean
		LocalNativeEntity 				is Alpha 40
		LocalDimensionCode				is Alpha 25
		LocalAccountingUnit				is Alpha size 50
		LocalIgnoreGenericDelimiter     is Alpha 2

		LocalCompany					is Alpha size 12
		LocalLineReference              is Numeric 12
		LocalAccEnt						is Alpha size 12
		LocalCSFAccountingEntity		is Alpha size 60
		LocalBusinessGroup				is Alpha size 5
		LocalFEG						is Alpha size 9
		LocalDescriptionName			is Alpha 60
		
	Derived Fields
		
		DerivedConfigDocID is a DerivedField
			type is Alpha size 2
			restricted
			LocalConfigurationParameter = "RequiredCleanDocumentID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedConfigFEG is a DerivedField
			type is Alpha size 2
			restricted
			LocalConfigurationParameter = "IsMultipleFEG"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		SyncCodeDefinitionConfirmBODXML is a DerivedField
			type is XMLDocument
			restricted
			SyncCodeDefinitionConfirmBODXML = template.IONSyncCodeDefinition_ConfirmBOD_ST document for this instance
		
		DerivedTrackerID is a DerivedField
			type is Numeric 15
			restricted
			return LocalTrackerID
		
		DerivedBODCurrentTimeStamp is a DerivedField
			type is TimeStamp
			DerivedBODCurrentTimeStamp = system current timestamp
			return DerivedBODCurrentTimeStamp
		
		DerivedAlphaCurrentTimeStamp is a DerivedField
			type is Alpha size 20
			return DerivedBODCurrentTimeStamp			
		
		DerivedBODFormattedCurrentTimeStamp is a DerivedField
			type is Alpha size 25
			return DerivedAlphaCurrentTimeStamp[1:4] + "-" + DerivedAlphaCurrentTimeStamp[5:6] + "-" + DerivedAlphaCurrentTimeStamp[7:8] + "T" + DerivedAlphaCurrentTimeStamp[9:10] + ":" + DerivedAlphaCurrentTimeStamp[11:12] + ":" + DerivedAlphaCurrentTimeStamp[13:14] + "Z"
		
		DerivedTenantID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "tenantID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedReleaseID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "releaseID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedLogicalID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "logicalID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedVersionID is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "VersionID"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedStructureName is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "SyncCodeDefinition_Inbound_StructureName"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedFinanceEnterpriseGroup is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "SyncCodeDefinition_Inbound_FinanceEnterpriseGroup"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedCStructureName is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "CodeDefination_In_CommodityCode_ItemGroup"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedCFinanceEnterpriseGroup is a DerivedField
			type is Alpha size 60
			restricted
			LocalConfigurationParameter = "CodeDefination_In_CommodityCode_FEG"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedGenericDelimiter is a DerivedField
			type is Alpha size 9
			restricted
			LocalConfigurationParameter = "Generic_Delimiter"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedIgnoreGenericDelimiter is a DerivedField
			type is Alpha size 2
			restricted
			LocalConfigurationParameter = "SyncCodeDefinition_In_IgnoreGenericDelimiterConcatenation"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		DerivedFromLogicalID is a DerivedField
			type is Alpha 40
			restricted
			return LocalFromLogicalID		
		
		DerivedComponentID is a DerivedField
			type is Alpha 40
			restricted
			return LocalComponentID
		
		DerivedBODID is a DerivedField
			type is Alpha 100
			restricted
			return LocalBODID
		
		DerivedTaskID is a DerivedField
			type is Alpha 100
			restricted
			return LocalTaskID
		
		DerivedReferenceID is a DerivedField
			type is Alpha 100
			restricted
			return LocalReferenceID
		
		DerivedConfirmationCode is a DerivedField
			type is Alpha 100
			restricted
			return LocalConfirmationCode
		
		DerivedAuthorizationID is a DerivedField
			type is Alpha 100
			restricted
			return LocalAuthorizationID
		
		DerivedCodeValue is a DerivedField
			type is Alpha 40
			restricted
			return LocalCodeValue
		
		DerivedAccountingEntity is a DerivedField
			type is Alpha 40
			restricted
			return LocalAccountingEntity
			
		DerivedSCDErrorMessage is a DerivedField
			type is Alpha 300
			restricted
			return LocalErrorMessage
		
		DerivedSCDConfirmBODID is a DerivedField
			type is Alpha 200
			restricted
			return "infor-nid:"+DerivedTenantID+":"+DerivedAccountingEntity+":"+":"+":"+"?BOD&verb=Confirm&TrackID="+ DerivedTrackerID
		
		DerivedSCDReturnMessage is a DerivedField
			type is Alpha 300
			restricted
			return "Error processing CodeDefinition- " + DerivedSCDErrorMessage
		
		DerivedSCDErrorMsgDescription is a DerivedField
			type is Alpha 300
			restricted
			return	"Failed message, " + "Message: "+ DerivedSCDErrorMessage 
			
		DerivedReasonCode is a DerivedField
			type is Alpha 20
			restricted
			return "Application_Error"
		
		DerivedSCDOriginalBODMsg is a DerivedField
			type is XMLDocument
			restricted
			return LocalSCodeDefinitionXML
      	
      	NativeAccountingEntity	is a NativeField
			type is Alpha 100
			restricted
		
		NativeCommodityCode	is a NativeField
			type is like CommCodes
			restricted
		
		DerivedIntegrationType is a DerivedField
			type is Alpha size 40
			restricted
			LocalConfigurationParameter = "IntegratingApplication"
			if (FSMBODConfigurationParameterRel exists)
				return FSMBODConfigurationParameterRel.Value
		
		NativeEntity is a NativeField
			type is Alpha 100
			restricted

		NativeFinanceEnterpriseGroup is a NativeField
			type is Alpha 100
			restricted
		
		ShowCodeDefinitionConfirmBODXML is a DerivedField
			type is XMLDocument
			restricted
			ShowCodeDefinitionConfirmBODXML = template.IONShowCodeDefinition_ConfirmBOD_ST document for this instance
		
	Relations
		
		FSMInboundBODTrackerRel
            one-to-one relation to FSMInboundBODTracker
            Field Mapping uses symbolic key
                related.FSMInboundBODTracker			= LocalFSMInboundBODTracker                
		
		FSMBODConfigurationParameterRel
        	one-to-one relation to FSMBODConfigurationParameter
			Field Mapping uses symbolic key
            	related.FSMBODConfigurationParameter 		= LocalConfigurationParameter
		
		UserTemplateRel
			one-to-many relation to UserTemplate
			Field Mapping uses symbolic key
			Instance Selection
				where (related.UserTemplate   = LocalMainUserTemplate)
		
		FSMBODConfigurationRel
        	one-to-one relation to FSMBODConfiguration
			Field Mapping uses symbolic key
            	related.FSMBODConfiguration.Verb 		= 1
            	related.FSMBODConfiguration.Noun 		= "CodeDefinition"
            	related.FSMBODConfiguration.Direction 	= 2
#ifdef module ap		
		ExpenseManagementInterfaceExpenseTypeRel
			one-to-many relation to ExpenseManagementInterfaceExpenseType
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup							= LocalFinanceEnterpriseGroup                
				related.AccountingEntity								= LocalEMAccountingEntity
			Instance Selection			
				where (related.ExpenseManagementInterfaceExpenseType	= LocalExpenseCode)	
#endif

#ifdef module GeneralLedger
		FinanceDimension1StructureRel
			one-to-one relation to FinanceDimension1Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension1Structure		= LocalStructure
		
		FinanceDimension2StructureRel
			one-to-one relation to FinanceDimension2Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension2Structure		= LocalStructure
		
		FinanceDimension3StructureRel
			one-to-one relation to FinanceDimension3Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension3Structure		= LocalStructure
		
		FinanceDimension4StructureRel
			one-to-one relation to FinanceDimension4Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension4Structure		= LocalStructure
		
		FinanceDimension5StructureRel
			one-to-one relation to FinanceDimension5Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension5Structure		= LocalStructure
		
		FinanceDimension6StructureRel
			one-to-one relation to FinanceDimension6Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension6Structure		= LocalStructure
		
		FinanceDimension7StructureRel
			one-to-one relation to FinanceDimension7Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension7Structure		= LocalStructure
		
		FinanceDimension8StructureRel
			one-to-one relation to FinanceDimension8Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension8Structure		= LocalStructure
		
		FinanceDimension9StructureRel
			one-to-one relation to FinanceDimension9Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension9Structure		= LocalStructure		
		
		FinanceDimension10StructureRel
			one-to-one relation to FinanceDimension10Structure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup                
				related.FinanceDimension10Structure		= LocalStructure


		FinanceDimension1Rel
			one-to-one relation to FinanceDimension1
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension1					= LocalFinanceDimension
		
		FinanceDimension2Rel
			one-to-one relation to FinanceDimension2
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension2					= LocalFinanceDimension
		
		FinanceDimension3Rel
			one-to-one relation to FinanceDimension3
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension3					= LocalFinanceDimension
				
		FinanceDimension4Rel
			one-to-one relation to FinanceDimension4
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension4					= LocalFinanceDimension		
				
		FinanceDimension5Rel
			one-to-one relation to FinanceDimension5
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension5					= LocalFinanceDimension		
				
		FinanceDimension6Rel
			one-to-one relation to FinanceDimension6
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension6					= LocalFinanceDimension		
				
		FinanceDimension7Rel
			one-to-one relation to FinanceDimension7
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension7					= LocalFinanceDimension		
		
		FinanceDimension8Rel
			one-to-one relation to FinanceDimension8
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension8					= LocalFinanceDimension
		
		FinanceDimension9Rel
			one-to-one relation to FinanceDimension9
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension9					= LocalFinanceDimension
				
		FinanceDimension10Rel
			one-to-one relation to FinanceDimension10
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.FinanceDimension10					= LocalFinanceDimension				
#endif

#ifdef module ic
		CommodityCodeStructureRel
			one-to-one relation to CommodityCodeStructure
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup                
				related.CommodityCodeStructure				= LocalCStructure
		
		CommodityCodeRel
			one-to-one relation to CommodityCode
            Field Mapping uses ByCommCodes
                related.ItemGroup						= LocalCStructure                
				related.CommCodes						= LocalCommCodes
#endif			

		FSMBODCleanDocIDRel
			one-to-many relation to FSMBODCrossReferenceDetail
			Field Mapping uses symbolic key
            	related.FSMBODCrossReference.SourceField 		= "DESTAE"
            	related.FSMBODCrossReference.DestinationField 	= "CSFAE"
            Instance Selection
				where (related.SourceValue	= LocalAccountingEntity)


		FSMBODCrossReferenceDetailRel
			one-to-many relation to FSMBODCrossReferenceDetail
			Field Mapping uses symbolic key
            	related.FSMBODCrossReference.SourceField 		= "SourceAccountingEntity"
            	related.FSMBODCrossReference.DestinationField 	= "DestinationAccountingEntity"
            Instance Selection
				where (related.SourceValue	= LocalAccEnt)
				
		FSMBODCrossReferenceStructureDetailRel
			one-to-many relation to FSMBODCrossReferenceDetail
			Field Mapping uses symbolic key
            	related.FSMBODCrossReference.SourceField 		= "SourceAccountingEntity"
            	related.FSMBODCrossReference.DestinationField 	= "DestinationStructure"
            Instance Selection
				where (related.SourceValue	= LocalAccEnt)
					
		ShowCodeDefinitionConfigurationRel
        	one-to-one relation to FSMBODConfiguration
			Field Mapping uses symbolic key
            	related.FSMBODConfiguration.Verb 				= 4
            	related.FSMBODConfiguration.Noun 				= "CodeDefinition"
            	related.FSMBODConfiguration.Direction 			= 2
				
#ifdef module glif				
		GeneralLedgerCompanyRel
			one-to-one relation to GeneralLedgerCompany
			Field Mapping uses symbolic key
            	related.Company									= LocalCSFAccountingEntity
#endif	
#ifdef module GeneralLedger	  
		AccountingUnitStructureRel 
			one-to-one relation to AccountingUnitStructure
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= LocalFinanceEnterpriseGroup
				related.AccountingUnitStructure		= LocalStructure      
				   	
		AccountingUnitRel
			one-to-one relation to AccountingUnit
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup					= LocalFinanceEnterpriseGroup                
				related.AccountingEntity						= LocalCSFAccountingEntity
				related.AccountingUnit            				= LocalDocumentID
				
		AccountingUnitRelationDel
			one-to-many relation to AccountingUnit
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup		= LocalFinanceEnterpriseGroup
				related.AccountingEntity			= LocalCSFAccountingEntity
				related.AccountingUnit			 	= LocalDocumentID
			Instance Selection
				where (related.DimensionStructure	= LocalStructure)
				
#endif	
#ifdef module tx	
		TaxCodeRel
			one-to-one relation to TaxCode
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup					= LocalFinanceEnterpriseGroup                
				related.TaxCode            						= LocalDocumentID
#endif	
#ifdef module po				
		ShipTermRel	
			one-to-one relation to ShipTerm
            Field Mapping uses symbolic key
                related.ProcurementGroup						= LocalBusinessGroup               
				related.ShipTerm            					= LocalDocumentID
#endif	
#ifdef module te		
		TermsCodeRel
			one-to-one relation to TermsCode
            Field Mapping uses symbolic key
                related.FinanceEnterpriseGroup					= LocalFinanceEnterpriseGroup                
				related.TermsCode            					= LocalDocumentID
#endif	
#ifdef module ic		
		UnitOfMeasureRel
			one-to-one relation to UnitOfMeasure
            Field Mapping uses symbolic key
                related.ItemGroup								= LocalBusinessGroup               
				related.UnitOfMeasure            				= LocalDocumentID
#endif

	Actions
		
		Create is a Create Action
			restricted
		
		Update is an Update Action
			restricted
		
		Delete is a Delete Action				
			restricted



		SyncCodeDefinitionBODImport is an Import Action
			restricted
			bod type is Sync.CodeDefinition			
			Parameters
				CodeDefinitionBOD 				is XMLDocument
			Local Fields
                LocalUFinanceEnterpriseGroup	is Alpha 4		
			Action Rules
				LocalBODXML						= CodeDefinitionBOD
				ActionCode						= CodeDefinitionBOD select "//DataArea/Sync/ActionCriteria/ActionExpression/@actionCode"
				LocalListID						= CodeDefinitionBOD select "//DataArea/CodeDefinition/ListID"
				LocalAccountingEntity			= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@accountingEntity"
				LocalDocumentID					= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID"
				LocalBODID						= CodeDefinitionBOD select "//ApplicationArea/BODID" 
				LocalVariationID				= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@variationID"
				LocalLocation					= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@location"
				LocalFinanceDimension			= CodeDefinitionBOD select "//DataArea/CodeDefinition/CodeValue"
				LocalDescription				= CodeDefinitionBOD select "//DataArea/CodeDefinition/Description"
				LocalIntegratingApplication		= DerivedIntegrationType
				LocalGenericDelimiter 			= DerivedGenericDelimiter
				
				LocalIterator = 1
				LocalUserAreaCount = CodeDefinitionBOD select "count (//DataArea/CodeDefinition/Property)"
				while (LocalUserAreaCount >= LocalIterator)					
					LocalNameValue = CodeDefinitionBOD select "//DataArea/CodeDefinition/Property[<LocalIterator>]/NameValue/@name"
					if(LocalNameValue = "FinanceEnterpriseGroup")
						LocalUFinanceEnterpriseGroup = CodeDefinitionBOD select "//DataArea/CodeDefinition/Property[<LocalIterator>]/NameValue"														
					else 
						if(LocalNameValue = "fsm.FinanceEnterpriseGroup")
							LocalUFinanceEnterpriseGroup = CodeDefinitionBOD select "//DataArea/CodeDefinition/Property[<LocalIterator>]/NameValue"
					LocalIterator = LocalIterator + 1
					
				if(DerivedFinanceEnterpriseGroup entered)
					LocalFinanceEnterpriseGroup	= DerivedFinanceEnterpriseGroup
				else
					LocalFinanceEnterpriseGroup	= LocalUFinanceEnterpriseGroup			
#ifdef module ic
#ifdef module ap
#ifdef module GeneralLedger
				if(FSMBODConfigurationRel exists and FSMBODConfigurationRel.Enable)
					if(FSMInboundBODTracker not entered)
						invoke Create FSMInboundBODTracker
							assign result to NewBODTracker
							invoked.Verb 					= 1
							invoked.Noun 					= "CodeDefinition"
							invoked.Direction				= 2	
							invoked.FinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup			
							invoked.BODAccountingEntity		= LocalAccountingEntity
							invoked.BODDocumentID			= LocalDocumentID
							invoked.BODVariationID			= LocalVariationID
							invoked.BODLocation				= LocalLocation
							invoked.BODID					= LocalBODID
							invoked.Status					= 1
							invoked.StartDate				= system current timestamp
							invoked.BODXML					= LocalBODXML
							initialize invoked.Error			
							initialize invoked.ErrorMessage					
						LocalFSMInboundBODTracker = NewBODTracker.FSMInboundBODTracker
					else
						LocalFSMInboundBODTracker = FSMInboundBODTracker
						invoke Update FSMInboundBODTrackerRel
							invoked.FinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup			
							invoked.BODAccountingEntity		= LocalAccountingEntity
							invoked.BODDocumentID			= LocalDocumentID
							invoked.BODVariationID			= LocalVariationID
							invoked.BODLocation				= LocalLocation
							invoked.BODID					= LocalBODID
							invoked.Status					= 1
							invoked.StartDate				= system current timestamp
							invoked.BODXML					= LocalBODXML
							initialize invoked.Error			
							initialize invoked.ErrorMessage					
					
					if(DerivedStructureName entered)
						LocalStructure = DerivedStructureName
					else
						LocalStructure = "ENTERPRISE"
					
					if((LocalListID ="Cost Centers")  or  (LocalListID ="C.Center" and LocalIntegratingApplication = "M3"))
						invoke CreateAccountingUnit
							invoked.CodeDefinitionBOD					= CodeDefinitionBOD
							invoked.PrmFinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup
							invoked.PrmInboundTracker 					= LocalFSMInboundBODTracker
							invoked.PrmAccountingUnitStructure			= LocalStructure
					else		
					if(LocalListID = "Expense Types")
						if(ActionCode = "Add")
							invoke CreateExpenseManagementInterfaceExpenseType
								invoked.CodeDefinitionBOD		= CodeDefinitionBOD
								invoked.PrmInboundTracker 		= LocalFSMInboundBODTracker	
						else 
							if(ActionCode = "Replace")
								invoke UpdateExpenseManagementInterfaceExpenseType
									invoked.CodeDefinitionBOD		= CodeDefinitionBOD
									invoked.PrmInboundTracker 		= LocalFSMInboundBODTracker
					else
						if(LocalListID = "Finance 1 Dimensions" or LocalListID = "Finance 2 Dimensions" or LocalListID = "Finance 3 Dimensions" or LocalListID = "Finance 4 Dimensions" 
						or LocalListID = "Finance 5 Dimensions" or LocalListID = "Finance 6 Dimensions" or LocalListID = "Finance 7 Dimensions" or LocalListID = "Finance 8 Dimensions" 
						or LocalListID = "Finance 9 Dimensions" or LocalListID = "Finance 10 Dimensions")
							if(ActionCode = "Add" or ActionCode = "Replace")
								if(FinanceDimension1Rel exists or FinanceDimension2Rel exists or FinanceDimension3Rel exists or FinanceDimension4Rel exists or FinanceDimension5Rel exists or FinanceDimension6Rel exists or
								FinanceDimension7Rel exists or FinanceDimension8Rel exists or FinanceDimension9Rel exists or FinanceDimension10Rel exists)
									invoke UpdateFinanceDimension
										invoked.CodeDefinitionBOD			= CodeDefinitionBOD
										invoked.PrmInboundTracker 			= LocalFSMInboundBODTracker
										invoked.PrmFinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
								else
								if(FinanceDimension1Rel not exists or FinanceDimension2Rel not exists or FinanceDimension3Rel not exists or FinanceDimension4Rel not exists or FinanceDimension5Rel not exists or FinanceDimension6Rel not exists or
								FinanceDimension7Rel not exists or FinanceDimension8Rel not exists or FinanceDimension9Rel not exists or FinanceDimension10Rel not exists)
									invoke CreateFinanceDimension
										invoked.CodeDefinitionBOD			= CodeDefinitionBOD
										invoked.PrmInboundTracker 			= LocalFSMInboundBODTracker
										invoked.PrmFinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
										invoked.PrmStructure				= LocalStructure			
						else
						if(LocalListID = "Commodity Codes")
							invoke CreateCommodityCodes
								invoked.CodeDefinitionBOD			= CodeDefinitionBOD	
								invoked.PrmInboundTracker 			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= "Invalid ListID"
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.CodeDefinitionBOD		= CodeDefinitionBOD
								invoked.PrmErrorMessage			= "Invalid ListID"
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
				else
				if(FSMInboundBODTracker not entered)
					invoke Create FSMInboundBODTracker
						assign result to NewBODTracker
						invoked.Verb 						= 1
						invoked.Noun 						= "CodeDefinition"
						invoked.Direction					= 2
						invoked.FinanceEnterpriseGroup		= LocalFinanceEnterpriseGroup			
						invoked.BODAccountingEntity			= LocalAccountingEntity
						invoked.BODDocumentID				= LocalDocumentID
						invoked.BODVariationID				= LocalVariationID
						invoked.BODLocation					= LocalLocation
						invoked.BODID						= LocalBODID
						invoked.Status						= 4
						invoked.StartDate					= system current timestamp
						invoked.CloseDate					= system current timestamp
						invoked.BODXML						= LocalBODXML
						invoked.Error						= true			
						invoked.ErrorMessage				= "Sync CodeDefinition Inbound BOD Service is not Enabled"
					LocalFSMInboundBODTracker = NewBODTracker.FSMInboundBODTracker
				else
					LocalFSMInboundBODTracker = FSMInboundBODTracker
					invoke Update FSMInboundBODTrackerRel
						invoked.FinanceEnterpriseGroup		= LocalFinanceEnterpriseGroup			
						invoked.BODAccountingEntity			= LocalAccountingEntity
						invoked.BODDocumentID				= LocalDocumentID
						invoked.BODVariationID				= LocalVariationID
						invoked.BODLocation					= LocalLocation
						invoked.BODID						= LocalBODID
						invoked.Status						= 4
						invoked.StartDate					= system current timestamp
						invoked.CloseDate					= system current timestamp
						invoked.BODXML						= LocalBODXML
						invoked.Error						= true			
						invoked.ErrorMessage				= "Sync CodeDefinition Inbound BOD Service is not Enabled"
#endif
#endif
#endif	
#ifdef module GeneralLedger				
		CreateFinanceDimension is an Import Action
			restricted			
			Parameters
				CodeDefinitionBOD 					is XMLDocument
				PrmInboundTracker  					is like FSMInboundBODTracker
				PrmFinanceEnterpriseGroup			is Alpha 4
				PrmStructure						is Alpha 20
			Action Rules
				LocalFSMInboundBODTracker 			= PrmInboundTracker
				LocalListID							= CodeDefinitionBOD select "//DataArea/CodeDefinition/ListID"
				LocalFinanceDimension				= CodeDefinitionBOD select "//DataArea/CodeDefinition/CodeValue"
				LocalDescription					= CodeDefinitionBOD select "//DataArea/CodeDefinition/Description"
				LocalFinanceEnterpriseGroup			= PrmFinanceEnterpriseGroup
				LocalStructure						= PrmStructure
				TransientFinanceEnterpriseGroup		= LocalFinanceEnterpriseGroup
				TransientFinanceDimension1Strcture  = LocalStructure
				TransientFinanceDimension2Strcture  = LocalStructure
				TransientFinanceDimension3Strcture  = LocalStructure
				TransientFinanceDimension4Strcture  = LocalStructure
				TransientFinanceDimension5Strcture  = LocalStructure
				TransientFinanceDimension6Strcture  = LocalStructure
				TransientFinanceDimension7Strcture  = LocalStructure
				TransientFinanceDimension8Strcture  = LocalStructure
				TransientFinanceDimension9Strcture  = LocalStructure
				TransientFinanceDimension10Strcture  = LocalStructure
				if(LocalListID = "Finance 1 Dimensions" and FinanceDimension1StructureRel exists)
					invoke Create FinanceDimension1
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension1						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
												
				else
				if(LocalListID = "Finance 2 Dimensions" and FinanceDimension2StructureRel exists)
					invoke Create FinanceDimension2
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension2						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					
				else
				if(LocalListID = "Finance 3 Dimensions" and FinanceDimension3StructureRel exists)
					invoke Create FinanceDimension3
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension3						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					
				else
				if(LocalListID = "Finance 4 Dimensions" and FinanceDimension4StructureRel exists)
					invoke Create FinanceDimension4
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension4						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					
				else
				if(LocalListID = "Finance 5 Dimensions" and FinanceDimension5StructureRel exists)
					invoke Create FinanceDimension5
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension5						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
						
				else
				if(LocalListID = "Finance 6 Dimensions" and FinanceDimension6StructureRel exists)
					invoke Create FinanceDimension6
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension6						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					
				else
				if(LocalListID = "Finance 7 Dimensions" and FinanceDimension7StructureRel exists)
					invoke Create FinanceDimension7
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension7						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					
				else
				if(LocalListID = "Finance 8 Dimensions" and FinanceDimension8StructureRel exists)
					invoke Create FinanceDimension8
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension8						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					
				else
				if(LocalListID = "Finance 9 Dimensions" and FinanceDimension9StructureRel exists)
					invoke Create FinanceDimension9
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension9						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					
				else
				if(LocalListID = "Finance 10 Dimensions" and FinanceDimension10StructureRel exists)
					invoke Create FinanceDimension10
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension10						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
		
		UpdateFinanceDimension is an Import Action
			restricted			
			Parameters
				CodeDefinitionBOD 					is XMLDocument
				PrmInboundTracker  					is like FSMInboundBODTracker
				PrmFinanceEnterpriseGroup			is Alpha 4
			Action Rules
				LocalFSMInboundBODTracker 			= PrmInboundTracker
				LocalListID							= CodeDefinitionBOD select "//DataArea/CodeDefinition/ListID"
				LocalFinanceDimension				= CodeDefinitionBOD select "//DataArea/CodeDefinition/CodeValue"
				LocalDescription					= CodeDefinitionBOD select "//DataArea/CodeDefinition/Description"
				LocalFinanceEnterpriseGroup			= PrmFinanceEnterpriseGroup
				
				if(LocalListID = "Finance 1 Dimensions")
					invoke Update FinanceDimension1Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension1						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension1Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension1 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "Finance 2 Dimensions")
					invoke Update FinanceDimension2Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension2						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension2Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension2 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "Finance 3 Dimensions")
					invoke Update FinanceDimension3Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension3						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension3Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension3 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp			
				else
				if(LocalListID = "Finance 4 Dimensions")
					invoke Update FinanceDimension4Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension4						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension4Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension4 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "Finance 5 Dimensions")
					invoke Update FinanceDimension5Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension5						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension5Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension5 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp			
				else
				if(LocalListID = "Finance 6 Dimensions")
					invoke Update FinanceDimension6Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension6						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension6Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension6 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp		
				else
				if(LocalListID = "Finance 7 Dimensions")
					invoke Update FinanceDimension7Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension7						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension7Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension7 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp	
				else
				if(LocalListID = "Finance 8 Dimensions")
					invoke Update FinanceDimension8Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension8						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension8Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension8 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "Finance 9 Dimensions")
					invoke Update FinanceDimension9Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension9						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension9Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension9 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "Finance 10 Dimensions")
					invoke Update FinanceDimension10Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension10						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension10Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension10 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp	
																	

#endif												
#ifdef module ap												
		CreateExpenseManagementInterfaceExpenseType is an Import Action
			restricted			
			Parameters
				CodeDefinitionBOD 					is XMLDocument
				PrmInboundTracker  					is like FSMInboundBODTracker
			Action Rules
				LocalFSMInboundBODTracker 			= PrmInboundTracker
				LocalExpenseCode					= CodeDefinitionBOD select "//DataArea/CodeDefinition/CodeValue"
				LocalExpenseType					= CodeDefinitionBOD select "//DataArea/CodeDefinition/Name"
				LocalAccountingEntity				= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@accountingEntity"
				LocalFinanceEnterpriseGroup			= DerivedFinanceEnterpriseGroup
				LocalGenericDelimiter 				= DerivedGenericDelimiter
								
				if(DerivedConfigDocID = "Y")
					if(FSMBODCleanDocIDRel.DestinationValue != "")
						CrossAccountingEntity =  FSMBODCleanDocIDRel.DestinationValue
					else
						CrossAccountingEntity	=  LocalAccountingEntity
						
					if(DerivedConfigFEG != "Y")
						LocalEMAccountingEntity = CrossAccountingEntity
					else
						if(CrossAccountingEntity entered)
							LocalAccountingEntity	= CrossAccountingEntity
							LocalEMAccountingEntity = NativeAccountingEntity
						else
							LocalEMAccountingEntity = ""
				else
					LocalEMAccountingEntity				= NativeAccountingEntity
				
				invoke Create ExpenseManagementInterfaceExpenseType
					resume on error
                   		Error             							= true
                        ErrorMessage     							= error message
	                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
					invoked.AccountingEntity						= LocalEMAccountingEntity
					invoked.ExpenseManagementInterfaceExpenseType	= LocalExpenseCode
					invoked.Name									= LocalExpenseType
					invoked.Description    							= LocalExpenseType
				if(Error)
					invoke Update FSMInboundBODTrackerRel
						invoked.Error 					= Error
						invoked.ErrorMessage 			= ErrorMessage
						invoked.Status					= 2
						invoked.CloseDate				= system current timestamp
					invoke SendCDConfirmBOD
						invoked.PrmErrorMessage 		= ErrorMessage
						invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
						invoked.PrmTrackerID			= LocalFSMInboundBODTracker
				else
					invoke Update FSMInboundBODTrackerRel
						invoked.Status					= 3
						invoked.CloseDate				= system current timestamp
					
		UpdateExpenseManagementInterfaceExpenseType is an Import Action	
			restricted			
			Parameters
				CodeDefinitionBOD 					is XMLDocument	
				PrmInboundTracker  					is like FSMInboundBODTracker			
			Action Rules
				LocalFSMInboundBODTracker 			= PrmInboundTracker
				LocalExpenseCode					= CodeDefinitionBOD select "//DataArea/CodeDefinition/CodeValue"
				LocalExpenseType					= CodeDefinitionBOD select "//DataArea/CodeDefinition/Name"
				LocalAccountingEntity				= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@accountingEntity"
				LocalFinanceEnterpriseGroup			= DerivedFinanceEnterpriseGroup
				LocalGenericDelimiter 				= DerivedGenericDelimiter
				
				if(DerivedConfigDocID = "Y")
					if(FSMBODCleanDocIDRel.DestinationValue != "")
						CrossAccountingEntity =  FSMBODCleanDocIDRel.DestinationValue
					else
						CrossAccountingEntity	=  LocalAccountingEntity
						
					if(DerivedConfigFEG != "Y")
						LocalEMAccountingEntity = CrossAccountingEntity
					else
						if(CrossAccountingEntity entered)
							LocalAccountingEntity	= CrossAccountingEntity
							LocalEMAccountingEntity = NativeAccountingEntity
						else
							LocalEMAccountingEntity = ""
				else
					LocalEMAccountingEntity				= NativeAccountingEntity
				
				if(ExpenseManagementInterfaceExpenseTypeRel exists)
					invoke Update ExpenseManagementInterfaceExpenseTypeRel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.AccountingEntity						= LocalEMAccountingEntity
						invoked.ExpenseManagementInterfaceExpenseType	= LocalExpenseCode
						invoked.Name									= LocalExpenseType
						invoked.Description    							= LocalExpenseType
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
					invoke CreateExpenseManagementInterfaceExpenseType
						invoked.CodeDefinitionBOD		= CodeDefinitionBOD
						invoked.PrmInboundTracker 	= LocalFSMInboundBODTracker
#endif

#ifdef module ic		
		CreateCommodityCodes is an Import Action
			restricted			
			Parameters
				CodeDefinitionBOD 						is XMLDocument
				PrmInboundTracker  						is like FSMInboundBODTracker				
			Action Rules
				LocalFSMInboundBODTracker 				= PrmInboundTracker
				LocalDescription						= CodeDefinitionBOD select "//DataArea/CodeDefinition/Name"
				LocalCommodityCode						= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID"
				ActionCode								= CodeDefinitionBOD select "//DataArea/Sync/ActionCriteria/ActionExpression/@actionCode"
				LocalFinanceEnterpriseGroup				= DerivedCFinanceEnterpriseGroup
				LocalCStructure							= DerivedCStructureName
				LocalSegment1							= CommodityCodeStructureRel.Segments.Segment[1].Size
				LocalSegment2							= CommodityCodeStructureRel.Segments.Segment[2].Size
				LocalSegment3							= CommodityCodeStructureRel.Segments.Segment[3].Size
				LocalSegment4							= CommodityCodeStructureRel.Segments.Segment[4].Size
				LocalSegment5							= CommodityCodeStructureRel.Segments.Segment[5].Size
				LocalSegment6							= CommodityCodeStructureRel.Segments.Segment[6].Size
				LocalCommodityCode						= NativeCommodityCode
				
				if(LocalCommodityCode6 entered)
					LocalCommCodes = LocalCommodityCode1+"-"+LocalCommodityCode2+"-"+LocalCommodityCode3+"-"+LocalCommodityCode4+"-"+LocalCommodityCode5+"-"+LocalCommodityCode6
				else
				if(LocalCommodityCode5 entered)
					LocalCommCodes = LocalCommodityCode1+"-"+LocalCommodityCode2+"-"+LocalCommodityCode3+"-"+LocalCommodityCode4+"-"+LocalCommodityCode5
				else
				if(LocalCommodityCode4 entered)
					LocalCommCodes = LocalCommodityCode1+"-"+LocalCommodityCode2+"-"+LocalCommodityCode3+"-"+LocalCommodityCode4
				else
				if(LocalCommodityCode3 entered)
					LocalCommCodes = LocalCommodityCode1+"-"+LocalCommodityCode2+"-"+LocalCommodityCode3
				else
				if(LocalCommodityCode2 entered)
					LocalCommCodes = LocalCommodityCode1+"-"+LocalCommodityCode2
				else
				if(LocalCommodityCode1 entered)
					LocalCommCodes = LocalCommodityCode1
				
				if(CommodityCodeStructureRel exists)					
					if(ActionCode = "Add")
						invoke Create CommodityCode
							resume on error
								Error             					= true
								ErrorMessage     					= error message
							invoked.ItemGroup 						= LocalCStructure
							invoked.CommodityCode.Segment[1]		= LocalCommodityCode1
							invoked.CommodityCode.Segment[2]		= LocalCommodityCode2
							invoked.CommodityCode.Segment[3]		= LocalCommodityCode3
							invoked.CommodityCode.Segment[4]		= LocalCommodityCode4
							invoked.CommodityCode.Segment[5]		= LocalCommodityCode5
							invoked.CommodityCode.Segment[6]		= LocalCommodityCode6
							invoked.Description						= LocalDescription
							invoked.Active							= true
						if(Error)
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp	
					else
					if((ActionCode = "Replace" or ActionCode = "Change") and CommodityCodeRel exists)
						invoke Update CommodityCodeRel
							resume on error
								Error             					= true
								ErrorMessage     					= error message
							invoked.ItemGroup 						= LocalCStructure
							invoked.CommodityCode.Segment[1]		= LocalCommodityCode1
							invoked.CommodityCode.Segment[2]		= LocalCommodityCode2
							invoked.CommodityCode.Segment[3]		= LocalCommodityCode3
							invoked.CommodityCode.Segment[4]		= LocalCommodityCode4
							invoked.CommodityCode.Segment[5]		= LocalCommodityCode5
							invoked.CommodityCode.Segment[6]		= LocalCommodityCode6
							invoked.Description						= LocalDescription
							invoked.Active							= true
						if(Error)
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp
					else
					if(ActionCode = "Delete" and CommodityCodeRel exists)
						invoke Delete CommodityCodeRel
							resume on error
								Error             					= true
								ErrorMessage     					= error message
						if(Error)
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp	
					else
					if(ActionCode = "Delete" and CommodityCodeRel not exists)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= true
							invoked.ErrorMessage 			= "CommodityCode Does not exist"
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke SendCDConfirmBOD
							invoked.PrmErrorMessage 		= "CommodityCode Does not exist"
							invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker

					else
					if((ActionCode = "Replace" or ActionCode = "Change") and CommodityCodeRel not exists)
						invoke Create CommodityCode
							resume on error
								Error             					= true
								ErrorMessage     					= error message
							invoked.ItemGroup 						= LocalCStructure
							invoked.CommodityCode.Segment[1]		= LocalCommodityCode1
							invoked.CommodityCode.Segment[2]		= LocalCommodityCode2
							invoked.CommodityCode.Segment[3]		= LocalCommodityCode3
							invoked.CommodityCode.Segment[4]		= LocalCommodityCode4
							invoked.CommodityCode.Segment[5]		= LocalCommodityCode5
							invoked.CommodityCode.Segment[6]		= LocalCommodityCode6
							invoked.Description						= LocalDescription
							invoked.Active							= true
						if(Error)
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp							
			
				else
					invoke Update FSMInboundBODTrackerRel
						invoked.Error 					= false
						invoked.ErrorMessage 			= "CommodityCodeStructure does not exit"
						invoked.Status					= 2
						invoked.CloseDate				= system current timestamp
					invoke SendCDConfirmBOD
						invoked.PrmErrorMessage 		= "CommodityCodeStructure does not exit"
						invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
						invoked.PrmTrackerID			= LocalFSMInboundBODTracker			
#endif	
		CreateAccountingUnit is an Import Action
			restricted			
			Parameters
				CodeDefinitionBOD 					is XMLDocument
				PrmInboundTracker  					is like FSMInboundBODTracker
				PrmFinanceEnterpriseGroup			is Alpha 4
				PrmAccountingUnitStructure			is AlphaUpper 15
			Action Rules
				LocalFSMInboundBODTracker 				= PrmInboundTracker
				LocalFinanceEnterpriseGroup		    	= PrmFinanceEnterpriseGroup
				LocalStructure							= PrmAccountingUnitStructure
				LocalCSFAccountingEntity				= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@accountingEntity"
				LocalDocumentID							= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID"
				LocalDescription						= CodeDefinitionBOD select "//DataArea/CodeDefinition/Name"
				ActionCode								= CodeDefinitionBOD select "//DataArea/Sync/ActionCriteria/ActionExpression/@actionCode"
				LocalListID								= CodeDefinitionBOD select "//DataArea/CodeDefinition/ListID"
				LocalStatus								= CodeDefinitionBOD select "//DataArea/CodeDefinition/Status/Code"
				LocalGenericDelimiter					= DerivedGenericDelimiter
				LocalIntegratingApplication				= DerivedIntegrationType
				TransientFinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup
				TransientAccountingUnitStructure		= LocalStructure
				
				if(AccountingUnitStructureRel exists)
					LocalUserAreaCount					= CodeDefinitionBOD select "count(//DataArea/CodeDefinition/Property)"
					LocalIterator = 1 
					while (LocalUserAreaCount >= LocalIterator)
						LocalName 		= CodeDefinitionBOD select "//DataArea/CodeDefinition/Property[<LocalIterator>]/NameValue/@name"
						LocalValue 		= CodeDefinitionBOD select "//DataArea/CodeDefinition/Property[<LocalIterator>]/NameValue"				
						if (LocalName = "Posting Flag" )
							LocalCodeType = LocalValue
						LocalIterator = LocalIterator + 1
							
					if(LocalCodeType = "true")
						LocalAUType = 1
					else
						LocalAUType = 2
					
					if(LocalStatus = "Open")
						LocalActive = true
					else
						LocalActive = false
						
					if(LocalListID !="C.Center" and LocalIntegratingApplication != "M3")
						if(ActionCode = "Replace" or ActionCode = "Delete" or ActionCode = "Change")
							if(LocalAUType = "2")
								LocalDocumentID = AccountingUnitStructureRel.StructureSequence+"_"+LocalDocumentID
									
					if(LocalListID ="C.Center" and LocalIntegratingApplication = "M3")
						LocalNativeEntity			= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@accountingEntity"
						LocalAUType = "1"
						if(DerivedIgnoreGenericDelimiter = "N" or DerivedIgnoreGenericDelimiter not entered)
							LocalCSFAccountingEntity = NativeEntity
						else 
						if(DerivedIgnoreGenericDelimiter = "Y")
							LocalCSFAccountingEntity = LocalNativeEntity
						
					if(AccountingUnitRel not exists)
						invoke Create AccountingUnit
							resume on error
								Error             					= true
								ErrorMessage     					= error message
							invoked.FinanceEnterpriseGroup			= LocalFinanceEnterpriseGroup
							invoked.AccountingEntity				= LocalCSFAccountingEntity
							invoked.AccountingUnit					= LocalDocumentID
							invoked.DimensionStructure				= LocalStructure
							invoked.AccountingUnitType				= LocalAUType
							invoked.Description						= LocalDescription
							invoked.Active							= LocalActive
						if(Error)
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp	
						
					else	
					if(ActionCode = "Replace" or ActionCode = "Change")
						if(LocalListID !="C.Center" and LocalIntegratingApplication != "M3")
							if(ActionCode = "Replace" or ActionCode = "Delete" or ActionCode = "Change")
								if(LocalAUType = "2")
									LocalDocumentID = AccountingUnitStructureRel.StructureSequence+"_"+LocalDocumentID
						invoke Update AccountingUnitRel
							resume on error
								Error             					= true
								ErrorMessage     					= error message
							invoked.FinanceEnterpriseGroup 			= LocalFinanceEnterpriseGroup
							invoked.AccountingEntity				= LocalCSFAccountingEntity
							invoked.DimensionStructure				= LocalStructure
							invoked.AccountingUnit					= LocalDocumentID
							invoked.AccountingUnitType				= LocalAUType
							invoked.Description						= LocalDescription
							invoked.Active							= LocalActive
						if(Error)
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp
					else
					if(ActionCode = "Delete" and LocalAUType = "1")
						invoke Delete AccountingUnitRelationDel
							resume on error
								Error             					= true
								ErrorMessage     					= error message
						if(Error)
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp	
					else
					if(ActionCode = "Delete" and LocalAUType = "2")
						invoke RemoveSummaryFromStructure AccountingUnitRelationDel
							resume on error
								Error             					= true
								ErrorMessage     					= error message
						if(Error)
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke SendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp				
					else
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp	
				else
					invoke Update FSMInboundBODTrackerRel
						invoked.Error 					= Error
						invoked.ErrorMessage 			= "AccountingUnitStructure does not exist"
						invoked.Status					= 2
						invoked.CloseDate				= system current timestamp
					invoke SendCDConfirmBOD
						invoked.PrmErrorMessage 		= "AccountingUnitStructure does not exist"
						invoked.CodeDefinitionBOD      	= CodeDefinitionBOD
						invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					
		SendCDConfirmBOD is an Instance Action
			restricted			
			Parameters
				CodeDefinitionBOD 						is XMLDocument
				PrmErrorMessage 						is Alpha 300
				PrmTrackerID							is Numeric 15
			Action Rules
				LocalSCodeDefinitionXML					= CodeDefinitionBOD
				LocalErrorMessage						= PrmErrorMessage
				LocalTrackerID							= PrmTrackerID
				LocalAccountingEntity					= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@accountingEntity" 
				LocalCodeValue							= CodeDefinitionBOD select "//DataArea/CodeDefinition/CodeValue"
				LocalFromLogicalID						= CodeDefinitionBOD select "//ApplicationArea/Sender/LogicalID"
				LocalComponentID						= CodeDefinitionBOD select "//ApplicationArea/Sender/ComponentID"
				LocalBODID								= CodeDefinitionBOD select "//ApplicationArea/BODID"
				LocalTaskID								= CodeDefinitionBOD select "//ApplicationArea/Sender/TaskID"
				LocalReferenceID						= CodeDefinitionBOD select "//ApplicationArea/Sender/ReferenceID"
				LocalConfirmationCode					= CodeDefinitionBOD select "//ApplicationArea/Sender/ConfirmationCode"
				LocalAuthorizationID					= CodeDefinitionBOD select "//ApplicationArea/Sender/AuthorizationID"
				LocalDocumentID							= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID"
				LocalMainUserTemplate					= "IONSyncCodeDefinition_ConfirmBOD_ST"
				
				if(UserTemplateRel exists)
					send ion bod
						bod is SyncCodeDefinitionConfirmBODXML
						bod type is "Confirm.BOD"
						accounting entity is LocalAccountingEntity
						document id is LocalDocumentID


		ShowCodeDefinitionBODImport is an Import Action
			restricted
			bod type is Show.CodeDefinition			
			Parameters
				CodeDefinitionBODXML 				is XMLDocument
			Action Rules
				LocalBODXML						= CodeDefinitionBODXML
				LocalListID						= CodeDefinitionBODXML select "//DataArea/CodeDefinition/ListID"
				LocalDocumentID					= CodeDefinitionBODXML select "//DataArea/CodeDefinition/CodeValue"
				LocalBODID						= CodeDefinitionBODXML select "//ApplicationArea/BODID" 
				LocalVariationID				= CodeDefinitionBODXML select "//DataArea/CodeDefinition/DocumentID/ID/@variationID"
				LocalDescription				= CodeDefinitionBODXML select "//DataArea/CodeDefinition/Description"
				LocalFinanceDimension			= CodeDefinitionBODXML select "//DataArea/CodeDefinition/CodeValue"
				LocalAccEnt						= CodeDefinitionBODXML select "//DataArea/CodeDefinition/DocumentID/ID/@accountingEntity"
				LocalGenericDelimiter 			= DerivedGenericDelimiter
				LocalAccountingEntity			= FSMBODCrossReferenceDetailRel.DestinationValue
#ifdef module ic
#ifdef module GeneralLedger
#ifdef module tx
#ifdef module te
#ifdef module po
				if(ShowCodeDefinitionConfigurationRel exists and ShowCodeDefinitionConfigurationRel.Enable)
					if(FSMInboundBODTracker not entered)
						invoke Create FSMInboundBODTracker
							assign result to NewBODTracker
							invoked.Verb 					= 4
							invoked.Noun 					= "CodeDefinition"
							invoked.Direction				= 2					
							invoked.BODAccountingEntity		= LocalAccountingEntity
							invoked.BODDocumentID			= LocalDocumentID
							invoked.BODVariationID			= LocalVariationID
							invoked.BODID					= LocalBODID
							invoked.Status					= 1
							invoked.StartDate				= system current timestamp
							invoked.BODXML					= LocalBODXML
							invoked.FinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
							initialize invoked.Error			
							initialize invoked.ErrorMessage					
						LocalFSMInboundBODTracker = NewBODTracker.FSMInboundBODTracker
					else
						LocalFSMInboundBODTracker = FSMInboundBODTracker
						invoke Update FSMInboundBODTrackerRel
							invoked.BODAccountingEntity		= LocalAccountingEntity
							invoked.BODDocumentID			= LocalDocumentID
							invoked.BODVariationID			= LocalVariationID
							invoked.BODID					= LocalBODID
							invoked.Status					= 1
							invoked.StartDate				= system current timestamp
							invoked.BODXML					= LocalBODXML
							invoked.FinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
							initialize invoked.Error			
							initialize invoked.ErrorMessage		
					LocalLineReference        	= NativeFinanceEnterpriseGroup        		
					LocalCSFAccountingEntity 	= LocalCompany
					LocalFinanceEnterpriseGroup	= LocalFEG
					LocalStructure				= FSMBODCrossReferenceStructureDetailRel.DestinationValue
					LocalDescriptionName		= CodeDefinitionBODXML select "//DataArea/CodeDefinition/Name"
					LocalBusinessGroup 			= GeneralLedgerCompanyRel.BusinessGroup
					if(LocalListID = "C.Center" or LocalListID = "P.Group" or LocalListID = "Customer" or LocalListID = "Project" or LocalListID = "Element")
						if ((LocalListID = "C.Center" and FinanceDimension1StructureRel not exists) 
						or (LocalListID = "P.Group"  and FinanceDimension2StructureRel not exists) 
						or (LocalListID = "Customer" and FinanceDimension3StructureRel not exists) 
						or (LocalListID = "Project"  and FinanceDimension4StructureRel not exists) 
						or (LocalListID = "Element"  and FinanceDimension5StructureRel not exists ))
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= true
								invoked.ErrorMessage 			= "Field Finance Enterprise Group or Finance Dimension Structure does not Exist"
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke ShowSendCDConfirmBOD
								invoked.PrmErrorMessage 		= "Field Finance Enterprise Group or Finance Dimension Structure does not Exist"
								invoked.CodeDefinitionBOD       = CodeDefinitionBODXML
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker	
						else
						if((LocalListID = "C.Center" and FinanceDimension1Rel not exists) or (LocalListID = "P.Group" and FinanceDimension2Rel not exists) or (LocalListID = "Customer" and FinanceDimension3Rel not exists) 
						or (LocalListID = "Project" and FinanceDimension4Rel not exists) or (LocalListID = "Element" and FinanceDimension5Rel not exists ))
							invoke CreateShowCodeDefinition
								invoked.CodeDefinitionBODXML		= CodeDefinitionBODXML
								invoked.PrmInboundTracker 			= LocalFSMInboundBODTracker
								invoked.PrmFinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
								invoked.PrmStructure				= LocalStructure
								invoked.PrmAccEntity				= LocalCSFAccountingEntity
							
							if(!FSMInboundBODTrackerRel.Error)
								invoke ShowCreateFinanceDimensionHierarchy
									invoked.CodeDefinitionBODXML		= CodeDefinitionBODXML
									invoked.PrmInboundTracker 			= LocalFSMInboundBODTracker
									invoked.PrmStructure				= LocalStructure
									invoked.PrmFinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
						else
							invoke UpdateShowCodeDefinition
								invoked.CodeDefinitionBODXML		= CodeDefinitionBODXML
								invoked.PrmInboundTracker 			= LocalFSMInboundBODTracker
								invoked.PrmFinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
								invoked.PrmStructure				= LocalStructure
								invoked.PrmAccEntity				= LocalCSFAccountingEntity
					if(LocalListID = "A.Setup" or LocalListID = "VAT Code" or LocalListID = "Incoterms" or LocalListID = "Unit Codes" or LocalListID = "Payment Term")		
						if(LocalListID = "A.Setup"  and AccountingUnitStructureRel not exists)
							invoke Update FSMInboundBODTrackerRel 
								invoked.Error 					= true
								invoked.ErrorMessage 			= "Field Finance Enterprise Group or Accounting Unit Structure does not Exist"
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke ShowSendCDConfirmBOD
								invoked.PrmErrorMessage 		= "Field Finance Enterprise Group or Accounting Unit Structure does not Exist"
								invoked.CodeDefinitionBOD       = CodeDefinitionBODXML
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
						else
						if((LocalListID = "A.Setup" and AccountingUnitRel not exists) or (LocalListID = "VAT Code" and TaxCodeRel not exists) or (LocalListID = "Incoterms" and ShipTermRel not exists)
						or (LocalListID = "Unit Codes" and UnitOfMeasureRel not exists) or (LocalListID = "Payment Term" and TermsCodeRel not exists ))
							invoke CreateShowCodeDefinition
								invoked.CodeDefinitionBODXML		= CodeDefinitionBODXML
								invoked.PrmInboundTracker 			= LocalFSMInboundBODTracker
								invoked.PrmFinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
								invoked.PrmStructure				= LocalStructure
								invoked.PrmAccEntity				= LocalCSFAccountingEntity
								invoked.PrmBusinessGroup			= LocalBusinessGroup
						else
							invoke UpdateShowCodeDefinition
								invoked.CodeDefinitionBODXML		= CodeDefinitionBODXML
								invoked.PrmInboundTracker 			= LocalFSMInboundBODTracker
								invoked.PrmFinanceEnterpriseGroup	= LocalFinanceEnterpriseGroup
								invoked.PrmStructure				= LocalStructure
								invoked.PrmAccEntity				= LocalCSFAccountingEntity
								invoked.PrmBusinessGroup			= LocalBusinessGroup
				else
				if(FSMInboundBODTracker not entered)
					invoke Create FSMInboundBODTracker
						assign result to NewBODTracker
						invoked.Verb 						= 4
						invoked.Noun 						= "CodeDefinition"
						invoked.Direction					= 2					
						invoked.BODAccountingEntity			= LocalAccountingEntity
						invoked.BODDocumentID				= LocalDocumentID
						invoked.BODVariationID				= LocalVariationID
						invoked.BODID						= LocalBODID
						invoked.Status						= 4
						invoked.StartDate					= system current timestamp
						invoked.CloseDate					= system current timestamp
						invoked.BODXML						= LocalBODXML
						invoked.Error						= true			
						invoked.ErrorMessage				= "Show CodeDefinition Inbound BOD Service is not Enabled"
					LocalFSMInboundBODTracker = NewBODTracker.FSMInboundBODTracker
				else
					LocalFSMInboundBODTracker = FSMInboundBODTracker
					invoke Update FSMInboundBODTrackerRel
						invoked.BODAccountingEntity			= LocalAccountingEntity
						invoked.BODDocumentID				= LocalDocumentID
						invoked.BODVariationID				= LocalVariationID
						invoked.BODID						= LocalBODID
						invoked.Status						= 4
						invoked.StartDate					= system current timestamp
						invoked.CloseDate					= system current timestamp
						invoked.BODXML						= LocalBODXML
						invoked.Error						= true			
						invoked.ErrorMessage				= "Show CodeDefinition Inbound BOD Service is not Enabled"
#endif
#endif
#endif
#endif
#endif
		CreateShowCodeDefinition is an Import Action
			restricted			
			Parameters
				CodeDefinitionBODXML				is XMLDocument
				PrmInboundTracker  					is like FSMInboundBODTracker
				PrmFinanceEnterpriseGroup			is Alpha 4
				PrmStructure						is Alpha 20
				PrmAccEntity						is Alpha 12
				PrmBusinessGroup					is Alpha 5
			Action Rules
				LocalFSMInboundBODTracker 			= PrmInboundTracker
				LocalListID							= CodeDefinitionBODXML select "//DataArea/CodeDefinition/ListID"
				LocalFinanceDimension				= CodeDefinitionBODXML select "//DataArea/CodeDefinition/CodeValue"
				LocalDocumentID						= CodeDefinitionBODXML select "//DataArea/CodeDefinition/CodeValue"
				LocalDescription					= CodeDefinitionBODXML select "//DataArea/CodeDefinition/Description"
				LocalFinanceEnterpriseGroup			= PrmFinanceEnterpriseGroup
				LocalStructure						= PrmStructure
				LocalCSFAccountingEntity			= PrmAccEntity
				LocalDescriptionName				= CodeDefinitionBODXML select "//DataArea/CodeDefinition/Name"
				LocalBusinessGroup    				= PrmBusinessGroup
#ifdef module GeneralLedger
				if(LocalListID = "C.Center" and FinanceDimension1StructureRel exists)
					invoke Create FinanceDimension1
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension1						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(Error)
						if (ErrorMessage = "Field Finance Dimension 1 Structure is required")
							Error             							= false
	                        ErrorMessage     							= ""
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker							
				else
				if(LocalListID = "P.Group" and FinanceDimension2StructureRel exists)
					invoke Create FinanceDimension2
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension2						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(Error)
						if (ErrorMessage = "Field Finance Dimension 2 Structure is required")
							Error             							= false
	                        ErrorMessage     							= ""
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
				else
				if(LocalListID = "Customer" and FinanceDimension3StructureRel exists)
					invoke Create FinanceDimension3
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension3						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(Error)
						if (ErrorMessage = "Field Finance Dimension 3 Structure is required")
							Error             							= false
	                        ErrorMessage     							= ""
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
				else
				if(LocalListID = "Project" and FinanceDimension4StructureRel exists)
					invoke Create FinanceDimension4
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension4						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(Error)
						if (ErrorMessage = "Field Finance Dimension 4 Structure is required")
							Error             							= false
	                        ErrorMessage     							= ""
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
				else
				if(LocalListID = "Element" and FinanceDimension5StructureRel exists)
					invoke Create FinanceDimension5
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension5						= LocalFinanceDimension
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(Error)
						if (ErrorMessage = "Field Finance Dimension 5 Structure is required")
							Error             							= false
	                        ErrorMessage     							= ""
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
				else
				if(LocalListID = "A.Setup")
					invoke Create AccountingUnit
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
	                    invoked.DimensionStructure						= LocalStructure
	                    invoked.AccountingUnitType						= "1"
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.AccountingEntity    					= LocalCSFAccountingEntity
						invoked.AccountingUnit    						= LocalDocumentID
						invoked.Description								= LocalDescription
						invoked.Active									= "1"
					if(Error)
						if (ErrorMessage = "Field Accounting Unit Structure is required")
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= false
								invoked.ErrorMessage 			= ""
								invoked.Status					= 3
								invoked.CloseDate				= system current timestamp
						else
							invoke Update FSMInboundBODTrackerRel
								invoked.Error 					= Error
								invoked.ErrorMessage 			= ErrorMessage
								invoked.Status					= 2
								invoked.CloseDate				= system current timestamp
							invoke ShowSendCDConfirmBOD
								invoked.PrmErrorMessage 		= ErrorMessage
								invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
								invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module tx
				else
				if(LocalListID = "VAT Code")
					invoke Create TaxCode
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.TaxCode			   						= LocalDocumentID
						invoked.Description								= LocalDescription
						invoked.Status									= "0"
						invoked.TaxType									= "S"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module po
				else
				if(LocalListID = "Incoterms")
					invoke Create ShipTerm
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
						invoked.ShipTerm			   					= LocalDocumentID
						invoked.ProcurementGroup 						= LocalBusinessGroup 
						invoked.Description								= LocalDescriptionName
						invoked.Active									= "1"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module te
				else
				if(LocalListID = "Payment Term")
					invoke Create TermsCode
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
	                    invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.TermsCode			   					= LocalDocumentID
						invoked.Description.Desc[1] 					= LocalDescriptionName 
						invoked.Description.Desc[2] 					= LocalDescription
						invoked.ProcessType								= "N"
						invoked.FirstNetDays							= "1"
						invoked.Active									= "1"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module ic
				else
				if(LocalListID = "Unit Codes")
					invoke Create UnitOfMeasure
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
						invoked.UnitOfMeasure			   				= LocalDocumentID
						invoked.ItemGroup 								= LocalBusinessGroup
						invoked.Description								= LocalDescription
						invoked.Active									= "1"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module GeneralLedger											
		ShowCreateFinanceDimensionHierarchy is an Import Action
			restricted			
			Parameters
				CodeDefinitionBODXML				is XMLDocument
				PrmInboundTracker  					is like FSMInboundBODTracker
				PrmStructure						is Alpha 20
				PrmFinanceEnterpriseGroup			is Alpha 4
			Action Rules
				LocalFSMInboundBODTracker 			= PrmInboundTracker
				LocalListID							= CodeDefinitionBODXML select "//DataArea/CodeDefinition/ListID"
				LocalFinanceDimension				= CodeDefinitionBODXML select "//DataArea/CodeDefinition/CodeValue"
				LocalFinanceEnterpriseGroup			= PrmFinanceEnterpriseGroup
				LocalStructure						= PrmStructure
				
				if(LocalListID = "C.Center" and FinanceDimension1StructureRel exists)
					LocalParentDimension								= FinanceDimension1StructureRel.DimensionNode
					invoke Create FinanceDimension1Hierarchy
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.FinanceDimension1Structure				= LocalStructure
						invoked.FinanceDimension1						= LocalFinanceDimension
						invoked.DimensionType    						= "1"
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.ParentDimension							= LocalParentDimension
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "P.Group" and FinanceDimension2StructureRel exists)
					LocalParentDimension								= FinanceDimension2StructureRel.DimensionNode
					invoke Create FinanceDimension2Hierarchy
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension2Structure				= LocalStructure
						invoked.FinanceDimension2						= LocalFinanceDimension
						invoked.DimensionType    						= "1"
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.ParentDimension							= LocalParentDimension
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp			
				else
				if(LocalListID = "Customer" and FinanceDimension3StructureRel exists)
					LocalParentDimension								= FinanceDimension3StructureRel.DimensionNode
					invoke Create FinanceDimension3Hierarchy
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension3Structure				= LocalStructure
						invoked.FinanceDimension3						= LocalFinanceDimension
						invoked.DimensionType    						= "1"
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.ParentDimension							= LocalParentDimension
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp		
				else
				if(LocalListID = "Project" and FinanceDimension4StructureRel exists)
					LocalParentDimension								= FinanceDimension4StructureRel.DimensionNode
					invoke Create FinanceDimension4Hierarchy
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension4Structure				= LocalStructure
						invoked.FinanceDimension4						= LocalFinanceDimension
						invoked.DimensionType    						= "1"
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.ParentDimension							= LocalParentDimension
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp	
				else
				if(LocalListID = "Element" and FinanceDimension5StructureRel exists)
					LocalParentDimension								= FinanceDimension5StructureRel.DimensionNode
					invoke Create FinanceDimension5Hierarchy
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.FinanceDimension5Structure				= LocalStructure
						invoked.FinanceDimension5						= LocalFinanceDimension
						invoked.DimensionType    						= "1"
						invoked.DisplayDimension    					= LocalFinanceDimension
						invoked.ParentDimension							= LocalParentDimension
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
											
		UpdateShowCodeDefinition is an Import Action
			restricted			
			Parameters
				CodeDefinitionBODXML 				is XMLDocument
				PrmInboundTracker  					is like FSMInboundBODTracker
				PrmFinanceEnterpriseGroup			is Alpha 4
				PrmStructure						is Alpha 20
				PrmAccEntity						is Alpha 12
				PrmBusinessGroup					is Alpha 5
			Action Rules
				LocalFSMInboundBODTracker 			= PrmInboundTracker
				LocalListID							= CodeDefinitionBODXML select "//DataArea/CodeDefinition/ListID"
				LocalFinanceDimension				= CodeDefinitionBODXML select "//DataArea/CodeDefinition/CodeValue"
				LocalDescription					= CodeDefinitionBODXML select "//DataArea/CodeDefinition/Description"
				LocalFinanceEnterpriseGroup			= PrmFinanceEnterpriseGroup
				LocalStructure						= PrmStructure
				LocalDescriptionName				= CodeDefinitionBODXML select "//DataArea/CodeDefinition/Name"
				LocalDocumentID						= CodeDefinitionBODXML select "//DataArea/CodeDefinition/CodeValue"
				LocalCSFAccountingEntity			= PrmAccEntity
				LocalBusinessGroup    				= PrmBusinessGroup
				if(LocalListID = "C.Center")
					invoke Update FinanceDimension1Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension1						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension1Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension1 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "P.Group" )
					invoke Update FinanceDimension2Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension2						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension2Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension2 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "Customer")
					invoke Update FinanceDimension3Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension3						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension3Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension3 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp			
						
				else
				if(LocalListID = "Project")
					invoke Update FinanceDimension4Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension4						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension4Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension4 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
				else
				if(LocalListID = "Element")
					invoke Update FinanceDimension5Rel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
		                invoked.DimensionStructure						= LocalStructure
						invoked.FinanceDimension5						= LocalFinanceDimension
						invoked.Description								= LocalDescription
						invoked.DimensionType    						= "1"
						invoked.Active									= "1"
					if(FinanceDimension5Rel not exists)
						Error 											= true
						ErrorMessage 									= LocalFinanceDimension+"-FinanceDimension5 does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD       = CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp	
				else
				if(LocalListID = "A.Setup")
					invoke Update AccountingUnitRel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
	                    invoked.DimensionStructure						= LocalStructure
	                    invoked.AccountingUnitType						= "1"
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.AccountingEntity    					= LocalCSFAccountingEntity
						invoked.AccountingUnit    						= LocalDocumentID
						invoked.Description								= LocalDescription
						invoked.Active									= "1"
					if(AccountingUnitRel not exists)
						Error 											= true
						ErrorMessage 									= LocalDocumentID+"-AccountingUnit does not exist"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module tx
				else
				if(LocalListID = "VAT Code" and TaxCodeRel exists)
					invoke Update TaxCodeRel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
		                invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.TaxCode			   						= LocalDocumentID
						invoked.Description								= LocalDescription
						invoked.Status									= "0"
						invoked.TaxType									= "S"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module po
				else
				if(LocalListID = "Incoterms" and ShipTermRel exists)
					invoke Update ShipTermRel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
						invoked.ShipTerm			   					= LocalDocumentID
						invoked.ProcurementGroup 						= LocalBusinessGroup 
						invoked.Description								= LocalDescriptionName
						invoked.Active									= "1"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module te											
				else
				if(LocalListID = "Payment Term" and TermsCodeRel exists)
					invoke Update TermsCodeRel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
	                    invoked.FinanceEnterpriseGroup 					= LocalFinanceEnterpriseGroup
						invoked.TermsCode			   					= LocalDocumentID
						invoked.Description.Desc[1] 					= LocalDescriptionName 
						invoked.Description.Desc[2] 					= LocalDescription
						invoked.ProcessType								= "N"
						invoked.FirstNetDays							= "1"
						invoked.Active									= "1"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif
#ifdef module ic						
				else
				if(LocalListID = "Unit Codes" and UnitOfMeasureRel exists)
					invoke Update UnitOfMeasureRel
						resume on error
	                   		Error             							= true
	                        ErrorMessage     							= error message
						invoked.UnitOfMeasure			   				= LocalDocumentID
						invoked.ItemGroup 								= LocalBusinessGroup 
						invoked.Description								= LocalDescription
						invoked.Active									= "1"
					if(Error)
						invoke Update FSMInboundBODTrackerRel
							invoked.Error 					= Error
							invoked.ErrorMessage 			= ErrorMessage
							invoked.Status					= 2
							invoked.CloseDate				= system current timestamp
						invoke ShowSendCDConfirmBOD
							invoked.PrmErrorMessage 		= ErrorMessage
							invoked.CodeDefinitionBOD      	= CodeDefinitionBODXML
							invoked.PrmTrackerID			= LocalFSMInboundBODTracker
					else 
						invoke Update FSMInboundBODTrackerRel
							invoked.Status					= 3
							invoked.CloseDate				= system current timestamp
#endif

		ShowSendCDConfirmBOD is an Instance Action
			restricted			
			Parameters
				CodeDefinitionBOD 						is XMLDocument
				PrmErrorMessage 						is Alpha 300
				PrmTrackerID							is Numeric 15
			Action Rules
				LocalSCodeDefinitionXML					= CodeDefinitionBOD
				LocalErrorMessage						= PrmErrorMessage
				LocalTrackerID							= PrmTrackerID
				LocalAccountingEntity					= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID/@accountingEntity" 
				LocalCodeValue							= CodeDefinitionBOD select "//DataArea/CodeDefinition/CodeValue"
				LocalFromLogicalID						= CodeDefinitionBOD select "//ApplicationArea/Sender/LogicalID"
				LocalComponentID						= CodeDefinitionBOD select "//ApplicationArea/Sender/ComponentID"
				LocalBODID								= CodeDefinitionBOD select "//ApplicationArea/BODID"
				LocalTaskID								= CodeDefinitionBOD select "//ApplicationArea/Sender/TaskID"
				LocalReferenceID						= CodeDefinitionBOD select "//ApplicationArea/Sender/ReferenceID"
				LocalConfirmationCode					= CodeDefinitionBOD select "//ApplicationArea/Sender/ConfirmationCode"
				LocalAuthorizationID					= CodeDefinitionBOD select "//ApplicationArea/Sender/AuthorizationID"
				LocalDocumentID							= CodeDefinitionBOD select "//DataArea/CodeDefinition/DocumentID/ID"
				LocalMainUserTemplate					= "IONShowCodeDefinition_ConfirmBOD_ST"
				
				if(UserTemplateRel exists)
					send ion bod
						bod is ShowCodeDefinitionConfirmBODXML
						bod type is "Confirm.BOD"
						accounting entity is LocalAccountingEntity
						document id is LocalDocumentID
																
