AllocationLineSource is a BusinessClass
	owned by Allocations
	
	prefix is Allo
	
	Ontology
		symbolic key is AllocationLineSource
			
	Patterns
		disable Auditing
        disable EffectiveDated
        
	Persistent Fields
		SourceAddress is a FinanceAddress	 
			holds pii
		
	Derived Fields
		DetailedAddressLabel is a DerivedField
			type is Alpha size 20
			if (IsFirstAllocationLineSource)
				return "Detailed Source:"

        DerivedAccountingUnit  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceAccountingUnitGroup entered
            and not AllocationLine.ProcessAccountingUnitPostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceAccountingUnitGroup
            return SourceAddress.AccountingUnit

        DerivedAccount  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceAccountGroup entered
            and not AllocationLine.ProcessAccountPostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceAccountGroup
            return SourceAddress.GeneralLedgerChartAccount

        DerivedProject  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceProjectGroup entered
            and not AllocationLine.ProcessProjectPostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceProjectGroup
            return SourceAddress.Project

        DerivedFinanceDimension1  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension1Group entered
            and not AllocationLine.ProcessDimension1PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension1Group
            return SourceAddress.FinanceDimension1
        
        DerivedFinanceDimension2  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension2Group entered
            and not AllocationLine.ProcessDimension2PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension2Group
            return SourceAddress.FinanceDimension2

        DerivedFinanceDimension3  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension3Group entered
            and not AllocationLine.ProcessDimension3PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension3Group
            return SourceAddress.FinanceDimension3

        DerivedFinanceDimension4  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension4Group entered
            and not AllocationLine.ProcessDimension4PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension4Group
            return SourceAddress.FinanceDimension4

        DerivedFinanceDimension5  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension5Group entered
            and not AllocationLine.ProcessDimension5PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension5Group
            return SourceAddress.FinanceDimension5

        DerivedFinanceDimension6  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension6Group entered
            and not AllocationLine.ProcessDimension6PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension6Group
            return SourceAddress.FinanceDimension6

        DerivedFinanceDimension7  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension1Group entered
            and not AllocationLine.ProcessDimension7PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension7Group
            return SourceAddress.FinanceDimension7

        DerivedFinanceDimension8  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension8Group entered
            and not AllocationLine.ProcessDimension8PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension8Group
            return SourceAddress.FinanceDimension8

        DerivedFinanceDimension9  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension9Group entered
            and not AllocationLine.ProcessDimension9PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension9Group
            return SourceAddress.FinanceDimension9

        DerivedFinanceDimension10  is a DerivedField
            type is Alpha size 25
            if (AllocationLine.SourceFinanceDimension10Group entered
            and not AllocationLine.ProcessDimension1PostingBalance
            and not AllocationLine.ProcessAllPostingBalance)
                return AllocationLine.SourceFinanceDimension10Group
            return SourceAddress.FinanceDimension10


        DerivedAccountingUnitForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceAccountingUnitGroup entered
            and not AllocationLineReportRel.ProcessAccountingUnitPostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceAccountingUnitGroup
            return SourceAddress.AccountingUnit

        DerivedAccountForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceAccountGroup entered
            and not AllocationLineReportRel.ProcessAccountPostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceAccountGroup
            return SourceAddress.GeneralLedgerChartAccount

        DerivedProjectForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceProjectGroup entered
            and not AllocationLineReportRel.ProcessProjectPostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceProjectGroup
            return SourceAddress.Project

        DerivedFinanceDimension1ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension1Group entered
            and not AllocationLineReportRel.ProcessDimension1PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension1Group
            return SourceAddress.FinanceDimension1
        
        DerivedFinanceDimension2ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension2Group entered
            and not AllocationLineReportRel.ProcessDimension2PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension2Group
            return SourceAddress.FinanceDimension2

        DerivedFinanceDimension3ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension3Group entered
            and not AllocationLineReportRel.ProcessDimension3PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension3Group
            return SourceAddress.FinanceDimension3

        DerivedFinanceDimension4ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension4Group entered
            and not AllocationLineReportRel.ProcessDimension4PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension4Group
            return SourceAddress.FinanceDimension4

        DerivedFinanceDimension5ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension5Group entered
            and not AllocationLineReportRel.ProcessDimension5PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension5Group
            return SourceAddress.FinanceDimension5

        DerivedFinanceDimension6ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension6Group entered
            and not AllocationLineReportRel.ProcessDimension6PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension6Group
            return SourceAddress.FinanceDimension6

        DerivedFinanceDimension7ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension1Group entered
            and not AllocationLineReportRel.ProcessDimension7PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension7Group
            return SourceAddress.FinanceDimension7

        DerivedFinanceDimension8ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension8Group entered
            and not AllocationLineReportRel.ProcessDimension8PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension8Group
            return SourceAddress.FinanceDimension8

        DerivedFinanceDimension9ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension9Group entered
            and not AllocationLineReportRel.ProcessDimension9PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension9Group
            return SourceAddress.FinanceDimension9

        DerivedFinanceDimension10ForDetailList  is a DerivedField
            type is Alpha size 25
			restricted
            if (AllocationLineReportRel.SourceFinanceDimension10Group entered
            and not AllocationLineReportRel.ProcessDimension1PostingBalance
            and not AllocationLineReportRel.ProcessAllPostingBalance)
                return AllocationLineReportRel.SourceFinanceDimension10Group
            return SourceAddress.FinanceDimension10


	Transient Fields
		TransientAccountingUnit			is like AccountingUnit
			default label is "<actor.context.FinanceEnterpriseGroup.AccountingUnitLabel>"
			derive value from DerivedAccountingUnitForDetailList
		TransientAccount				is like GeneralLedgerChartAccount
			default label is "<actor.context.FinanceEnterpriseGroup.AccountLabel>"
			derive value from DerivedAccountForDetailList
		TransientProject				is like Project
			default label is "<actor.context.FinanceEnterpriseGroup.ProjectLabel>"
			derive value from DerivedProjectForDetailList
		TransientFinanceDimension1		is like FinanceDimension1
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension1Label>"
			derive value from DerivedFinanceDimension1ForDetailList
		TransientFinanceDimension2		is like FinanceDimension2
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension2Label>"
			derive value from DerivedFinanceDimension2ForDetailList
		TransientFinanceDimension3		is like FinanceDimension3
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension3Label>"
			derive value from DerivedFinanceDimension3ForDetailList
		TransientFinanceDimension4		is like FinanceDimension4
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension4Label>"
			derive value from DerivedFinanceDimension4ForDetailList
		TransientFinanceDimension5		is like FinanceDimension5
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension5Label>"
			derive value from DerivedFinanceDimension5ForDetailList
		TransientFinanceDimension6		is like FinanceDimension6
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension6Label>"
			derive value from DerivedFinanceDimension6ForDetailList
		TransientFinanceDimension7		is like FinanceDimension7
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension7Label>"
			derive value from DerivedFinanceDimension7ForDetailList
		TransientFinanceDimension8		is like FinanceDimension8
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension8Label>"
			derive value from DerivedFinanceDimension8ForDetailList
		TransientFinanceDimension9		is like FinanceDimension9
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension9Label>"
			derive value from DerivedFinanceDimension9ForDetailList
		TransientFinanceDimension10		is like FinanceDimension10
			default label is "<actor.context.FinanceEnterpriseGroup.FinanceDimension10Label>"
			derive value from DerivedFinanceDimension10ForDetailList
            
	Conditions
		IsFirstAllocationLineSource
			restricted
			when (AllocationLineSource = AllocationLine.FirstAllocationLineSource)
			
	Sets
		ByAllocationLine
			duplicates
			Sort Order
				FinanceEnterpriseGroup
	    		AllocationControl
	    		AllocationRun
	    		Allocation
	    		AllocationLine
		
		ByAllocationRun
			duplicates			
			Sort Order
				FinanceEnterpriseGroup				
				AllocationRun

	Field Rules
		SourceAddress
			required

    Relations
        AllocationLineTempOverrideRel
            one-to-many relation to AllocationLineTempOverride
            Field Mapping uses symbolic key
    			related.FinanceEnterpriseGroup	= FinanceEnterpriseGroup
    			related.AllocationSourceSystem	= AllocationSourceSystem
    			related.AllocationControl		= AllocationControl
    			related.Allocation				= Allocation
    			related.AllocationLine			= AllocationLine
    			related.AllocationRun			= AllocationRun

		AllocationLineReportRel
			one-to-one relation to AllocationLineReport
			Field Mapping uses symbolic key
				related.FinanceEnterpriseGroup								= FinanceEnterpriseGroup
				related.AllocationRun										= AllocationRun
				related.AllocationLineReport.AllocationSourceSystem			= AllocationSourceSystem
				related.AllocationLineReport.AllocationControl				= AllocationControl
				related.AllocationLineReport.Allocation						= Allocation
				related.AllocationLineReport.AllocationLine					= AllocationLine                
	Actions
 		Create is an Action
 			restricted
 			bypass field rules
			Field Rules

			Exit Rules

    	Update is an Update Action
    		restricted
			Field Rules

    		Exit Rules

    	Delete is a Delete Action
    		restricted

    	DeleteAllForRun is a Set Action
    		restricted
    		Parameters
    			PrmEnterpriseGroup		is a FinanceEnterpriseGroup
    				default label is "FinanceEnterpriseGroup"
    			PrmAllocationRun		is a AllocationRun
    				default label is "AllocationRun"
			Sort Order
				FinanceEnterpriseGroup				
				AllocationRun
    		Instance Selection
				where (FinanceEnterpriseGroup	= PrmEnterpriseGroup
				and    AllocationRun			= PrmAllocationRun)
			Action Rules
				Instance Rules
					invoke Delete
