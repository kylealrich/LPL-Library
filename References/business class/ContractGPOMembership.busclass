ContractGPOMembership is a BusinessClass
	owned by po
	
	prefix is CMXX
	
	Ontology
		symbolic key is ContractGPOMembership
	
	Patterns
        disable AuditIndex
		disable Auditing 
       	disable EffectiveDated		
	
	Persistent Fields
		GPOMembership                   is Alpha 7                 
		Name                            is Alpha 100               
		ClassOfTrade                    is Alpha 200               
		Address1                        is an AddressLine          
		Address2                        is an AddressLine          
		Municipality                                               
			default label is "City"
		StateProvince                   is like StateProvince      
			default label is "State"
		PostalCode	                                               

		CountryCode                     is a Country
			default label is "Country/\JurisdictionCode" 
		COID                            is Alpha 7
		FacilityActiveIndicator         is Boolean
		EligibleDate                    is Date
		IneligibleDate                  is Date
		CategoryID              		is Numeric 2                
			States
				Facility                value is 1
		TypeID                  		is Numeric 3                
		PhoneNumber                     is Alpha 20
		FederalTaxID                    is AlphaUpper size 25
		GLN                             is like GlobalLocationNumber
		HIN                             is AlphaUpper size 13
		DEA                             is AlphaUpper size 10
		OrganizationName	            is Alpha 100                
		CompanyName		                is Alpha 100
		GroupName                       is Alpha 100
		DivisionName                    is Alpha 100
		MarketName                      is Alpha 100
		TypeDescription                 is a Description		
	
	Relations
		ContractImportGPOMembershipRel
			one-to-one relation to ContractImportGPOMembership
			Field Mapping uses symbolic key
				related.ContractImportGPOMembership    = GPOMembership
	
	Field Rules
	
	Sets
	
		ByGPOMembership
			Sort Order
				GPOMembership
				ContractGPOMembership
	
	Actions
		Create is a Create Action
			restricted
		
		Update is an Update Action
			restricted
		
		Delete is a Delete Action
			restricted
		
		MassDelete is a Set Action
			disable checkpoint
			
			Action Rules
			
				Instance Rules
				
					invoke Delete

		FindNewMembers is a Set Action
			restricted
			Parameters
				ContractGroup
				
			Action Rules
			
				Instance Rules
				
					if (ContractImportGPOMembershipRel !exists)
						invoke Create ContractImportGPOMembership
							invoked.ContractGroup     			= ContractGroup
							invoked.ContractImportGPOMembership = GPOMembership
							invoked.Name                        = Name
							invoked.ClassOfTrade                = ClassOfTrade
							invoked.Address1                    = Address1
							invoked.Address2                    = Address2
							invoked.Municipality                = Municipality
							invoked.StateProvince               = StateProvince
							invoked.PostalCode                  = PostalCode
		
