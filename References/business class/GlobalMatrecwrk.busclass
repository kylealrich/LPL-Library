GlobalMatrecwrk is a BusinessClass
    owned by workfile
    prefix is W5722

    Patterns
        disable StaticTranslations
        implements WorkFile

    Persistent Fields
        WorkFile                is UniqueID
        WorkFileSeq             is Numeric size 12
        RecKey                  is a GlobalMatrecwrkRecKeyGroup
        AltRecKey               is a GlobalMatrecwrkAltRecKeyGroup
        RecordSelectedFl        is Alpha size 1
        Status                  is Numeric size 1
        PurchFrLoc              is like VendorLocation 
        AocRate                 is like AOCRate 
        Entry                   is Alpha size 1
        Quantity                is like Quantity 
        OrigUnitCst             is like InternationalCost
        TotalAoc                is like InternationalAmount
        RecQty                  is like Quantity 
        MatchedQty              is like Quantity 
        UnmatchedQty            is like Quantity 
        ChargebackQty           is like Quantity 
        MiscMaAmt               is like InternationalAmount
        RecqtyToMa              is Decimal size 13.4
        RecamtToMa              is like InternationalAmount
        TaxCode                 is like TaxCode 
        TaxUnitCst              is Decimal size 13.5
        TaxableFlag             is Alpha size 1
        OriginCd                is Alpha size 2
        AocOnPo                 is Alpha size 1
        SummaryFlag             is Alpha size 1
        ZeroCostFlg             is Alpha size 1
        CancelledFl             is Alpha size 1
        ClosedFl                is Alpha size 1
        InvSprdCret             is Numeric size 1
        IssuedFlag              is Alpha size 1
        InvcTaxAmt              is like InternationalAmount
        AccrTaxAmt              is like InternationalAmount
        ExtTaxblAmt             is like InternationalAmount
        LandUnitCst             is like InternationalCost
        BiIncAmt                is like InternationalAmount
        LandedFlag              is Boolean 
        XrefVendor              is like CrossReferenceVendor
        MatchRefNbr             is Alpha size 22
        MatchUnitCst            is like InternationalCost
        MatchAmt                is like InternationalAmount
        MatchAmtTot             is like InternationalAmount
        MatchSub                is Numeric size 2
        Invoice                 is like Invoice 
        Suffix                  is like Suffix 
        MatchObjId              is like ObjId 
        TotalAocPo              is like InternationalAmount
        OpenToMatch             is like Quantity 
        ServiceCode             is like ServiceCode 
        BuyerCode               is like Buyer
        Item                    is like Item
        ItemType                is like ItemType 
        MatchedAmount           is like InternationalAmount 
        UnmatchedAmt            is like InternationalAmount 
        OpenPoAmt               is like InternationalAmount
        ItemDescription         is like Description 
        MatchSeqNbr             is like SeqNbr 
        CurrencyCode            is like Currency 
        OrigCnvRate             is like CnvRate
        WrkMatchedQty           is like Quantity 
        WrkLastRecInd           is Alpha size 1
        RecDate                 is Date 

    Sets

        RecKey
            indexed
            no duplicates
            primary
            Sort Order
                WorkFile
                RecKey

        AltRecKey
            indexed
            no duplicates
            Sort Order
                WorkFile
                AltRecKey

        InsertionOrderSet
            indexed
            no duplicates
            Sort Order
                WorkFile
                WorkFileSeq

    Actions

        Create is a Create Action

            Field Rules
                WorkFileSeq
                    autosequence

        Delete is a Delete Action

        DeleteAll is a Set Action
            restricted

            Parameters
                WorkFileHeader is UniqueID

            Instance Selection
                where (WorkFile = WorkFileHeader)

            Local Fields
                LWorkFileHeader is a WorkFile

            Parameter Rules
                WorkFileHeader
                    required
                    LWorkFileHeader = WorkFileHeader

            Action Rules
                Instance Rules
                    invoke Delete

                Empty Set Rules
                    invoke Purge LWorkFileHeader

                Set Rules
                    Exit Rules
                        invoke Purge LWorkFileHeader
