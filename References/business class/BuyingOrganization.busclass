BuyingOrganization is a BusinessClass
	owned by edi
	prefix is BOrg
	
	Ontology
        symbolic key is BuyingOrganization 
	
	Patterns
        disable AuditIndex
	
	Persistent Fields
		OrganizationName				is a Name	 
			holds pii
		EmailDomainName					is an EmailDomName
		FromDunsNumber					is a DunsNumberAlpha
		SenderDunsNumber				is a DunsNumberAlpha
		SenderNetworkID					is a NetworkID
		SharedSecret
		DeploymentMode
		AllowCombinedItems				is Boolean
		AllowMultiplePunchoutVendors	is Boolean
		PreventCompanyRSSOptionsUpdates	is Boolean
	
    Relations
    
        PunchoutVendorsRel is a PunchoutVendor set
        
        PurchaseOrderDispatchVendorsRel	is a PurchaseOrderDispatchVendor set
	
	Field Rules
		OrganizationName
			required
		DeploymentMode
			default to "test" 	
			initial value is "test" 

			
	Actions
		Create is a Create Action

		Update is an Update Action

		Delete is a Delete Action
			Entrance Rules
				constraint(!PunchoutVendorsRel exists)
					"PunchoutVendorsExistForThisBuyingOrganization"

		SetAllCompaniesToBasicUser is an Instance Action
			restricted
			confirmation required
				"Warning:RSSOptionsForAllCompaniesWillBeUpdated.DoYouWantToContinue?"

			Action Rules
				invoke SetRSSOptions InventoryCompany 
					invoked.PrmBuyingOrganization	= BuyingOrganization	
					invoked.PrmUserType	= "B"	

		SetAllCompaniesToPowerUser is an Instance Action
			restricted
			confirmation required
				"Warning:RSSOptionsForAllCompaniesWillBeUpdated.DoYouWantToContinue?"

			Action Rules
				invoke SetRSSOptions InventoryCompany 
					invoked.PrmBuyingOrganization	= BuyingOrganization	
					invoked.PrmUserType	= "P"	
			
