MobileSupplyChainCompany is a BusinessClass
	owned by mscm
	prefix is MSCOM
	
	Ontology
		symbolic key is MobileSupplyChainCompany
	
    Persistent Fields
       
        MobileSupplyChainEnabled			is AlphaUpper 1
			States
				InheritEnterpriseSetup  		value is blank
				Disable				    		value is "D"


        DisplayQuantityOnOrder      		is a MobileSupplyChainInheritEnableOptions
        AllowEditParLevel           		is a MobileSupplyChainInheritEnableOptions
		DisplayParUtilizationLevel			is a MobileSupplyChainInheritEnableOptions
        PrintParItemLabel					is a MobileSupplyChainInheritEnableOptions
		ReplenishDays						


		CarrierOptions						is a MobileSupplyChainInheritDisplayOptions
		ReferenceNumberOptions				is a MobileSupplyChainInheritDisplayOptions
		BillOfLadingOptions					is a MobileSupplyChainInheritDisplayOptions
		CarrierTrackingNumberOptions 		is a MobileSupplyChainInheritDisplayOptions
		DisplayAddReceiptButton				is a MobileSupplyChainInheritEnableOptions
		DisplayTrackingNumber 				is a MobileSupplyChainInheritEnableOptions
		PrintPurchaseOrderDeliveryLabel		is a MobileSupplyChainInheritEnableOptions	
		PrintPurchaseOrderDeliveryTicket	is a MobileSupplyChainInheritEnableOptions	
		CheckCatchWeightTolerance		 	is a MobileSupplyChainInheritEnableOptions
		TemperatureScale
		DisplayRejectOption					is AlphaUpper size 1
			States
				DisplayOnly			value is "D"
				DisplayAndRequired 	value is "R"
		DisplayStorageType					is a MobileSupplyChainDisplayOptions
		DisplayPackageCondition				is a MobileSupplyChainDisplayOptions
		DisplayTemperature					is a MobileSupplyChainDisplayOptions
		DisplayExpirationDate				is a MobileSupplyChainDisplayOptions
		DisplayCapturePhotoOption			is a MobileSupplyChainDisplayOptions
		DisplayPurchaseOrderComment			is a MobileSupplyChainDisplayOptions		  							


		PrintInventoryIssueTicket					is a MobileSupplyChainInheritEnableOptions		
		PrintInventoryAdjustmentTicket  			is a MobileSupplyChainInheritEnableOptions
		PrintInventoryTransferTicket  				is a MobileSupplyChainInheritEnableOptions
		PrintInventoryReceivingTransferTicket		is a MobileSupplyChainInheritEnableOptions


		ItemNumberValidation           	 	is a MobileSupplyChainInheritEnableOptions
		TrackDeliveryOption             	is Alpha 1
			States
				InheritEnterpriseSetup  		value is blank
				Container                   	value is "C"
                Shipment                    	value is "S"
                ShipmentLine                	value is "L"
		DownloadedShipmentOrder				is AlphaUpper size 1
            States
				InheritEnterpriseSetup  		value is blank
                FIFO                        	value is "F"
                LIFO                        	value is "L"		
        PrintPickingOptions             	is a MobileSupplyChainInheritPrintingOptions            
        PrintPickingClusterOptions      	is a MobileSupplyChainInheritPrintingOptions


		DisplayInventoryReplenishmentCompanyQOO				is a MobileSupplyChainInheritEnableOptions
        DisplayInventoryReplenishmentCompanyMinimumOrder	is a MobileSupplyChainInheritEnableOptions
    
    Transient Fields
		TransientReplenishDays	is a ReplenishDays
			derive value from DerivedReplenishDays
    
	Context Fields
		MobileSupplyChainResourceContext	is a MobileSupplyChainResource
		

    Derived Fields
        DerivedReplenishDays is a DerivedField
			type is like ReplenishDays
			restricted
			if (ReplenishDays entered)
				return ReplenishDays
			else
				return 1

		ActualDisplayCarrier is a DerivedField
			type is like MobileSupplyChainInheritDisplayOptions
			if (CarrierOptions.InheritEnterpriseSetup)
				return MobileSupplyChainConfigurationRel.CarrierOptions
			
			return CarrierOptions	

		ActualDisplayBillOfLading is a DerivedField
			type is like MobileSupplyChainInheritDisplayOptions
			if (BillOfLadingOptions.InheritEnterpriseSetup)
				return MobileSupplyChainConfigurationRel.BillOfLadingOptions
			
			return BillOfLadingOptions	

		ActualDisplayReferenceNumber is a DerivedField
			type is like MobileSupplyChainInheritDisplayOptions
			if (ReferenceNumberOptions.InheritEnterpriseSetup)
				return MobileSupplyChainConfigurationRel.ReferenceNumberOptions
			
			return ReferenceNumberOptions	

		ActualDisplayCarrierTrackingNumber is a DerivedField
			type is like MobileSupplyChainInheritDisplayOptions
			if (CarrierTrackingNumberOptions.InheritEnterpriseSetup)
				return MobileSupplyChainConfigurationRel.CarrierTrackingNumberOptions
			
			return CarrierTrackingNumberOptions

		ActualTrackDeliveryOption is a DerivedField
            type is AlphaUpper size 1
            if (TrackDeliveryOption.InheritEnterpriseSetup)
                return MobileSupplyChainConfigurationRel.TrackDeliveryOption
            
            return TrackDeliveryOption
        ActualPrintPickingOptions is a DerivedField
            type is AlphaUpper size 1
            if (PrintPickingOptions.InheritEnterpriseSetup)
                return MobileSupplyChainConfigurationRel.PrintPickingOptions
            
            return PrintPickingOptions
        
        ActualDownloadedShipmentOrder is a DerivedField
            type is AlphaUpper size 1
            if (DownloadedShipmentOrder.InheritEnterpriseSetup)
                return MobileSupplyChainConfigurationRel.DownloadedShipmentOrder
            
            return DownloadedShipmentOrder
        
        ActualPrintPickingClusterOptions is a DerivedField
            type is AlphaUpper size 1
            if (PrintPickingClusterOptions.InheritEnterpriseSetup)
                return MobileSupplyChainConfigurationRel.PrintPickingClusterOptions
            
            return PrintPickingClusterOptions

    Conditions
	
		ActualMobileSupplyChainEnabled
			when (MobileSupplyChainEnabled.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.MobileSupplyChainEnabled)
 
        ActualDisplayQuantityOnOrder
			when ((DisplayQuantityOnOrder.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.DisplayQuantityOnOrder) 
			or     DisplayQuantityOnOrder.Enable)

        ActualAllowEditParLevel
			when ((AllowEditParLevel.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.AllowEditParLevel) 
			or     AllowEditParLevel.Enable)
        
        ActualDisplayParUtilizationLevel
			when ((DisplayParUtilizationLevel.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.DisplayParUtilizationLevel) 
			or     DisplayParUtilizationLevel.Enable)
        
        ActualPrintParItemLabel
			when ((PrintParItemLabel.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.PrintParItemLabel) 
			or     PrintParItemLabel.Enable)
		
		ActualDisplayAddReceiptButton
			when ((DisplayAddReceiptButton.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.DisplayAddReceiptButton) 
			or     DisplayAddReceiptButton.Enable)	
        
		ActualDisplayTrackingNumber
			when ((DisplayTrackingNumber.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.DisplayTrackingNumber) 
			or     DisplayTrackingNumber.Enable)

		ActualPrintPurchaseOrderDeliveryLabel
			when ((PrintPurchaseOrderDeliveryLabel.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.PrintDeliveryLabel) 
			or     PrintPurchaseOrderDeliveryLabel.Enable)	

		ActualPrintPurchaseOrderDeliveryTicket
			when ((PrintPurchaseOrderDeliveryTicket.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.PrintDeliveryTicket) 
			or     PrintPurchaseOrderDeliveryTicket.Enable)	

		ActualItemNumberValidation
            when ((ItemNumberValidation.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.ItemNumberValidation) 
            or     ItemNumberValidation.Enable) 
    
		ActualPrintInventoryAdjustmentTicket
            when ((PrintInventoryAdjustmentTicket.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.PrintInventoryAdjustmentTicket) 
            or     PrintInventoryAdjustmentTicket.Enable)   
        
		ActualPrintInventoryIssueTicket
            when ((PrintInventoryIssueTicket.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.PrintInventoryIssueTicket) 
            or     PrintInventoryIssueTicket.Enable)
        
		ActualPrintInventoryTransferTicket
            when ((PrintInventoryTransferTicket.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.PrintInventoryTransferTicket) 
            or     PrintInventoryTransferTicket.Enable)

		ActualInventoryReplenishmentCompanyDisplayQOO
            when ((DisplayInventoryReplenishmentCompanyQOO.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.DisplayInventoryReplenishmentQOO) 
            or     DisplayInventoryReplenishmentCompanyQOO.Enable)

		ActualInventoryReplenishmentCompanyDisplayMinimumOrder
            when ((DisplayInventoryReplenishmentCompanyMinimumOrder.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.DisplayInventoryReplenishmentMinimumOrder) 
            or     DisplayInventoryReplenishmentCompanyMinimumOrder.Enable)

		ActualCheckCatchWeightTolerance
            when ((CheckCatchWeightTolerance.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.CheckCatchWeightTolerance) 
            or     CheckCatchWeightTolerance.Enable)

		ActualPrintInventoryReceivingTransferTicket
			when ((PrintInventoryReceivingTransferTicket.InheritEnterpriseSetup and MobileSupplyChainConfigurationRel.PrintInventoryReceivingTransferTicket)
			or	   PrintInventoryReceivingTransferTicket.Enable)

		IsAccessibleByMobileSupplyChainResource
        	restricted
        	when (MobileSupplyChainResourceRel.GlobalLocationAccess or MobileSupplyChainResourceCompanyAccessRel exists)

		IsAccessibleByMobileSupplyChainResourceContext
        	restricted
        	when (MobileSupplyChainResourceContext exists
        	and  (MobileSupplyChainResourceContext.GlobalLocationAccess or MobileSupplyChainResourceContextCompanyAccessRel exists))
		
		MobileSupplyChainResourceCompanyAccessRelExists
			restricted
			when (MobileSupplyChainResourceCompanyAccessRel exists)

    Relations
		MobileSupplyChainConfigurationRel
            one-to-one relation to MobileSupplyChainConfiguration
            Field Mapping uses symbolic key
            	related.MobileSupplyChainConfiguration = Company.FinanceEnterpriseGroup

		MobileSupplyChainResourceRel
			one-to-one relation to MobileSupplyChainResource
			Field Mapping uses symbolic key
				related.HROrganization 				= actor.agent(Employee).HROrganization
				related.MobileSupplyChainResource   = actor.agent(Employee).Employee

		MobileSupplyChainResourceContextCompanyAccessRel
    		one-to-many relation to MobileSupplyChainResourceAccess
    		Field Mapping uses symbolic key
    			related.HROrganization				= MobileSupplyChainResourceContext.HROrganization
    			related.MobileSupplyChainResource	= MobileSupplyChainResourceContext
    			related.Company						= Company

    	MobileSupplyChainResourceCompanyAccessRel
    		one-to-many relation to MobileSupplyChainResourceAccess
    		Field Mapping uses symbolic key
    			related.HROrganization				= actor.agent(Employee).HROrganization
    			related.MobileSupplyChainResource	= actor.agent(Employee).Employee
    			related.Company						= Company		
	
    Field Rules
        TransientReplenishDays
			default to 1
			constraint (TransientReplenishDays >= 1)
				"ReplenishDaysMinimumValueIs1"
			ReplenishDays = TransientReplenishDays	

		TemperatureScale
			initial value is TemperatureScale.Fahrenheit
			default to TemperatureScale.Fahrenheit

		DisplayRejectOption
			initial value is DisplayRejectOption.DisplayOnly
			default to DisplayRejectOption.DisplayOnly

		DisplayStorageType	
			initial value is MobileSupplyChainDisplayOptions.DisplayOnly
			default to MobileSupplyChainDisplayOptions.DisplayOnly	
			
		DisplayPackageCondition		
			initial value is MobileSupplyChainDisplayOptions.DisplayOnly
			default to MobileSupplyChainDisplayOptions.DisplayOnly	

		DisplayTemperature	
			initial value is MobileSupplyChainDisplayOptions.DisplayOnly
			default to MobileSupplyChainDisplayOptions.DisplayOnly		

		DisplayExpirationDate
			initial value is MobileSupplyChainDisplayOptions.DisplayOnly
			default to MobileSupplyChainDisplayOptions.DisplayOnly
		
		DisplayCapturePhotoOption	
			initial value is MobileSupplyChainDisplayOptions.DisplayOnly
			default to MobileSupplyChainDisplayOptions.DisplayOnly		

		DisplayPurchaseOrderComment	
			initial value is MobileSupplyChainDisplayOptions.DisplayOnly
			default to MobileSupplyChainDisplayOptions.DisplayOnly	

    Actions
        Create is a Create Action
            restricted
        Update is an Update Action
			valid when (actor.context.FinanceEnterpriseGroup.ShowMobileSupplyChain)

        Delete is a Delete Action
            restricted
		
		DeleteData is a Set Action
			restricted
			Parameters
				PrmFinanceEnterpriseGroup	is like FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
			Instance Selection
				where (Company.FinanceEnterpriseGroup		= PrmFinanceEnterpriseGroup)
			Set Is
				PrmFinanceEnterpriseGroup
			Action Rules
				Instance Rules
					invoke Delete
