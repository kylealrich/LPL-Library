CommodityCodeStructure is a BusinessClass
    owned by ic
    prefix is CCS
    classic name is COMMSTRUCT

    Ontology
        symbolic key is CommodityCodeStructure
            classic set name is CCSSET1
            classic name is COMM-STRUCTURE

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields
   		Description
   			classic name is CC-DESCRIPTION
   		MaxLevels 				is a CommodityStructureMaxLevels 
   		Segments           	    is a CommoditySegmentsInfo
		Active

	Derived Fields
		SingleSpace is a StringField
			type is Alpha 1
			" "	

	Attach Rules
		constraint (Active)
			"CommodityCodeStructure<CommodityCodeStructure>MustBeActive"

   	Field Rules

   		Description
   			required

   		MaxLevels
   			initial value is 1
   			constraint (MaxLevels <= sizeofarray CommodityCode)
   				"MaximumNumberOfLevelsIs6"
   			required
				
		Segments
			required
			constraint (Segments levels = MaxLevels)
				"SegmentInformationMustBeDefinedForTheNumberOfMaximumLevels;<MaxLevels>"
						
	Conditions
		RecordExists
			restricted
			when (CommodityCodeStructure exists)

  	Actions
  	
        Create is a Create Action
	
        Update is an Update Action
        	Action Rules
        		if (MaxLevels changed)	
					constraint (MaxLevels >= old MaxLevels)
						"CannotChange;CreateNewCommodityCodeStructureForLessSegments"         		
	
        Delete is a Delete Action
			
				
				
				
					
