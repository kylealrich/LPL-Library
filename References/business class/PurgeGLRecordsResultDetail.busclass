PurgeGLRecordsResultDetail is a BusinessClass
	owned by GeneralLedger
	
	prefix is PGLRD
	
	Ontology
		symbolic key is PurgeGLRecordsResultDetail
		
	Patterns
 		disable Auditing 
 		disable EffectiveDated
		disable AsOfDateProcessing
	
	Persistent Fields
		Status				is Numeric 1
			disable Auditing
			States
				Complete	value is 0
				Errored 	value is 1
		AccountingEntity
		GLTransactionDetailRecords	is Numeric 12
		GLTransactionRecords		is Numeric 12
		GLJournalControlRecords		is Numeric 12  
		GLTotalRecords				is Numeric 12
		Remarks						is a Description
		
	Transient Fields

		
	Local Fields

	
	Derived Fields
			
	Field Rules
		
		GLTransactionDetailRecords
			default to 0
		GLTransactionRecords
			default to 0
		GLJournalControlRecords
			default to 0
		GLTotalRecords
			default to 0
						
	Conditions
		
	
	Relations
	
		PurgeGLQueueRel
			one-to-one relation to AsyncQueueDefinition
			Field Mapping uses symbolic key
				related.AsyncQueueDefinition	= "GlobalLedgerTransactionalHistoryPurge"

				
	Sets

				
	Actions
		Create is an Action
			restricted
		
		Update is an Action
			restricted
			refresh and lock this instance
		
		SendPurgeCompleteNotification is a Set Action
		    restricted
			Parameters
				PrmPurgeGLRecordsResult			is a PurgeGLRecordsResult
				PrmFinanceEnterpriseGroup 		is a FinanceEnterpriseGroup
			Local Fields
				LocalActor							is an Actor
				LocalGLTransactionDetailRecords		is Numeric 12
				LocalGLTransactionRecords			is Numeric 12
				LocalGLJournalControlRecords		is Numeric 12  
				LocalGLTotalRecords					is Numeric 12
				
			Instance Selection
		        where (	FinanceEnterpriseGroup 	= PrmFinanceEnterpriseGroup
		        and 	PurgeGLRecordsResult 	= PrmPurgeGLRecordsResult)
			Action Rules
				Empty Set Rules
				Set Rules
					Entrance Rules
						initialize  LocalGLTransactionDetailRecords
						initialize  LocalGLTransactionRecords
						initialize  LocalGLJournalControlRecords
						initialize  LocalGLTotalRecords
					Exit Rules
						LocalActor = actor
						send notification
							to LocalActor
							description is "PurgeGLTransactionalHistoryCompletedCheck_Purge_Global_Ledger_Transactional_History_Results"
							detail is "PurgeGLRecordsResult:<PrmPurgeGLRecordsResult>;GLTransactionDetailRecords:<LocalGLTransactionDetailRecords>;GLTransactionRecords:<LocalGLTransactionRecords>;GLJournalControlRecords:<LocalGLJournalControlRecords>;GLTotalRecords:<LocalGLTotalRecords>"
				Instance Rules
					LocalGLTransactionDetailRecords		+= GLTransactionDetailRecords	
					LocalGLTransactionRecords			+= GLTransactionRecords
					LocalGLJournalControlRecords		+= GLJournalControlRecords 
					LocalGLTotalRecords					+= GLTotalRecords					
					
