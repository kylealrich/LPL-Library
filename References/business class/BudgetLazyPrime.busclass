BudgetLazyPrime is a BusinessClass
	owned by GeneralLedger
	
	prefix is BUDLP
	
	Ontology
	
		symbolic key is BudgetLazyPrime
		
    Patterns
   		implements DynamicCreation
 		disable EffectiveDated
 		disable Auditing

    Context Fields
    	BudgetGroup
    	
    Persistent Fields
    	FinanceCodeBlock			is a BudgetLazyCodeBlock
		AccessCount					is Numeric 9
		LastAccessed				is TimeStamp
		
    Transient Fields
		
	Local Fields
		
	Conditions

	Relations
		
	Sets
		ByAccessCount
			Sort Order
	            FinanceEnterpriseGroup
	            AccessCount descending
	            BudgetLazyPrime
		ByLastAccessed
			Sort Order
	            FinanceEnterpriseGroup
	            LastAccessed descending
	            BudgetLazyPrime
	            
	Field Rules
		FinanceCodeBlock
			cannot be changed
			
	Attach Rules
		
	Rule Blocks
	
	Derived Fields

    Actions
	
    	Create is a Create Action
            Entrance Rules
				LastAccessed						= current timestamp
				AccessCount							= 1
				if (FinanceCodeBlock.Ledger not entered)
					FinanceCodeBlock.Ledger			= FinanceEnterpriseGroup.CoreLedger
				BudgetLazyPrime.DimensionCode		= FinanceCodeBlock.FullDimensionCode

		Update is an Update Action
			Action Rules

		Delete is a Delete Action
		
		Purge is a Purge Action
			restricted
		
		Prune is a Set Action
			Parameters
				FEG		is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
				UpTo	is TimeStamp
			Instance Selection
				where (LastAccessed entered
				and LastAccessed < UpTo)
			Sort Order
				FinanceEnterpriseGroup
				LastAccessed
			Action Rules
				Instance Rules
					invoke Purge
		
