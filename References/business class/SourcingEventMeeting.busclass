SourcingEventMeeting is a BusinessClass
    owned by ss
    prefix is EVM

    Ontology
    	part of SourcingEvent 
    		relative key is Meeting is a Description
    	
    Persistent Fields
    	Description 			is Alpha size 250
    	LocationName			is a Description
    	PostalAddress			is a PostalAddressV2	
    		holds pii
    	MeetingDate 			is TimeStamp
    	Required 				is Boolean
		MeetingURL				is a URL
		MeetingPassword			is Alpha size 250
		CallInNumber			is Alpha size 250
		MeetingID				is Alpha size 250
    	


    	
    Derived Fields
		RequiredMeeting is a MessageField
			"Required"
			











    
    Field Rules
    	Description
    		required
    	LocationName
			if (MeetingURL not entered)
				required
		MeetingURL
			if (LocationName not entered)
				required
    	MeetingDate
    		if (SourcingEvent.IsEvent)
    			constraint (MeetingDate >= current timestamp)
    				"MeetingDateMustBeGreaterThanCurrentDate"
    		else
    			cannot be entered
    				"CannotEnterMeetingDateForEventTemplates"

	Conditions
	
		MeetingDateEntered
			restricted
			when (MeetingDate entered)
		
		MeetingURLEntered
			restricted
			when (MeetingURL entered)

		MeetingAddressEntered
			restricted
			when (PostalAddress entered)

		CallInNumberEntered
			restricted
			when (CallInNumber entered)

		MeetingIDEntered
			restricted
			when (MeetingID entered)
		
		MeetingPasswordEntered
			restricted
			when (MeetingPassword entered)

		LocationNameEntered
			restricted
			when (LocationName entered)
			



	
	Actions
		Create is a Create Action
			valid when (SourcingEvent.InEditableState)
			Action Rules
				constraint (SourcingEvent.InActionableState)
					"CannotAddMeetingWhileEventIsPendingAward,Cancelled,OrClosed"
				constraint (!SourcingEvent.NeedsApproval)
					"CannotAddMeetingWhileEventIsPendingEventApproval"
				if (SourcingEvent.InInitiateAmendmentState
				and Company.AmendmentCriteria.AddMeeting)
					invoke Amend Open.Notified SourcingEvent 

		Update is an Update Action
			valid when (SourcingEvent.InEditableState)
			Action Rules
				constraint (SourcingEvent.InActionableState)
					"CannotUpdateMeetingWhileEventIsPendingAward,Cancelled,OrClosed"
				constraint (!SourcingEvent.NeedsApproval)
					"CannotUpdateMeetingWhileEventIsPendingEventApproval"
				if (SourcingEvent.InInitiateAmendmentState
				and Company.AmendmentCriteria.UpdateMeeting)
					invoke Amend Open.Notified SourcingEvent
					
		Delete is a Delete Action
			valid when (SourcingEvent.InEditableState)
			Action Rules
				constraint (SourcingEvent.InActionableState)
					"CannotDeleteMeetingWhileEventIsPendingAward,Cancelled,OrClosed"
				constraint (!SourcingEvent.NeedsApproval)
					"CannotDeleteMeetingWhileEventIsPendingEventApproval"
				if (SourcingEvent.InInitiateAmendmentState
				and Company.AmendmentCriteria.DeleteMeeting)
					invoke Amend Open.Notified SourcingEvent
