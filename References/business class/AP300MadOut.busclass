AP300MadOut is a BusinessClass
    owned by ap
    prefix is W3001

    Patterns
        disable StaticTranslations
        implements WorkFile

    Persistent Fields
        WorkFile                is UniqueID
        WorkFileSeq             is Numeric size 12
        MadCompany              is like PayablesCompany 
        MadVendor               is like Vendor
        MadInvoice              is like Invoice
        MadSuffix               is like Suffix
        MadPoNumber             is like PurchaseOrder    
        MadPoRelease            is like PORelease
        MadPoCode               is like POCode
        MadLineNbr              is like LineNumber
        MadSeqNbr               is like SeqNbr
        MadItemType             is like ItemType
        MadItem                 is like Item 
        MadVenItem              is like VendorItem
        MadMatchedQty           is like Quantity
        MadEntUnitCst           is like InternationalCost
        MadTaxCode              is like TaxCode 
        MadTaxAmount            is like InternationalAmount
        MadTaxExempt            is like TaxExemptCode
        MadVbuyMatchQty         is like Quantity
        MadNoTaxFlag            is Boolean

        MadMatchDtlKey          is like MatchDetailKey 
        MadRtlUnitCost          is like InternationalCost
        MadLocation             is like InventoryLocation 
        MadMatchObjId           is like ObjId
        MadEntUom               is like UnitOfMeasure
        MadEntUomMult           is like UOMMultiplier
        MadTranNd               is like NumberOfDecimals
        MadRecSource            is like RecSource 
        MadTotDistAmt           is like InternationalAmount
        MadTotBaseAmt           is like InternationalAmount
        MadStatus               is Numeric size 1
        MadApiObjId             is like ObjId
        MadMaRecNbr             is like PurchaseOrderReceipt	
        MadMaLineNbr            is like PurchaseOrderReceiptLine	
        MadMatchSeqNbr          is like MatchSequence
        MadInvoiceType          is like InvoiceType          
        MadDistribDate          is Date    
        MadMatchUnitCost        is like InternationalCost
        MadVpriUom              is like UnitOfMeasure
        MadVpriUomMult          is like UOMMultiplier
        MadEnteredQty           is like Quantity
        MadVbuyUom              is like UnitOfMeasure
        MadVbuyUomMult          is like UOMMultiplier
        MadMtchExcProc          is like MtchExcProc	
        MadUpdateDate           is TimeStamp    
        MadTaxUsageCd           is like TaxUsageCode 
        MadIcnCode              is like ICNCode 
        MadSuplmntaryQty        is like Quantity
        MadWeight               is like StockWeight
        MadSuplmntaryUom        is like UnitOfMeasure
        MadItemDesc             is like Description
        MadTaxType              is like TaxType	
        MadLastMsgSeq           is like Sequence
        MadTermsCd              is like TermsCode
        MadDiscRate             is like DiscountRate	
        MadDiscDate             is Date    
        MadFlexFlag             is Boolean






        MadMatchErrType         is Numeric size 2	
        MadCatchWgtCost         is like InternationalCost
        MadReasonCode           is like ProcurementReasonCode 
        MadChargebackFl         is Boolean
        MadIrDiffAmt            is like InternationalAmount
        MadMatchExtCost         is like InternationalCost
        MadContract             is like Contract
        MadCommodityCode        is like CommCodes
        MadProdTaxCat           is like ProductTaxCategory
        MadGtin                 is like ItemGTIN
        MadGlblLineType         is like GlobalLineType

    Sets

        InsertionOrderSet
            indexed
            no duplicates
            primary
            Sort Order
                WorkFile
                WorkFileSeq

    Actions

        Create is a Create Action

            Field Rules
                WorkFileSeq
                    autosequence

        Delete is a Delete Action

        DeleteAll is a Set Action
            restricted

            Parameters
                WorkFileHeader is UniqueID

            Instance Selection
                where (WorkFile = WorkFileHeader)

            Local Fields
                LWorkFileHeader is a WorkFile

            Parameter Rules
                WorkFileHeader
                    required
                    LWorkFileHeader = WorkFileHeader

            Action Rules
                Instance Rules
                    invoke Delete

                Empty Set Rules
                    invoke Purge LWorkFileHeader

                Set Rules
                    Exit Rules
                        invoke Purge LWorkFileHeader
