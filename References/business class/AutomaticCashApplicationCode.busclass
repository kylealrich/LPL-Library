AutomaticCashApplicationCode is a BusinessClass
    owned by ar
    prefix is AuCAC

    Ontology
        symbolic key is AutomaticCashApplicationCode

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

		Description
		MethodsBased 					is Boolean
		RemittanceMethod				is Boolean
		LastStatementMethod 			is Boolean
		AgingPeriodMethod 				is Boolean
		UserDefinedBased 				is Boolean
		CustomGroup						is a ReceivableInvoiceDetail group
		OldestBased 					is Boolean
		CreditMemoOption				is AlphaUpper size 1
			States
            	ProcessAllFirst  			value is "A"
				Exempt     					value is "E"
				ProcessInOrder 				value is "I"
		ExemptDebitMemos				is Boolean         
		ExemptDisputes					is Boolean         
		ExemptApplicationTolerances  	is Boolean         
		ExemptEFTTransactions			is Boolean         
		ExemptDiscounting				is Boolean         
		IncludePaymentCode				is an PaymentCodeX3
		ExcludePaymentCode				is an PaymentCodeX3
		IncludeInvoiceTypeCode			is an AR251InvoiceTypeCodeArray
		ExcludeInvoiceTypeCode			is an AR251InvoiceTypeCodeArray

	Local Fields
		I1								is Numeric 3
		I2								is Numeric 3
		
	Relations
	
	Field Rules
	
		AutomaticCashApplicationCode
			constraint (MethodsBased
			or			UserDefinedBased 
			or    		OldestBased)
				"AtLeastOneMethodsBasedTransactionSet,UserDefinedBasedOrOldestBasedOptionRequired"	 							
		
		Description
			required

		CustomGroup
			if (UserDefinedBased)
				required
					"CustomGroupRequiredIfUserDefinedBasedIsSelected"
					
		CreditMemoOption
			if (OldestBased)
				required
					"CreditMemoOptionRequiredIfOldestBasedIsSelected"

		IncludePaymentCode
			if (IncludePaymentCode entered)
				I1 = 1
				while (I1 <= 3)
					if  (IncludePaymentCode.BankTransactionCode[I1] entered)
						I2 = 1
						while (I2 <= 3)
							constraint (IncludePaymentCode.BankTransactionCode[I1] != ExcludePaymentCode.BankTransactionCode[I2])
								"CannotBothIncludeAndExcludePaymentCode"
							I2 += 1
					I1 += 1

		ExcludePaymentCode
			if (ExcludePaymentCode entered)
				I1 = 1
				while (I1 <= 3)
					if  (ExcludePaymentCode.BankTransactionCode[I1] entered)
						I2 = 1
						while (I2 <= 3)
							constraint (ExcludePaymentCode.BankTransactionCode[I1] != IncludePaymentCode.BankTransactionCode[I2])
								"CannotBothIncludeAndExcludePaymentCode"
							I2 += 1
					I1 += 1

		IncludeInvoiceTypeCode
			if (IncludeInvoiceTypeCode entered)
				I1 = 1
				while (I1 <= 3)
					if  (IncludeInvoiceTypeCode.InvoiceTypeCode[I1] entered)
						I2 = 1
						while (I2 <= 3)
							constraint (IncludeInvoiceTypeCode.InvoiceTypeCode[I1] != ExcludeInvoiceTypeCode.InvoiceTypeCode[I2])
								"CannotBothIncludeAndExcludeInvoiceTypeCode"
							I2 += 1
					I1 += 1

		ExcludeInvoiceTypeCode

			if (ExcludeInvoiceTypeCode entered)
				I1 = 1
				while (I1 <= 3)
					if  (ExcludeInvoiceTypeCode.InvoiceTypeCode[I1] entered)
						I2 = 1
						while (I2 <= 3)
							constraint (ExcludeInvoiceTypeCode.InvoiceTypeCode[I1] != IncludeInvoiceTypeCode.InvoiceTypeCode[I2])
								"CannotBothIncludeAndExcludeInvoiceTypeCode"
							I2 += 1
					I1 += 1
						
	Rule Blocks

    Actions
        Create is a Create Action
				
        Update is an Update Action

        Delete is a Delete Action
					
