BudgetTemplateMember is a BusinessClass
	owned by GeneralLedger
	prefix is BUDGM   
   
    Ontology
    	symbolic key is BudgetTemplateMember

    Patterns
 		disable Auditing 
 		disable EffectiveDated

    Persistent Fields
    	AccountingEntity


        FromAccountingUnit				is a AccountingUnit

        FromGeneralLedgerChartAccount	is a GeneralLedgerChartAccount 
        	default label is "FromGlobalLedgerChartAccount"

        FromProject						is a Project

        FromFinanceDimension1			is a FinanceDimension1

        FromFinanceDimension2			is a FinanceDimension2

        FromFinanceDimension3			is a FinanceDimension3

        FromFinanceDimension4			is a FinanceDimension4

        FromFinanceDimension5			is a FinanceDimension5

        FromFinanceDimension6			is a FinanceDimension6

        FromFinanceDimension7			is a FinanceDimension7

        FromFinanceDimension8			is a FinanceDimension8

        FromFinanceDimension9			is a FinanceDimension9

        FromFinanceDimension10			is a FinanceDimension10 


        ToAccountingUnit				is a AccountingUnit
            delete cascades
        ToGeneralLedgerChartAccount		is a GeneralLedgerChartAccount
        	default label is "ToGlobalLedgerChartAccount" 
        	delete cascades        
        ToProject						is a Project
        	delete cascades        
        ToFinanceDimension1				is a FinanceDimension1
        	delete cascades        
        ToFinanceDimension2				is a FinanceDimension2
        	delete cascades        
        ToFinanceDimension3				is a FinanceDimension3
        	delete cascades        
        ToFinanceDimension4				is a FinanceDimension4
        	delete cascades        
        ToFinanceDimension5				is a FinanceDimension5
        	delete cascades        
        ToFinanceDimension6				is a FinanceDimension6
        	delete cascades        
        ToFinanceDimension7				is a FinanceDimension7
        	delete cascades        
        ToFinanceDimension8				is a FinanceDimension8
        	delete cascades        
        ToFinanceDimension9				is a FinanceDimension9
        	delete cascades        
        ToFinanceDimension10			is a FinanceDimension10 
        	delete cascades                 
        
        From							is Alpha 14
        To								is Alpha 14
        	
    Transient Fields
		
	Local Fields
		
	Derived Fields
        DerivedDimensionCode        is a DerivedField
            type is Alpha 21
            restricted
            if (FromAccountingUnit not exists
            and AccountingEntity exists )
            	return AccountingEntity.DerivedSequenceNumber
            if (FromAccountingUnit exists )
            	return AccountingEntity.DerivedSequenceNumber + FromAccountingUnit.DerivedSequenceNumber + ToAccountingUnit.DerivedSequenceNumber
            else
            if (FromGeneralLedgerChartAccount exists )
            	return FromGeneralLedgerChartAccount.DerivedSequenceNumber + ToGeneralLedgerChartAccount.DerivedSequenceNumber
            else
            if (FromProject exists )
            	return FromProject.DerivedSequenceNumber + ToProject.DerivedSequenceNumber
            else
            if (FromFinanceDimension1 exists )
            	return FromFinanceDimension1.DerivedSequenceNumber + ToFinanceDimension1.DerivedSequenceNumber
            else
            if (FromFinanceDimension2 exists )
            	return FromFinanceDimension2.DerivedSequenceNumber + ToFinanceDimension2.DerivedSequenceNumber
            else
            if (FromFinanceDimension3 exists )
            	return FromFinanceDimension3.DerivedSequenceNumber + ToFinanceDimension3.DerivedSequenceNumber
            else
            if (FromFinanceDimension4 exists )
            	return FromFinanceDimension4.DerivedSequenceNumber + ToFinanceDimension4.DerivedSequenceNumber
            else
            if (FromFinanceDimension5 exists )
            	return FromFinanceDimension5.DerivedSequenceNumber + ToFinanceDimension5.DerivedSequenceNumber
            else
            if (FromFinanceDimension6 exists )
            	return FromFinanceDimension6.DerivedSequenceNumber + ToFinanceDimension6.DerivedSequenceNumber
            else
            if (FromFinanceDimension7 exists )
            	return FromFinanceDimension7.DerivedSequenceNumber + ToFinanceDimension7.DerivedSequenceNumber
            else
            if (FromFinanceDimension8 exists )
            	return FromFinanceDimension8.DerivedSequenceNumber + ToFinanceDimension8.DerivedSequenceNumber
            else
            if (FromFinanceDimension9 exists )
            	return FromFinanceDimension9.DerivedSequenceNumber + ToFinanceDimension9.DerivedSequenceNumber
            else
            if (FromFinanceDimension10 exists )
            	return FromFinanceDimension10.DerivedSequenceNumber + ToFinanceDimension10.DerivedSequenceNumber
            return 
        DerivedFrom		        is a DerivedField
            type is Alpha 14
            restricted
            if (FromAccountingUnit not exists
            and AccountingEntity exists )
            	return AccountingEntity.DerivedSequenceNumber
            if (FromAccountingUnit exists )
            	return AccountingEntity.DerivedSequenceNumber + FromAccountingUnit.DerivedSequenceNumber
            else
            if (FromGeneralLedgerChartAccount exists )
            	return FromGeneralLedgerChartAccount.DerivedSequenceNumber
            else
            if (FromProject exists )
            	return FromProject.DerivedSequenceNumber
            else
            if (FromFinanceDimension1 exists )
            	return FromFinanceDimension1.DerivedSequenceNumber
            else
            if (FromFinanceDimension2 exists )
            	return FromFinanceDimension2.DerivedSequenceNumber
            else
            if (FromFinanceDimension3 exists )
            	return FromFinanceDimension3.DerivedSequenceNumber
            else
            if (FromFinanceDimension4 exists )
            	return FromFinanceDimension4.DerivedSequenceNumber
            else
            if (FromFinanceDimension5 exists )
            	return FromFinanceDimension5.DerivedSequenceNumber
            else
            if (FromFinanceDimension6 exists )
            	return FromFinanceDimension6.DerivedSequenceNumber
            else
            if (FromFinanceDimension7 exists )
            	return FromFinanceDimension7.DerivedSequenceNumber
            else
            if (FromFinanceDimension8 exists )
            	return FromFinanceDimension8.DerivedSequenceNumber
            else
            if (FromFinanceDimension9 exists )
            	return FromFinanceDimension9.DerivedSequenceNumber + ToFinanceDimension9.DerivedSequenceNumber
            else
            if (FromFinanceDimension10 exists )
            	return FromFinanceDimension10.DerivedSequenceNumber + ToFinanceDimension10.DerivedSequenceNumber
            return 
        DerivedTo		        is a DerivedField
            type is Alpha 14
            restricted
            if (ToAccountingUnit not exists
            and AccountingEntity exists )
            	return AccountingEntity.DerivedSequenceNumber
            if (ToAccountingUnit exists )
            	return AccountingEntity.DerivedSequenceNumber + ToAccountingUnit.DerivedSequenceNumber
            else
            if (ToGeneralLedgerChartAccount exists )
            	return ToGeneralLedgerChartAccount.DerivedSequenceNumber
            else
            if (ToProject exists )
            	return ToProject.DerivedSequenceNumber
            else
            if (ToFinanceDimension1 exists )
            	return ToFinanceDimension1.DerivedSequenceNumber
            else
            if (ToFinanceDimension2 exists )
            	return ToFinanceDimension2.DerivedSequenceNumber
            else
            if (ToFinanceDimension3 exists )
            	return ToFinanceDimension3.DerivedSequenceNumber
            else
            if (ToFinanceDimension4 exists )
            	return ToFinanceDimension4.DerivedSequenceNumber
            else
            if (ToFinanceDimension5 exists )
            	return ToFinanceDimension5.DerivedSequenceNumber
            else
            if (ToFinanceDimension6 exists )
            	return ToFinanceDimension6.DerivedSequenceNumber
            else
            if (ToFinanceDimension7 exists )
            	return ToFinanceDimension7.DerivedSequenceNumber
            else
            if (ToFinanceDimension8 exists )
            	return ToFinanceDimension8.DerivedSequenceNumber
            else
            if (ToFinanceDimension9 exists )
            	return ToFinanceDimension9.DerivedSequenceNumber + ToFinanceDimension9.DerivedSequenceNumber
            else
            if (ToFinanceDimension10 exists )
            	return ToFinanceDimension10.DerivedSequenceNumber + ToFinanceDimension10.DerivedSequenceNumber
            return 

	Conditions
		SecurityGroupAllowsAccess
            when (AccountingEntity not entered
            or   (AccountingEntity entered 
            and   AccountingEntity.AccountingEntitySecurityGroupAllowsAccess))

	Relations
        
	Sets
		ByFrom
			duplicates
			Sort Order
				FinanceEnterpriseGroup
				Scenario
				BudgetTemplate
				CodeBlockDimensionType
				From
		ByTo
			Sort Order
				FinanceEnterpriseGroup
				Scenario
				BudgetTemplate
				CodeBlockDimensionType
				To


	Field Rules
			
	Attach Rules
		
	Rule Blocks

    Actions
	
    	Create is a Create Action
    		restricted
    		bypass field rules
            Entrance Rules
                BudgetTemplateMember  = DerivedDimensionCode
                From = DerivedFrom
                To = DerivedTo

		Update is an Update Action
		    restricted

		Delete is a Delete Action
		    restricted


		Purge is a Purge Action
			restricted
			bypass relational integrity rules
			
		PurgeAllTemplateMembers is a Set Action
			restricted
			Parameters
				PrmFinanceEnterpriseGroup	is a FinanceEnterpriseGroup
					default label is "FinanceEnterpriseGroup"
				PrmScenario					is a Scenario
					default label is "Scenario"
				PrmBudgetTemplate			is a BudgetTemplate
					default label is "BudgetTemplate"
			Instance Selection
				where (FinanceEnterpriseGroup	= PrmFinanceEnterpriseGroup
				and Scenario = PrmScenario
				and BudgetTemplate = PrmBudgetTemplate)
			Sort Order
				FinanceEnterpriseGroup
				Scenario
				BudgetTemplate
			Action Rules
				Instance Rules
					invoke Purge
		    	
		RebuildAll is a Set Action
			restricted
			confirmation required
			Action Rules
				Instance Rules
                	From = DerivedFrom
              		To = DerivedTo

		    	
