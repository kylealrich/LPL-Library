OrderEntryCustomer is a BusinessClass
    owned by ar
    prefix is OET
    classic name is OECUST

    Ontology
        symbolic key is OrderEntryCustomer
            classic set name is OETSET1
            name is OrderEntryCustomer

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields






		Incomplete  is Boolean
			classic name is INCOMPLETE-FL
			restricted
        BillingFreightCode
            classic name is FREIGHT-CODE
        PickingPriority
        	classic name is PK-PRIORITY
        Carrier                      is a Vendor
        CashInAdvanceRequired		 is Boolean
        	classic name is CIA-FL
        CashInAdvanceRequiredPercent
            classic name is CIA-PCT
        ProformaCashInAdvanceRequired			 is Boolean
        ProformaCashInAdvanceRequiredPercent
        OrderDiscountCode
        Territory
        Salesman2                    is a SalesRepresentative

		CommissionSplitPercentage
            classic name is COMM-SPLIT
        PriceList                    is a PriceListContractPromotion
            classic name is PRICE-LST
        CustomeOrderAcknowledgments  is Boolean
            classic name is ACKNOW-FL
        BackorderAllowed             is Boolean
            classic name is BACK-ORD-FL
        ShipCompleteFlag
            classic name is SHIP-COMP-FL
        PORequiredForCustomerOrder  is Boolean
            classic name is PO-REQ-FL
        SubstitutesAllowed           is Boolean
            classic name is SUBSTITUTES-FL
        DefaultCustomerShipTo        is a CustomerShipTo
            classic name is DEF-SHIP-TO
        DefaultShippingLocation      is an InventoryLocation
            classic name is DEF-LOCATION
        DefaultShippingMethod        is a ShippingMethod
            classic name is DEF-METHOD
        BillingCustomerCode
            classic name is CUSTOMER-CODE
        ProofOfDeliveryRequired		is Boolean
            classic name is POD-REQ-FL
        ProofOfDeliveryGracePeriod
            classic name is GRACE-PER
        SingleOrderLimit             is a TotalCODOrderLimit
            classic name is SGL-ORD-LIM
        SingleOrderHoldCode          is a ReceivableHoldCode
            classic name is SGL-HOLD-CODE
        TotalCODOrderLimit
            classic name is COD-LIM
        CashOnDeliveryOrderHoldCode  is a ReceivableHoldCode
            classic name is COD-HOLD-CODE
        CheckCreditOnOrderAdd		is Boolean
            classic name is ENT-CHECK-FL
        CheckCreditBeforePickingList	is Boolean
            classic name is PRT-CHECK-FL
        AgeCredPcts                  is an AgeCredPctX5InOecust
            classic name is AGE-CRED-PCT
        OrderAgingPriodLimitHoldCode is an AgeHoldCdX5InOecust
            classic name is AGE-HOLD-CD
        BrokenCaseCharge			 is Boolean
            classic name is BRKN-CS-CHRG
        CreditLimitHoldCode          is a ReceivableHoldCode
            classic name is CR-LIMIT-HOLD
        OrderLimitHoldCode           is a ReceivableHoldCode
            classic name is OR-LIMIT-HOLD
        BillingLineItemRequired      is Boolean
            classic name is LINE-ITEM-REQ
        Vendor
        PurchFrLoc
        ShipTerm
            classic name is FOB-CODE
        PortCode
            classic name is PORT-CD
        TaxCalulationAndPrinting
        	default label is "TaxCalculationAndPrinting"
            classic name is TAX-PRINT-CD
        AllowReturns                 is Boolean
        LastReturnAuthorizationDate  is Date
            classic name is ALLOW-RTN-DATE
        CarrierFlag                  is Boolean

	Transient Fields
	
    Field Rules
    	BillingCustomerCode
			default to ArcustomerRel.ReceivableDefaultCode.BillingCustomerCode
			required
			
        Territory
	        default to ArcustomerRel.ReceivableDefaultCode.Territory
	        default to ArcustomerRel.Territory
	        required

		PriceList
			default to ArcustomerRel.ReceivableDefaultCode.PriceList
			required
			
		ProformaCashInAdvanceRequired
			if (CashInAdvanceRequired)
				cannot be entered
					"CannotEnterBothCashInAdvanceAndProformaCashInAdvance"
					
		CashInAdvanceRequired
			if (ProformaCashInAdvanceRequired)
				cannot be entered
					"CannotEnterBothCashInAdvanceAndProformaCashInAdvance"
					
		CashInAdvanceRequiredPercent
			if (CashInAdvanceRequired)
				required
				constraint (CashInAdvanceRequiredPercent <=1 and CashInAdvanceRequiredPercent > 0)
					"CashInAdvanceRequiredPercentCannotBeLessThanZeroOrGreaterThan100"	
			else
				cannot be entered						
							
		ProformaCashInAdvanceRequiredPercent
			if (ProformaCashInAdvanceRequired)
				required
				constraint (ProformaCashInAdvanceRequiredPercent <= 1 and   ProformaCashInAdvanceRequiredPercent > 0)
					"ProformaCashInAdvancePercentCannotBeLessThanZeroOrGreaterThan100"	

    Derived Fields

        Aging1    is an DerivedField
            type is like InternationalAmount   
            restricted     
            return ArcustomerRel.Agings.Aging[1]

        Aging2    is an DerivedField
            type is like InternationalAmount  
            restricted     
            return ArcustomerRel.Agings.Aging[2]

        Aging3    is an DerivedField
            type is like InternationalAmount  
            restricted     
            return ArcustomerRel.Agings.Aging[3]

        Aging4    is an DerivedField
            type is like InternationalAmount  
            restricted     
            return ArcustomerRel.Agings.Aging[4]

        Aging5    is an DerivedField
            type is like InternationalAmount  
            restricted     
            return ArcustomerRel.Agings.Aging[5]

        AgePct1   is an ArrayValueField
            type is Percent size 5.2  
            restricted     
            AgeCredPcts.AgeCredPct[1]

        AgePct2   is an ArrayValueField
            type is Percent size 5.2  
            restricted     
            AgeCredPcts.AgeCredPct[2]

        AgePct3   is an ArrayValueField
            type is Percent size 5.2  
            restricted     
            AgeCredPcts.AgeCredPct[3]

        AgePct4   is an ArrayValueField
            type is Percent size 5.2  
            restricted     
            AgeCredPcts.AgeCredPct[4]

        AgePct5   is an ArrayValueField
            type is Percent size 5.2  
            restricted     
            AgeCredPcts.AgeCredPct[5]

        AgeLimit1 is a DerivedField
            type is like InternationalAmount  
            restricted     
            return (AgePct1 * Aging1)

        AgeLimit2 is a DerivedField
            type is like InternationalAmount  
            restricted     
            return (AgePct2 * Aging2)

        AgeLimit3 is a DerivedField
            type is like InternationalAmount  
            restricted     
            return (AgePct3 * Aging3)

        AgeLimit4 is a DerivedField
            type is like InternationalAmount  
            restricted     
            return (AgePct4 * Aging4)

        AgeLimit5 is a DerivedField
            type is like InternationalAmount  
            restricted     
            return (AgePct5 * Aging5)
        
		CanBeDeleted is a DerivedField
			type is Boolean
			if (CustomerOrderRel exists 
			or  BillingInvoiceRel exists)
				return false	
			else
			    return true	
		
		
    Relations

		CustomerOrderRel 
    		one-to-many relation to CustomerOrder
    		Field Mapping uses Set2
    			related.Company							= Company
    			related.Customer					    = Customer
    	
    	BillingInvoiceRel
            one-to-many relation to BillingInvoice
            Field Mapping uses Set4
                related.Company         				= Company
				related.Customer						= Customer
				
        ArcompRel
            one-to-one relation to ReceivableCompany
            required
            Field Mapping uses symbolic key
                related.Company = Company

        ArcustomerRel
            one-to-one relation to CompanyCustomer
            required
            Field Mapping uses symbolic key
                related.Company  = Company
                related.Customer = Customer

        CranalystRel
            one-to-one relation to CreditAnalyst
            Field Mapping uses symbolic key
                related.Company       = Company
                related.CreditAnalyst = ArcustomerRel.CreditAnalyst

        CustdescRel
            one-to-one relation to Customer
            required
            Field Mapping uses symbolic key
                related.CustomerGroup = ArcompRel.CustomerGroupField.CustomerGroup
                related.Customer      = Customer

        HoldcodesRel
            one-to-one relation to ReceivableHoldCode
            Field Mapping uses symbolic key
                related.CustomerGroup      = ArcompRel.CustomerGroupField.CustomerGroup
                related.ReceivableHoldCode = ArcustomerRel.ReceivableHoldCode
        
    Actions
        Create is a Create Action
        Update is an Update Action
		Delete is a Delete Action
		Purge is a Purge Action
    		restricted
