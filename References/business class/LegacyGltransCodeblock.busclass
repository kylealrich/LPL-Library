LegacyGltransCodeblock is a BusinessClass
    owned by glif
    prefix is LGC

    Patterns
        disable Auditing

    Persistent Fields
        Company      is Numeric 4
        FiscalYear   is Numeric 4
        AcctPeriod   is Numeric 2   
        ControlGroup is Numeric 8
        System       is AlphaUpper 2
        JeType       is AlphaUpper 1
        JeSequence   is Numeric 2
        LineNbr      is Numeric 6
        ObjId        is Numeric 12
        Status       is Numeric 1
        VarLevels    is AlphaUpper 30
        AcctUnit     is AlphaUpper 15 
        Account      is Numeric 6
        SubAccount   is Numeric 4
        SourceCode   is AlphaUpper 2
        Date         is Date
        Reference    is Alpha 10
        Description  is Alpha 30
        BaseAmount   is Decimal 18.2
        BaseNd       is Numeric 1
        UnitsAmount  is Decimal 15.2
        AutoRev      is AlphaUpper 1
        ToCompany    is Numeric 4
        BaseZone     is AlphaUpper 15
        PostingDate  is Date
        Activity     is AlphaUpper 15
        AcctCategory is AlphaUpper 5
        CurrencyCode is AlphaUpper 5
        Baserate     is Decimal 14.7
        TranAmount   is Decimal 18.2
        TranNd       is Numeric 1
        AcctCurrency is AlphaUpper 5
        AcctRate     is Decimal 14.7
        AcctAmount   is Decimal 18.2
        AcctNd       is Numeric 1
        OrigCompany  is Numeric 4
        OrigProgram  is AlphaUpper 5
        Operator     is AlphaUpper 10
        ToBaseAmt    is Decimal 18.2
        ToBaseNd     is Numeric 1
        ToBaserate   is Decimal 14.7
        ToBaseCurr   is AlphaUpper 5
        Reconcile    is AlphaUpper 2
        NegativeAdj  is AlphaUpper 1
        EffectDate   is Date
        UpdateDate   is Date
        SeqTrnsNbr   is Numeric 10
        JbkTrnsNbr   is Numeric 10
        ConsolAcFlag is AlphaUpper 1
            States
                No  value is blank
                Yes value is "Y"
        CtFrCompany  is Numeric 4
        RptAmount1   is Decimal 18.2
        RptRate1     is Decimal 14.7
        RptNd1       is Numeric 1
        RptAmount2   is Decimal 18.2
        RptRate2     is Decimal 14.7
        RptNd2       is Numeric 1   
        CreatedBy    is AlphaUpper 10
        LastUpdtDate is Date
        LastUpdtTime is Numeric 8
        LastUpdateBy is AlphaUpper 10
        Ledger                        is AlphaUpper 20
            classic name is LEDGER
        ToAccountingEntity            is AlphaUpper 12
            classic name is TO-ACCOUNTING-ENTITY
        AccountingUnit                is AlphaUpper 25
            classic name is ACCOUNTING-UNIT
        GeneralLedgerChartAccount     is AlphaUpper 26
            default label is "GlobalLedgerChartAccount"
            classic name is GENERAL-LEDGER-ACCOUNTING-UNIT
        Project                       is AlphaUpper 15
            classic name is PROJECT
        FinanceDimension1            is AlphaUpper 15
            classic name is FIN-DIM-01
        FinanceDimension2            is AlphaUpper 15
            classic name is FIN-DIM-02
        FinanceDimension3            is AlphaUpper 15
            classic name is FIN-DIM-03
        FinanceDimension4            is AlphaUpper 15
            classic name is FIN-DIM-04
        FinanceDimension5            is AlphaUpper 15
            classic name is FIN-DIM-05
        FinanceDimension6            is AlphaUpper 15
            classic name is FIN-DIM-06
        FinanceDimension7            is AlphaUpper 15
            classic name is FIN-DIM-07
        FinanceDimension8            is AlphaUpper 15
            classic name is FIN-DIM-08
        FinanceDimension9            is AlphaUpper 15
            classic name is FIN-DIM-09
        FinanceDimension10            is AlphaUpper 15
            classic name is FIN-DIM-10

    Relations

        MigrationCompanyMappingRel
            one-to-one relation to MigrationCompanyMapping
            Field Mapping uses Set1
                related.S3company    = Company

        AccountUnitDimensionMappingRel
            one-to-one relation to AccountUnitDimensionMapping
            Field Mapping uses Set1
                related.S3company    = Company
                related.S3AcctUnit   = AcctUnit

        AccountStructureMappingRel
            one-to-one relation to AccountStructureMapping
            Field Mapping uses Set1
                related.S3company    = Company
                related.Account      = Account
                related.SubAccount   = SubAccount

        MigrationProjectMappingRel
            one-to-one relation to MigrationProjectMapping
            Field Mapping uses Set1
                related.S3Activity  = Activity

        AccountCategoryMappingRel
            one-to-one relation to AccountCategoryMapping
            Field Mapping uses Set1
                related.S3AcctCat   = AcctCategory

    Sets

        Set1
            primary
            
            indexed
            Sort Order
                Company
                FiscalYear
                AcctPeriod
                ControlGroup
                System
                JeType
                JeSequence
                LineNbr

    Actions
        Create is an Action
        Update is an Action
        Delete is an Action


        ImportToGLCodeblock is a Set Action
            restricted
            
            Local Fields
                LocalMapSubAcct                             is Numeric 2
                LocalMapAcctCat                             is Numeric 2
                LocalMapAcctUnit                            is Numeric 2
                LocalMapInterEntityAccount                  is Numeric 2
                LocalFormatSubAcct                          is AlphaUpper 10

            Action Rules

                Instance Rules
                    LocalMapAcctCat            = MigrationCompanyMappingRel.MapAcctCat
                    LocalMapSubAcct            = MigrationCompanyMappingRel.MapSubAcct
                    LocalMapAcctUnit           = MigrationCompanyMappingRel.MapAcctUnit
                    LocalMapInterEntityAccount = MigrationCompanyMappingRel.MapInterEntityAccount
                    LocalFormatSubAcct         = AccountStructureMappingRel.FormatSubAccount

                    if (MigrationCompanyMappingRel.RenameActivity.Yes)
                        Project = MigrationProjectMappingRel.XiProject
                    else
                        Project = Activity

                    if (Account != blank)
                        GeneralLedgerChartAccount = AccountStructureMappingRel.FormatAccount
                    if (Account !=blank or AcctUnit != blank)
                        Ledger = MigrationCompanyMappingRel.Ledger
                        ToAccountingEntity = MigrationCompanyMappingRel.AcctingEntity


                    if (MigrationCompanyMappingRel.UpgradeType = 1)
                        if (AcctUnit != blank)
                            AccountingUnit = AccountUnitDimensionMappingRel.XiAcctUnit 
                        if (AccountUnitDimensionMappingRel.FinDim01 != blank)
                            FinanceDimension1 = AccountUnitDimensionMappingRel.FinDim01
                        if (AccountUnitDimensionMappingRel.FinDim02 != blank)
                            FinanceDimension2 = AccountUnitDimensionMappingRel.FinDim02
                        if (AccountUnitDimensionMappingRel.FinDim03 != blank)
                            FinanceDimension3 = AccountUnitDimensionMappingRel.FinDim03
                        if (AccountUnitDimensionMappingRel.FinDim04 != blank)
                            FinanceDimension4 = AccountUnitDimensionMappingRel.FinDim04
                        if (AccountUnitDimensionMappingRel.FinDim05 != blank)
                            FinanceDimension5 = AccountUnitDimensionMappingRel.FinDim05
                        if (AccountUnitDimensionMappingRel.FinDim06 != blank)
                            FinanceDimension6 = AccountUnitDimensionMappingRel.FinDim06
                        if (AccountUnitDimensionMappingRel.FinDim07 != blank)
                            FinanceDimension7 = AccountUnitDimensionMappingRel.FinDim07
                        if (AccountUnitDimensionMappingRel.FinDim08 != blank)
                            FinanceDimension8 = AccountUnitDimensionMappingRel.FinDim08
                        if (AccountUnitDimensionMappingRel.FinDim09 != blank)
                            FinanceDimension9 = AccountUnitDimensionMappingRel.FinDim09
                        if (AccountUnitDimensionMappingRel.FinDim10 != blank)
                            FinanceDimension10 = AccountUnitDimensionMappingRel.FinDim10


                        if (LocalMapSubAcct = 1)
                            FinanceDimension1     = LocalFormatSubAcct 
                        else
                        if (LocalMapSubAcct = 2)
                            FinanceDimension2     = LocalFormatSubAcct 
                        else
                        if (LocalMapSubAcct = 3)
                            FinanceDimension3     = LocalFormatSubAcct 
                        else
                        if (LocalMapSubAcct = 4)
                            FinanceDimension4     = LocalFormatSubAcct 
                        else
                        if (LocalMapSubAcct = 5)
                            FinanceDimension5     = LocalFormatSubAcct
                        else
                        if (LocalMapSubAcct = 6)
                            FinanceDimension6     = LocalFormatSubAcct 
                        else
                        if (LocalMapSubAcct = 7)
                            FinanceDimension7     = LocalFormatSubAcct 
                        else
                        if (LocalMapSubAcct = 8)
                            FinanceDimension8     = LocalFormatSubAcct 
                        else
                        if (LocalMapSubAcct = 9)
                            FinanceDimension9     = LocalFormatSubAcct 
                        else
                        if (LocalMapSubAcct = 10)
                            FinanceDimension10    = LocalFormatSubAcct 


                        if (LocalMapInterEntityAccount = 1)
                            FinanceDimension1 = AccountStructureMappingRel.FinDim01 
                        else
                        if (LocalMapInterEntityAccount = 2)
                            FinanceDimension2 = AccountStructureMappingRel.FinDim02 
                        else
                        if (LocalMapInterEntityAccount = 3)
                            FinanceDimension3 = AccountStructureMappingRel.FinDim03 
                        else
                        if (LocalMapInterEntityAccount = 4)
                            FinanceDimension4 = AccountStructureMappingRel.FinDim04 
                        else
                        if (LocalMapInterEntityAccount = 5)
                            FinanceDimension5 = AccountStructureMappingRel.FinDim05
                        else
                        if (LocalMapInterEntityAccount = 6)
                            FinanceDimension6 = AccountStructureMappingRel.FinDim06 
                        else
                        if (LocalMapInterEntityAccount = 7)
                            FinanceDimension7 = AccountStructureMappingRel.FinDim07 
                        else
                        if (LocalMapInterEntityAccount = 8)
                            FinanceDimension8 = AccountStructureMappingRel.FinDim08 
                        else
                        if (LocalMapInterEntityAccount = 9)
                            FinanceDimension9 = AccountStructureMappingRel.FinDim09 
                        else
                        if (LocalMapInterEntityAccount = 10)
                            FinanceDimension10 = AccountStructureMappingRel.FinDim10


                        if (MigrationCompanyMappingRel.RenameAcctCat.Yes)
                            if (LocalMapAcctCat = 3)
                                FinanceDimension3 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 4)
                                FinanceDimension4 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 5)
                                FinanceDimension5 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 6)
                                FinanceDimension6 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 7)
                                FinanceDimension7 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 8)
                                FinanceDimension8 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 9)
                                FinanceDimension9 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 10)
                                FinanceDimension10 = AccountCategoryMappingRel.XiAcctCat
                        else
                            if (LocalMapAcctCat = 3)
                                FinanceDimension3 = AcctCategory
                            if (LocalMapAcctCat = 4)
                                FinanceDimension4 = AcctCategory
                            if (LocalMapAcctCat = 5)
                                FinanceDimension5 = AcctCategory
                            if (LocalMapAcctCat = 6)
                                FinanceDimension6 = AcctCategory
                            if (LocalMapAcctCat = 7)
                                FinanceDimension7 = AcctCategory
                            if (LocalMapAcctCat = 8)
                                FinanceDimension8 = AcctCategory
                            if (LocalMapAcctCat = 9)
                                FinanceDimension9 = AcctCategory
                            if (LocalMapAcctCat = 10)
                                FinanceDimension10 = AcctCategory

                    else
                        if (LocalMapAcctUnit = 0)
                            AccountingUnit = AcctUnit
                        else
                        if (LocalMapAcctUnit = 1)
                            FinanceDimension1 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 2)
                            FinanceDimension2 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 3)
                            FinanceDimension3 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 4)
                            FinanceDimension4 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 5)
                            FinanceDimension5 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 6)
                            FinanceDimension6 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 7)
                            FinanceDimension7 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 8)
                            FinanceDimension8 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 9)
                            FinanceDimension9 = AcctUnit
                        else
                        if (LocalMapAcctUnit = 10)
                            FinanceDimension10 = AcctUnit


                        if (MigrationCompanyMappingRel.RenameAcctCat.Yes)
                            if (LocalMapAcctCat = 3)
                                FinanceDimension3 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 4)
                                FinanceDimension4 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 5)
                                FinanceDimension5 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 6)
                                FinanceDimension6 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 7)
                                FinanceDimension7 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 8)
                                FinanceDimension8 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 9)
                                FinanceDimension9 = AccountCategoryMappingRel.XiAcctCat
                            if (LocalMapAcctCat = 10)
                                FinanceDimension10 = AccountCategoryMappingRel.XiAcctCat
                        else
                            if (LocalMapAcctCat = 3)
                                FinanceDimension3 = AcctCategory
                            if (LocalMapAcctCat = 4)
                                FinanceDimension4 = AcctCategory
                            if (LocalMapAcctCat = 5)
                                FinanceDimension5 = AcctCategory
                            if (LocalMapAcctCat = 6)
                                FinanceDimension6 = AcctCategory
                            if (LocalMapAcctCat = 7)
                                FinanceDimension7 = AcctCategory
                            if (LocalMapAcctCat = 8)
                                FinanceDimension8 = AcctCategory
                            if (LocalMapAcctCat = 9)
                                FinanceDimension9 = AcctCategory
                            if (LocalMapAcctCat = 10)
                                FinanceDimension10 = AcctCategory
