CashLedgerManualReconciliation is a BusinessClass
    owned by cb
    prefix is CBR
    classic name is CBRECON

    Ontology
        symbolic key is CashLedgerManualReconciliation
            classic set name is CBRSET1
            classic name for CashLedgerManualReconciliation.BankTransactionCode is BANK-INST-CODE
            classic name for CashLedgerManualReconciliation.TransactionNumber is TRANS-NBR
            classic name for CashLedgerManualReconciliation.TransactionIDNumber is TRANS-IDENT

    Patterns
        implements StaticJava
        disable AuditIndex

    Persistent Fields

        ReconciledStatus     is AlphaUpper size 1
            classic name is TAPE-REC-STAT
        ReconciliationDate   is Date
            classic name is RECON-DATE
        ReconciledBankAmount is an InternationalAmount
            classic name is RECON-BNK-AMT
            precision is CashCode.BankAccountNumber.Currency.NumberOfDecimals
	
	Relations
                			


























        BankAccountBalancesRel
            one-to-many relation to BankAccountBalance
            Field Mapping uses Set2
            	related.CashManagementGroup 	= CashManagementGroup	
                related.CashCode 				= CashCode

	Field Rules
		ReconciliationDate
			default to current corporate date
			constraint (ReconciliationDate <= current corporate date)
				"ReconciliationDateCannotBeGreaterThanCurrentDate"	
	
	Rule Blocks
		

	Actions
        Create is a Create Action
			Entrance Rules









				if (first BankAccountBalancesRel exists)
					constraint (ReconciliationDate > first BankAccountBalancesRel.BankAccountBalance)
						"ReconciliationIsForAClosedBankPeriod"				


            Action Rules

        Update is an Update Action
            Action Rules

        Delete is a Delete Action

	
