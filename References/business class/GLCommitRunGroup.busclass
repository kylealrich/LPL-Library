GLCommitRunGroup is a BusinessClass
	owned by GeneralLedger
	prefix is GLCRG

	Ontology
		symbolic key is GLCommitRunGroup

    Patterns



	Persistent Fields
		SystemCode				is like GeneralLedgerSystemCode
		PayPeriod				is Date
		Status					is Numeric 1
			States
				Unreleased		value is 0
				Processed		value is 1
				History			value is 9
				
	Field Rules

	Local Fields
		LocalFinanceEnterpriseGroup				is like FinanceEnterpriseGroup
		LocalRunGroup							is like GLCommitRunGroup
		
	Relations
					
		ProcessedRunGroupRel
			one-to-many relation to GLCommitRunGroup
				Field Mapping uses symbolic key
					related.FinanceEnterpriseGroup				= LocalFinanceEnterpriseGroup
				Instance Selection
					where (Status	= Status.Processed)

 	Conditions
		RunGroupValidForClearing
			restricted
			when (Status = Status.Processed)
			
		ProcessedRunGroupExists
			restricted
			when (ProcessedRunGroupRel exists)
			
	Actions
		Create is a Create Action
			restricted
			
			Exit Rules
			
		Update is an Update Action
			restricted

		Delete is a Delete Action
			restricted
			
		ClearPriorPayrollEncumbrance is an Instance Action
			valid when (RunGroupValidForClearing)
			
			Action Rules
			
				invoke ClearPayrollEncumbrance GLCommit
					invoked.PrmFinanceEnterpriseGroup		= FinanceEnterpriseGroup
					invoked.PrmUniqueID						= UniqueID
				
				Status = Status.History
				
				
			
			

					
				


