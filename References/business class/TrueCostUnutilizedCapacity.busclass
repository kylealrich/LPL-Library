TrueCostUnutilizedCapacity is a BusinessClass
	owned by truecost
	
	prefix is TCUCM
	default label is "True\CostUnutilizedCapacity"
	Ontology
		symbolic key is TrueCostUnutilizedCapacity
			
	Patterns
	
	Persistent Fields
		Target					is like FinanceDimension8
			default label is "TargetCostObject"
		IsCapacityFromSummary	is Boolean
	
	Transient Fields
	
		TransientCostObject1Structure	 				is a FinanceDimension1Structure
			derive value from CostObjectDimension1Structure
		TransientCostObject2Structure	 				is a FinanceDimension2Structure 
			derive value from CostObjectDimension2Structure
		TransientCostObject3Structure	 				is a FinanceDimension3Structure
			derive value from CostObjectDimension3Structure
		TransientCostObject4Structure	 				is a FinanceDimension4Structure
			derive value from CostObjectDimension4Structure
		TransientCostObject5Structure	 				is a FinanceDimension5Structure
			derive value from CostObjectDimension5Structure
		TransientCostObject6Structure	 				is a FinanceDimension6Structure
			derive value from CostObjectDimension6Structure
		TransientCostObject7Structure	 				is a FinanceDimension7Structure
			derive value from CostObjectDimension7Structure
		TransientCostObject8Structure	 				is a FinanceDimension8Structure
			derive value from CostObjectDimension8Structure
		TransientCostObject9Structure	 				is a FinanceDimension9Structure
			derive value from CostObjectDimension9Structure
		TransientCostObject10Structure	 				is a FinanceDimension10Structure
			derive value from CostObjectDimension10Structure
			
		TransientCostObjectFinanceDimension1			is a FinanceDimension1
			derive value from CostObjectDimension1
		TransientCostObjectFinanceDimension2			is a FinanceDimension2
			derive value from CostObjectDimension2
		TransientCostObjectFinanceDimension3			is a FinanceDimension3
			derive value from CostObjectDimension3
		TransientCostObjectFinanceDimension4			is a FinanceDimension4
			derive value from CostObjectDimension4
		TransientCostObjectFinanceDimension5			is a FinanceDimension5
			derive value from CostObjectDimension5
		TransientCostObjectFinanceDimension6			is a FinanceDimension6
			derive value from CostObjectDimension6
		TransientCostObjectFinanceDimension7			is a FinanceDimension7
			derive value from CostObjectDimension7
		TransientCostObjectFinanceDimension8			is a FinanceDimension8
			derive value from CostObjectDimension8
		TransientCostObjectFinanceDimension9			is a FinanceDimension9
			derive value from CostObjectDimension9
		TransientCostObjectFinanceDimension10			is a FinanceDimension10
			derive value from CostObjectDimension10
			
		TransientTargetPostingCostObject1				is a FinanceDimension1
			derive value from TargetPostingCostObject1
		TransientTargetPostingCostObject2	 			is a FinanceDimension2 
			derive value from TargetPostingCostObject2
		TransientTargetPostingCostObject3	 			is a FinanceDimension3
			derive value from TargetPostingCostObject3
		TransientTargetPostingCostObject4	 			is a FinanceDimension4
			derive value from TargetPostingCostObject4
		TransientTargetPostingCostObject5	 			is a FinanceDimension5
			derive value from TargetPostingCostObject5
		TransientTargetPostingCostObject6	 			is a FinanceDimension6
			derive value from TargetPostingCostObject6
		TransientTargetPostingCostObject7	 			is a FinanceDimension7
			derive value from TargetPostingCostObject7
		TransientTargetPostingCostObject8	 			is a FinanceDimension8
			derive value from TargetPostingCostObject8
		TransientTargetPostingCostObject9	 			is a FinanceDimension9
			derive value from TargetPostingCostObject9
		TransientTargetPostingCostObject10	 			is a FinanceDimension10
			derive value from TargetPostingCostObject10
	Derived Fields
		
		CostObjectDimension1Structure is a DerivedField
			type is like FinanceDimension1Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension2Structure is a DerivedField
			type is like FinanceDimension2Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension3Structure is a DerivedField
			type is like FinanceDimension3Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension4Structure is a DerivedField
			type is like FinanceDimension4Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension5Structure is a DerivedField
			type is like FinanceDimension5Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension6Structure is a DerivedField
			type is like FinanceDimension6Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension7Structure is a DerivedField
			type is like FinanceDimension7Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension8Structure is a DerivedField
			type is like FinanceDimension8Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension9Structure is a DerivedField
			type is like FinanceDimension9Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TrueCostUnutilizedCapacity.Structure
		CostObjectDimension10Structure is a DerivedField
			type is like FinanceDimension10Structure
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TrueCostUnutilizedCapacity.Structure
		
		CostObjectDimension1 is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension2 is a DerivedField
			type is like FinanceDimension2
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension3 is a DerivedField
			type is like FinanceDimension3
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension4 is a DerivedField
			type is like FinanceDimension4
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension5 is a DerivedField
			type is like FinanceDimension5
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension6 is a DerivedField
			type is like FinanceDimension6
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension7 is a DerivedField
			type is like FinanceDimension7
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension8 is a DerivedField
			type is like FinanceDimension8
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension9 is a DerivedField
			type is like FinanceDimension9
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TrueCostUnutilizedCapacity.CostObject
		CostObjectDimension10 is a DerivedField
			type is like FinanceDimension10
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TrueCostUnutilizedCapacity.CostObject
				
		TargetPostingCostObject1 is a DerivedField
			type is like FinanceDimension1
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension1)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject2 is a DerivedField
			type is like FinanceDimension2
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension2)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject3 is a DerivedField
			type is like FinanceDimension3
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension3)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject4 is a DerivedField
			type is like FinanceDimension4
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension4)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject5 is a DerivedField
			type is like FinanceDimension5
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension5)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject6 is a DerivedField
			type is like FinanceDimension6
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension6)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject7 is a DerivedField
			type is like FinanceDimension7
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension7)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject8 is a DerivedField
			type is like FinanceDimension8
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension8)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject9 is a DerivedField
			type is like FinanceDimension9
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension9)
				return TrueCostUnutilizedCapacity.Target
		TargetPostingCostObject10 is a DerivedField
			type is like FinanceDimension10
			restricted
			if (TrueCostConfiguration.CostObjectIsDimension10)
				return TrueCostUnutilizedCapacity.Target
		
	Relations
			
		TrueCostPracticalCapacityRel
			one-to-many relation to TrueCostPracticalCapacity
			Field Mapping uses ByCapacity
				related.TrueCostConfiguration						=	TrueCostConfiguration
				related.AccountingEntity							=	AccountingEntity
				related.TrueCostPracticalCapacity.Structure			=	TrueCostUnutilizedCapacity.Structure
				related.TrueCostPracticalCapacity.CostObject		=	TrueCostUnutilizedCapacity.CostObject
				
		UnutilizedCapacityCostObjectRel
			one-to-one relation to UnutilizedCapacityCostObject
			Field Mapping uses symbolic key
				related.TrueCostConfiguration							= TrueCostConfiguration
				related.UnutilizedCapacityCostObject.Structure			= TrueCostUnutilizedCapacity.Structure
				related.UnutilizedCapacityCostObject.SummaryCostObject	= TrueCostUnutilizedCapacity.CostObject
				
	Field Rules	
			
		TransientCostObjectFinanceDimension1
			constraint (TransientCostObjectFinanceDimension1.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension1Label>MustBeSummary"
		TransientCostObjectFinanceDimension2
			constraint (TransientCostObjectFinanceDimension2.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension2Label>MustBeSummary"
		TransientCostObjectFinanceDimension3
			constraint (TransientCostObjectFinanceDimension3.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension3Label>MustBeSummary"
		TransientCostObjectFinanceDimension4
			constraint (TransientCostObjectFinanceDimension4.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension4Label>MustBeSummary"
		TransientCostObjectFinanceDimension5
			constraint (TransientCostObjectFinanceDimension5.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension5Label>MustBeSummary"
		TransientCostObjectFinanceDimension6
			constraint (TransientCostObjectFinanceDimension6.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension6Label>MustBeSummary"
		TransientCostObjectFinanceDimension7
			constraint (TransientCostObjectFinanceDimension7.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension7Label>MustBeSummary"
		TransientCostObjectFinanceDimension8
			constraint (TransientCostObjectFinanceDimension8.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension8Label>MustBeSummary"
		TransientCostObjectFinanceDimension9
			constraint (TransientCostObjectFinanceDimension9.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension9Label>MustBeSummary"
		TransientCostObjectFinanceDimension10
			constraint (TransientCostObjectFinanceDimension10.DimensionType.Summary)
				"<TrueCostConfiguration.FinanceDimension10Label>MustBeSummary"
		
		TransientTargetPostingCostObject1
			constraint (TransientTargetPostingCostObject1.DimensionType.Posting)
				"TargetMustBePosting"
		TransientTargetPostingCostObject2
			constraint (TransientTargetPostingCostObject2.DimensionType.Posting)
				"TargetMustBePosting"
		TransientTargetPostingCostObject3
			constraint (TransientTargetPostingCostObject3.DimensionType.Posting)
				"TargetMustBePosting"
		TransientTargetPostingCostObject4
			constraint (TransientTargetPostingCostObject4.DimensionType.Posting)
				"TargetMustBePosting"
		TransientTargetPostingCostObject5
			constraint (TransientTargetPostingCostObject5.DimensionType.Posting)
				"TargetMustBePosting"			
		TransientTargetPostingCostObject6
			constraint (TransientTargetPostingCostObject6.DimensionType.Posting)
				"TargetMustBePosting"
		TransientTargetPostingCostObject7
			constraint (TransientTargetPostingCostObject7.DimensionType.Posting)
				"TargetMustBePosting"
		TransientTargetPostingCostObject8
			constraint (TransientTargetPostingCostObject8.DimensionType.Posting)
				"TargetMustBePosting"
		TransientTargetPostingCostObject9
			constraint (TransientTargetPostingCostObject9.DimensionType.Posting)
				"TargetMustBePosting"
		TransientTargetPostingCostObject10
			constraint (TransientTargetPostingCostObject10.DimensionType.Posting)
				"TargetMustBePosting"
		
		
					
	Rule Blocks
		SetStructure
			if (TrueCostConfiguration.CostObjectIsDimension1)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject1Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension2)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject2Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension3)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject3Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension4)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject4Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension5)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject5Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension6)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject6Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension7)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject7Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension8)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject8Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension9)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject9Structure
			else
			if (TrueCostConfiguration.CostObjectIsDimension10)
				TrueCostUnutilizedCapacity.Structure	= TransientCostObject10Structure
			constraint(TrueCostUnutilizedCapacity.Structure entered)
				"StructureIsRequired"		
						
		SetCostObject
			if (TransientCostObjectFinanceDimension1 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension1
			else
			if (TransientCostObjectFinanceDimension2 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension2
			else
			if (TransientCostObjectFinanceDimension3 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension3
			else
			if (TransientCostObjectFinanceDimension4 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension4
			else
			if (TransientCostObjectFinanceDimension5 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension5
			else
			if (TransientCostObjectFinanceDimension6 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension6
			else
			if (TransientCostObjectFinanceDimension7 entered) 
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension7
			else
			if (TransientCostObjectFinanceDimension8 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension8
			else
			if (TransientCostObjectFinanceDimension9 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension9
			else
			if (TransientCostObjectFinanceDimension10 entered)
				TrueCostUnutilizedCapacity.CostObject			= TransientCostObjectFinanceDimension10
			constraint(TrueCostUnutilizedCapacity.CostObject entered)
				"CostObjectIsRequired"
		

		SetTarget
			if (TransientTargetPostingCostObject1 entered)
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject1
			else
			if (TransientTargetPostingCostObject2 entered)
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject2
			else
			if (TransientTargetPostingCostObject3 entered)
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject3
			else
			if (TransientTargetPostingCostObject4 entered)
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject4
			else
			if (TransientTargetPostingCostObject5 entered)
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject5
			else
			if (TransientTargetPostingCostObject6 entered)
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject6
			else
			if (TransientTargetPostingCostObject7 entered) 
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject7
			else
			if (TransientTargetPostingCostObject8 entered)
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject8
			else
			if (TransientTargetPostingCostObject9 entered)
				TrueCostUnutilizedCapacity.Target			= TransientTargetPostingCostObject9
			else
			if (TransientCostObjectFinanceDimension10 entered)
				TrueCostUnutilizedCapacity.Target			= TransientCostObjectFinanceDimension10
			constraint(TrueCostUnutilizedCapacity.Target entered)
				"TargetIsRequired"
		
	Local Fields
		LocalTrueCostUnutilizedView is a TrueCostUnutilizedCapacity view
							
	Actions
		
		Create is a Create Action
			restricted
			Entrance Rules
				include SetStructure
				include SetCostObject
				include SetTarget
		
		Update is an Update Action
			restricted
			Entrance Rules
				include SetStructure					
				include SetCostObject
				include SetTarget
		Delete is a Delete Action
			restricted

			confirmation required
			Entrance Rules
				constraint(TrueCostPracticalCapacityRel not exists)
					"Cannot_Delete:_AtLeastOneAssociated_True\Cost_Practical_CapacityRecordExists"
			
		Purge is a Purge Action
			restricted
			
		CreateUnutilizedCapacity is an Instance Action
			restricted
			Parameters
				PrmAccountingEntity		is like AccountingEntity
				PrmStructure			is like FinanceDimension8Structure
				PrmCostObject			is like FinanceDimension8
				PrmTarget				is like FinanceDimension8
				
			Parameter Rules
				
			Entrance Rules
				 
			Exit Rules
				invoke Create TrueCostUnutilizedCapacity
					assign result to LocalTrueCostUnutilizedView
					invoked.TrueCostUnutilizedCapacity.TrueCostConfiguration 	=	TrueCostConfiguration
					invoked.TrueCostUnutilizedCapacity.AccountingEntity			=	PrmAccountingEntity
					invoked.TrueCostUnutilizedCapacity.Structure				=	PrmStructure
					invoked.TrueCostUnutilizedCapacity.CostObject				=	PrmCostObject
					invoked.TrueCostUnutilizedCapacity.Target					=	PrmTarget
			
				TrueCostUnutilizedCapacity = LocalTrueCostUnutilizedView.TrueCostUnutilizedCapacity
		
		MigrateUnulitizedCapacityCostObjects is a Set Action
			confirmation required
						"ThisWillMigrateRecordsFrom_True\Cost_Unutilized_CapacityTo_Unutilized_Capacity_Cost_Objects.DoYouWantToProceed?"
			Action Rules											
				Instance Rules			
					if (UnutilizedCapacityCostObjectRel not exists)					
						invoke Create UnutilizedCapacityCostObject
							resume on error
							invoked.TrueCostConfiguration							= TrueCostConfiguration
							invoked.UnutilizedCapacityCostObject.Structure			= TrueCostUnutilizedCapacity.Structure 
							invoked.UnutilizedCapacityCostObject.SummaryCostObject	= TrueCostUnutilizedCapacity.CostObject
							invoked.CostObject										= Target	
