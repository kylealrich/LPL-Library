CdExport is a BusinessTask
    owned by admincon
    default label is untranslatable

    
    Patterns
    	implements ManualTransaction
    	implements AdminCommand
    	
    Parameters  
		WorkDirectory
    	
		FileFormat                      is Numeric size 1       
			States
				ZipFile             value is 0
				Directory           value is 1
		FileName                                                
    	
		ExportApplicationData           is Boolean              
		ExportAuthorizationSecurityData is Boolean  		
		ExportMimeTypeData              is Boolean              
            default label is "ExportMIME_TypeData"
		ExportProcessFlowData           is Boolean              
		ExportWebServicesData           is Boolean              
		ExportReplicationData           is Boolean              
			default label is "ExportUserDefinedReplicationSetData"
		ExportSnapshot                  is Boolean              
		SuppressAuditLog				is Boolean				
		ScrubPII						is Boolean				
			default label is "ScrubPersonallyIdentifiableInformation"
		ExportAllStatus					is Boolean
		ExportActive					is Boolean
			default label is "Active"
		ExportInactive					is Boolean
			default label is "Inactive"
		ExportInvalid					is Boolean
			default label is "Invalid"
		ExportDeleted					is Boolean
			default label is "IncludeDeletedRecords"
		ConfigAppSubType
			default label is "ExportSubType"
		ConfigBundleSnapshot
		ReplicationSet

    Parameter Rules
    	ExportApplicationData
    		initial value is true
    		
    		if (ExportApplicationData
    		and not ExportAllStatus
    		and not ExportActive
    		and not ExportInactive
    		and not ExportInvalid)
    			confirmation required 
    				"NoStatusOptionsChosen,DefaultingToAll.Continue?"
    			
    			ExportAllStatus = true
    			
    	ExportAuthorizationSecurityData
    		initial value is true
    	ExportMimeTypeData
    		initial value is true
    	ExportProcessFlowData
    		initial value is true
    	ExportWebServicesData
    		initial value is true
    	ExportAllStatus
    		initial value is true
    	ConfigAppSubType
    		constraint (not ConfigAppSubType entered or ExportApplicationData)
    			"ExportSubTypeOnlyValidWhenExportingApplicationData"
    	ExportSnapshot
    		constraint (not ExportSnapshot or (not ExportApplicationData and not ExportAuthorizationSecurityData and not ExportMimeTypeData
						and  not ExportProcessFlowData and not ExportWebServicesData and not ExportReplicationData))
				"ExportSnapshotCannotBeChosenInCombinationWithOtherExportTypes"
    		
    	ConfigBundleSnapshot
    		if (ExportSnapshot)
    			required
    			
    Actions
    	RunCommand is an Instance Action
			run in background
