CloseCostAllocationPeriod is a BusinessTask
    owned by GeneralLedger

    Parameters
        FinanceEnterpriseGroup
        AccountingEntityOption	is Numeric 1
        	States
        		Single			value is 1
        		Group			value is 2
		AccountingEntity
		AccountingEntityGroup

    Parameter Rules
        FinanceEnterpriseGroup
        	required
        AccountingEntityOption 
 			required
 				"<FinanceEnterpriseGroup.AccountingEntityLabel>OptionIsRequired"    
		AccountingEntity
			if (AccountingEntityOption.Single)
				required
					"<FinanceEnterpriseGroup.AccountingEntityLabel>IsRequired"
			else
				AccountingEntity = blank
		AccountingEntityGroup
			if (AccountingEntityOption.Group)
				required
					"<FinanceEnterpriseGroup.AccountingEntityLabel>GroupIsRequired"
			else
				AccountingEntityGroup = blank

    Actions

        ScheduleCostAllocationPeriodClose is an Instance Action
			run in background
			
            Action Rules
            	if (AccountingEntityOption.Single)
#ifdef module Allocations
            		invoke ValidateAllocationRunsForClosing AccountingEntity 
#endif
					invoke CloseCostAllocationPeriod AccountingEntity
				else            	
#ifdef module Allocations
					invoke ValidateAllocationRunsForClosing AccountingEntityGroup
#endif
					invoke CloseEntityCostAllocation AccountingEntityGroup
