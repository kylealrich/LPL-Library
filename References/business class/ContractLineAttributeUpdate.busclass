ContractLineAttributeUpdate is a BusinessClass
	owned by po
	prefix is CLAU1
	
	Ontology
		symbolic key is ContractLineAttributeUpdate
		
	Patterns
		implements Proxy for ContractLineAttributeUpdateUOM
        implements StaticJava
        disable AuditIndex
		disable Auditing 
       	disable EffectiveDated
       	disable DataTranslations

	Persistent Fields
		Status                      is Numeric 1
			States 
				Created             value is 0
				Processed           value is 1
				NotProcessed        value is 2
		ErrorsExist                 is Boolean
		OriginalRecord              is like ContractLineAttributeUpdate	
		UpdateDate               	is Date
			default label is "LineAndItemAttributesUpdated"

		ConsolidatedItemMaster 
			delete ignored
		Contract  														
		ExternalContractNumber  	is a GPOContractNumber                          
		ContractLine                                                   
		InternalItemNumber      	is an Item                        
		ManufacturerCode            is like ManufacturerCode          
		ManufacturerDivision        is like ManufacturerDivision      
		ManufacturerID				is a GPOSupplierID                              
		ManufacturerPartNumberIdentifier is a ManufacturerNumber                    
		VendorID  					is a GPOSupplierID                              
		VendorItemIdentifier        is like VendorItem                              
		InternalSupplier            is a Supplier 

		Description                                                   
		Description2				is a Description                  
		Description3                                                  
		UpdatedVendorItem          	is like VendorItem                             
		ConsolidatedVendorItemOccurs                                               
		UpdatedManufacturer         is a Manufacturer                              
		UpdatedManufacturerPartNumber   is a ManufacturerNumber                    
		UOM                         is a UnitOfMeasure               
		UOMConversion                                                 
			precision is 2
		GlobalTradeItemNumber		is an ItemGTIN                    
			default label is "GTIN"                                                                             
		LowUOMCodeGTIN              is an ItemGTIN
		Upc							is an ItemUPC                     
			delete ignored
			default label is "UPC"
		HibccUpn					is an HIBCCItemUPN                
			default label is "HIBCC-DI" 
		LowUOMCodeHibccUPN          is an HIBCCItemUPN 
			default label is "LowUOMCodeHIBCC-DI"
		UccEanUpn					is a UCCEANItemUPN                
			default label is "UCC_/EAN_UP\N"
		NdcNbr						is a NationalDrugCode             
			default label is "NationalDrugCode"
		UNSPSC                      is AlphaUpper 8                  
		UNSPSCSegmentTitle          is Alpha up to 100  
		UNSPSCFamilyTitle           is Alpha up to 100
		UNSPSCClassTitle            is Alpha up to 100
		UNSPSCCommodityTitle        is Alpha up to 100
		UNSPSCSegmentDefinition     is Text 
		UNSPSCFamilyDefinition      is Text  
		UNSPSCClassDefinition       is Text 
		UNSPSCCommodityDefinition   is Text 
		CommodityCode	            is like CommodityCode            
		ChargeNumber                                                 
		Latex					 	is Numeric 1                     
			States                                                                        
				Unspecified						value is 0
				PackageIndicatesLatex			value is 1
				LatexFree               		value is 2
				NotApplicable					value is 3
		HCPCSNumber                 is AlphaUpper 7                  
		HCPCSSequence               is Numeric 6                     
		RemoveHCPCS                 is Boolean 
		GMDNPTCode                  is like GMDNPTCode              
			default label is "GMDNTermCode"
		HazardCode                  is like HazardCode              
		LabelerIdentificationCode                                   
		ItemImageURL				is URL 
		Sterile                     is Numeric 1                    
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2                              
		SingleUse                   is Numeric 1                      
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2  
		Reusable                    is Numeric 1                      
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2
		Reprocessed                 is Numeric 1                      
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2		           
		Implantable                 is Numeric 1                           
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2		           
		ContainsHumanTissue         is Numeric 1 
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2		                                 
		Pharmaceutical              is Numeric 1                           
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2		           
		Dressing                    is Numeric 1                          
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2		          
		Bioabsorbable               is Numeric 1                          
			States 
				NotChanged                      value is 0
				SetToTrue                       value is 1
				SetToFalse                      value is 2
		DescriptionUpdated          is Boolean
		Description2Updated         is Boolean
		Description3Updated         is Boolean
		GlobalTradeItemNumberUpdated is Boolean 
		UpcUpdated                  is Boolean
		HibccUpnUpdated             is Boolean 
		LowUOMCodeHibccUPNUpdated   is Boolean 
		UccEanUpnUpdated            is Boolean 
		NdcNbrUpdated               is Boolean 
		UNSPSCUpdated               is Boolean 
		CommodityCodeUpdated        is Boolean 
		ChargeNumberUpdated         is Boolean 
		LatexUpdated                is Boolean 
		HCPCSNumberUpdated          is Boolean 
		HCPCSSequenceUpdated        is Boolean 
		GMDNPTCodeUpdated           is Boolean 
		HazardCodeUpdated           is Boolean 
		LabelerIdentificationCodeUpdated is Boolean 
		SterileUpdated              is Boolean 
		SingleUseUpdated            is Boolean 
		ReusableUpdated             is Boolean 
		ReprocessedUpdated          is Boolean 
		ImplantableUpdated          is Boolean 
		ContainsHumanTissueUpdated  is Boolean 
		PharmaceuticalUpdated       is Boolean 
		DressingUpdated             is Boolean 
		BioabsorbableUpdated        is Boolean 
		VendorItemUpdated           is Boolean 
		ManufacturerUpdated         is Boolean
		ManufacturerNumberUpdated   is Boolean
		ItemImageURLUpdated			is Boolean 

	Local Fields 
		LocalFromCreate                 is Boolean
		LocalFromExternalCreate         is Boolean
		GTINCheckDigit
		LocalValidCheckDigit            is Boolean
		LocalManufacturerCode           is like ManufacturerCode 
		LocalManufacturerDivision       is like ManufacturerDivision
		LocalManufacturerPartNumber     is like ManufacturerNumber 
		LocalVendor                     is like Vendor 
		LocalVendorItem                 is like VendorItem 
		LocalUpdatedVendorItem          is like VendorItem
		LocalTestVendorItem             is like VendorItem 
		LocalTestVendor                 is like Vendor 
		LocalUpdatedVendorItemForOtherItem is like VendorItem 
		LocalVendorItemNoLinesOrItemsFound is like VendorItem
		LocalUOM                        is like UnitOfMeasure 
		LocalUnitOfUse                  is Boolean 
		LocalUOMConversion              is a UOMConversion
		LocalGTIN 						is like ItemGTIN 
		LocalNonDefaultGTIN 			is like ItemGTIN 
		LocalNonDefaultGTIN2 			is like ItemGTIN 
		LocalNonDefaultGTIN3 			is like ItemGTIN 
		LocalNonDefaultGTIN4 			is like ItemGTIN 
		LocalNonDefaultGTIN5 			is like ItemGTIN 						
		LocalEditGTIN                   is like ItemGTIN
		LocalHIBCCDI        			is like HIBCCItemUPN 
		LocalNDC            			is like NationalDrugCode  
		LocalUPC            			is like ItemUPC  
		LocalUPN                        is like UCCEANItemUPN 
		LocalItem                       is like Item

	Derived Fields 

		DerivedManufacturerCode is a DerivedField
			type is AlphaUpper size 4
			restricted 
			if (ManufacturerCode entered)
				return ManufacturerCode 
			else 
			if (ManufacturerID entered)
				if (ContractImportGPOSupplierForManufacturerRel exists)
					return first ContractImportGPOSupplierForManufacturerRel.ManufacturerCodeDivision.ManufacturerCode 

		DerivedManufacturerDivision is a DerivedField
			type is AlphaUpper size 4
			restricted 
			if (ManufacturerDivision entered)
				return ManufacturerDivision 
			else 
			if (ManufacturerID entered)
				if (ContractImportGPOSupplierForManufacturerRel exists)
					return first ContractImportGPOSupplierForManufacturerRel.ManufacturerCodeDivision.ManufacturerDivision  

        FirstErrorMessage is a DerivedField
            type is Alpha size 250
            return first ContractAttributeErrorRel.ErrorMessageDisplay

	Relations

		InternalItemNumberRel 
			one-to-one relation to Item
			Field Mapping uses symbolic key 
				related.ItemGroup		= ContractGroup 
				related.Item            = InternalItemNumber 
		
		InternalItemByManufacturerRel 
			one-to-many relation to Item 
			Field Mapping uses Set8 
				related.ItemGroup       					= ContractGroup 
				related.Manufacturer.ManufacturerCode    	= LocalManufacturerCode
				related.Manufacturer.ManufacturerDivision	= LocalManufacturerDivision 
				related.ManufacturerNumber					= LocalManufacturerPartNumber
		
		ContractLineAttributeUpdateUOM 
			one-to-one relation to ContractLineAttributeUpdateUOM
			Field Mapping uses symbolic key 
				related.ContractGroup                      = ContractGroup 
				related.ContractLineAttributeUpdate        = ContractLineAttributeUpdate
		
		ContractAttributeErrorRel
			one-to-many relation to ContractLineAttributeError 
			delete cascades
			Field Mapping uses symbolic key 
				related.ContractGroup               = ContractGroup
				related.ContractLineAttributeUpdate = ContractLineAttributeUpdate 

		ContractInterfaceRel 
			one-to-many relation to RelatedContract 
			Field Mapping uses ByID
				related.ContractGroup       = ContractGroup
				related.RelatedContractID   = ExternalContractNumber
				related.RelatedContractType = 4

		ContractLineForVendorAndVendorItemRel 
			one-to-many relation to ContractLine 
			Field Mapping uses ByManufacturerNumberFirst   
				related.ContractGroup       				= ContractGroup
				related.ManufacturerNumber		            = ManufacturerPartNumberIdentifier 
				related.Manufacturer.ManufacturerCode		= ManufacturerCode 
				related.Manufacturer.ManufacturerDivision   = ManufacturerDivision
			Instance Selection 
				where (related.Vendor                       = LocalVendor 
				and    related.VendorItem                   = LocalVendorItem  
				and    related.ContractLine.LineNotClosed)	

		ContractLineForUOMDetails 
			one-to-many relation to ContractLine 
			Field Mapping uses ByManufacturerNumberFirst   
				related.ContractGroup       				= ContractGroup
				related.ManufacturerNumber		            = ManufacturerPartNumberIdentifier 
				related.Manufacturer.ManufacturerCode		= ManufacturerCode 
				related.Manufacturer.ManufacturerDivision   = ManufacturerDivision
			Instance Selection 
				where (related.LineNotClosed
				and    related.UOM.UnitOfMeasure = LocalUOM) 

		ContractLineForLowUOMCodeDetails 
			one-to-many relation to ContractLine 
			Field Mapping uses ByManufacturerNumberFirst   
				related.ContractGroup       				= ContractGroup
				related.ManufacturerNumber		            = ManufacturerPartNumberIdentifier 
				related.Manufacturer.ManufacturerCode		= ManufacturerCode 
				related.Manufacturer.ManufacturerDivision   = ManufacturerDivision
			Instance Selection 
				where (related.LineNotClosed
				and    related.LowUOMCode.UnitOfMeasure = LocalUOM) 

		AdditionalContractLineManufacturerRel 
			one-to-many relation to ContractLine 
			Field Mapping uses ByManufacturerNumberFirst   
				related.ContractGroup       				= ContractGroup
				related.ManufacturerNumber		            = ManufacturerPartNumberIdentifier 
				related.Manufacturer.ManufacturerCode		= ManufacturerCode 
				related.Manufacturer.ManufacturerDivision   = ManufacturerDivision
			Instance Selection 
				where (ManufacturerCode entered 
				and    ManufacturerPartNumberIdentifier entered
				and    related.Contract != Contract
				and    related.ContractLine.LineNotClosed)

		AdditionalContractLineVendorItemRel
			one-to-many relation to ContractLine 
			Field Mapping uses ByVendorItem  
				related.ContractGroup       				= ContractGroup
				related.VendorItem                          = VendorItemIdentifier 
			Instance Selection 
				where (VendorItemIdentifier entered
				and    related.Contract != Contract
				and    related.Contract.Supplier = InternalSupplier
				and    related.ItemType.Special
				and    related.ContractLine.LineNotClosed)

		ContractLineFromManufacturerInfoRel 
			one-to-many relation to ContractLine  
			Field Mapping uses ByManufacturerNumberFirst 
				related.ContractGroup       				= ContractGroup
				related.ManufacturerNumber                  = ManufacturerPartNumberIdentifier 
				related.Manufacturer.ManufacturerCode		= ManufacturerCode 
				related.Manufacturer.ManufacturerDivision   = ManufacturerDivision
			Instance Selection 
				where (related.LineNotClosed
				and  ((Contract entered
				and    related.Contract = Contract)
				or     Contract !entered)
				and   (UOM !entered
				or     related.UOM.UnitOfMeasure = UOM
				or     related.LowUOMCode.UnitOfMeasure = UOM))

		ContractLineFromManufacturerNumberOnlyRel 
			one-to-many relation to ContractLine  
			Field Mapping uses ByManufacturerNumberFirst 
				related.ContractGroup       				= ContractGroup
				related.ManufacturerNumber                  = ManufacturerPartNumberIdentifier 
			Instance Selection 
				where (related.LineNotClosed
				and  ((Contract entered
				and    related.Contract = Contract)
				or     Contract !entered)
				and   (VendorID !entered   
				or     related.Contract.Supplier = ContractImportGPOSupplierRel.ContractSupplier)
				and   (UOM !entered
				or     related.UOM.UnitOfMeasure = UOM
				or     related.LowUOMCode.UnitOfMeasure = UOM))
		ContractLineByVendorItemRel
			one-to-many relation to ContractLine 
			Field Mapping uses ByVendorItemVendor 
				related.ContractGroup       				= ContractGroup
				related.VendorItem                          = VendorItemIdentifier 
			Instance Selection 
				where (related.LineNotClosed
				and   (VendorID !entered   
				or     related.Contract.Supplier = ContractImportGPOSupplierRel.ContractSupplier)
				and   (related.Contract = Contract
				or     Contract !entered)	
				and   (UOM !entered
				or     related.UOM.UnitOfMeasure = UOM
				or     related.LowUOMCode.UnitOfMeasure = UOM))		
		ContractLineByItemRel
			one-to-many relation to ContractLine 
			Field Mapping uses ByItemContractLine 
				related.ContractGroup       				= ContractGroup
				related.ItemNumber                          = InternalItemNumber 
			Instance Selection 
				where (related.LineNotClosed
				and   (VendorID !entered   
				or     related.Contract.Supplier = ContractImportGPOSupplierRel.ContractSupplier)
				and   (related.Contract = Contract
				or     Contract !entered)		
				and   (UOM !entered
				or     related.UOM.UnitOfMeasure = UOM
				or     related.LowUOMCode.UnitOfMeasure = UOM))

		OpenContractLinesRel  
			one-to-many relation to ContractLine 
			Field Mapping uses ByMfgInfoVenItem
				related.ContractGroup 						= ContractGroup
				related.Manufacturer.ManufacturerCode		= ManufacturerCode 
				related.Manufacturer.ManufacturerDivision   = ManufacturerDivision
				related.ManufacturerNumber                  = ManufacturerPartNumberIdentifier 
			Instance Selection 
				where (!related.ContractLineState.Closed)

		ContractImportGPOSupplierForManufacturerRel 
			one-to-many relation to ContractImportGPOSupplier 
			Field Mapping uses symbolic key 
				related.SupplierGroup				= ContractGroup 
				related.ContractImportGPOSupplier   = ManufacturerID
			Instance Selection 
				where (related.ManufacturerCodeDivision.ManufacturerCode entered)	

		ContractImportGPOSupplierRel   
			one-to-many relation to ContractImportGPOSupplier 
			Field Mapping uses symbolic key 
				related.SupplierGroup				= ContractGroup 
				related.ContractImportGPOSupplier   = VendorID

		ErrorGTINForOtherItemRel
			one-to-many relation to ContractLineAttributeError 
			Field Mapping uses ByErrorNumber
				related.ContractGroup				= ContractGroup 
				related.ContractLineAttributeUpdate = ContractLineAttributeUpdate
				related.ErrorMessageNumber          = 115		
		NonFixableErrorsRel 
			one-to-many relation to ContractLineAttributeError 
			Field Mapping uses ByErrorNumber
				related.ContractGroup				= ContractGroup 
				related.ContractLineAttributeUpdate = ContractLineAttributeUpdate
			Instance Selection 
				where (related.ErrorMessageNumber = 1
				or     related.ErrorMessageNumber = 2
				or     related.ErrorMessageNumber = 3
				or     related.ErrorMessageNumber = 4
				or     related.ErrorMessageNumber = 140
				or     related.ErrorMessageNumber = 143)				
		
		OriginalRecordRel 
			one-to-many relation to ContractLineAttributeUpdate 
			Field Mapping uses ByOriginalRecord
				related.ContractGroup				= ContractGroup 
				related.OriginalRecord              = ContractLineAttributeUpdate

		AllFieldsTheSameRel 
			one-to-many relation to ContractLineAttributeUpdate
			Field Mapping uses ByManufacturerInformation 
				related.ContractGroup						= ContractGroup 
				related.ManufacturerCode                    = ManufacturerCode 
				related.ManufacturerDivision                = ManufacturerDivision
				related.ManufacturerPartNumberIdentifier 	= ManufacturerPartNumberIdentifier
			Instance Selection 
				where (related.UniqueID                     != UniqueID
				and    related.Status                       = Status.Created 
				and    related.Description                  = Description
				and    related.Description2			        = Description2	
				and    related.Description3                 = Description3       
				and    related.UpdatedVendorItem          	= UpdatedVendorItem 
				and    related.ConsolidatedVendorItemOccurs = ConsolidatedVendorItemOccurs 
				and    related.UpdatedManufacturer          = UpdatedManufacturer
				and    related.UpdatedManufacturerPartNumber = UpdatedManufacturerPartNumber  
				and    related.UOM                          = UOM 
				and    related.UOMConversion                = UOMConversion                                  
				and    related.ContractLineAttributeUpdateUOM.UOMDetails2  = ContractLineAttributeUpdateUOM.UOMDetails2                                  
				and    related.GlobalTradeItemNumber		= GlobalTradeItemNumber 
				and    related.LowUOMCodeGTIN               = LowUOMCodeGTIN  
				and    related.Upc							= Upc 
				and    related.HibccUpn				        = HibccUpn 	
				and    related.LowUOMCodeHibccUPN           = LowUOMCodeHibccUPN 
				and    related.UccEanUpn					= UccEanUpn 
				and    related.NdcNbr						= NdcNbr 
				and    related.UNSPSC                       = UNSPSC 
				and    related.UNSPSCSegmentTitle           = UNSPSCSegmentTitle 
				and    related.UNSPSCFamilyTitle            = UNSPSCFamilyTitle 
				and    related.UNSPSCClassTitle             = UNSPSCClassTitle 
				and    related.UNSPSCCommodityTitle         = UNSPSCCommodityTitle 
				and    related.UNSPSCSegmentDefinition      = UNSPSCSegmentDefinition 
				and    related.UNSPSCFamilyDefinition       = UNSPSCFamilyDefinition 
				and    related.UNSPSCClassDefinition        = UNSPSCClassDefinition 
				and    related.UNSPSCCommodityDefinition    = UNSPSCCommodityDefinition 
				and    related.CommodityCode	            = CommodityCode 
				and    related.ChargeNumber                 = ChargeNumber 
				and    related.Latex					 	= Latex 
				and    related.HCPCSNumber                  = HCPCSNumber 
				and    related.HCPCSSequence                = HCPCSSequence 
				and    related.RemoveHCPCS                  = RemoveHCPCS 
				and    related.GMDNPTCode                   = GMDNPTCode 
				and    related.HazardCode                   = HazardCode 
				and    related.LabelerIdentificationCode    = LabelerIdentificationCode 
				and    related.Sterile                      = Sterile  
				and    related.SingleUse                    = SingleUse 
				and    related.Reusable                     = Reusable 
				and    related.Reprocessed                  = Reprocessed 
				and    related.Implantable                  = Implantable 
				and    related.ContainsHumanTissue          = ContainsHumanTissue 
				and    related.Pharmaceutical               = Pharmaceutical 
				and    related.Dressing                     = Dressing 
				and    related.Bioabsorbable                = Bioabsorbable)
		GTINForOtherItemRel 
			one-to-many relation to ItemGTIN
			Field Mapping uses Set2 
				related.ItemGroup	= ContractGroup 
				related.ItemGTIN    = GlobalTradeItemNumber

		LocalGTINForOtherItemRel 
			one-to-many relation to ItemGTIN
			Field Mapping uses Set2 
				related.ItemGroup	= ContractGroup 
				related.ItemGTIN    = LocalEditGTIN

		ItemGroupRel 
			one-to-one relation to ItemGroup 
			Field Mapping uses symbolic key 
				related.ItemGroup	= ContractGroup 
		
		GTINForManufacturerDataRel 
			one-to-many relation to ItemGTIN 
			Field Mapping uses Set7
               	related.ItemGroup    						= ContractGroup
            	related.Manufacturer.ManufacturerCode		= ManufacturerCode 
                related.Manufacturer.ManufacturerDivision   = ManufacturerDivision
				related.ManufacturerNumber					= ManufacturerPartNumberIdentifier
                related.Item								= InternalItemNumber
                related.UnitOfMeasure						= UOM

		LowUOMCodeGTINForManufacturerDataRel 
			one-to-many relation to ItemGTIN 
			Field Mapping uses Set7
               	related.ItemGroup    						= ContractGroup
            	related.Manufacturer.ManufacturerCode		= ManufacturerCode 
                related.Manufacturer.ManufacturerDivision   = ManufacturerDivision
				related.ManufacturerNumber					= ManufacturerPartNumberIdentifier
                related.Item								= InternalItemNumber
                related.UnitOfMeasure						= InternalItemNumberRel.StockUOM

		LowUOMCodeGTINForOtherItemRel 
			one-to-many relation to ItemGTIN
			Field Mapping uses Set2 
				related.ItemGroup	= ContractGroup 
				related.ItemGTIN    = LowUOMCodeGTIN

		GTINForThisItemRel
			one-to-one relation to ItemGTIN 
			Field Mapping uses symbolic key 
				related.ItemGroup	= ContractGroup 
				related.Item        = InternalItemNumber
				related.ItemGTIN    = GlobalTradeItemNumber	

		LowUOMCodeGTINForThisItemRel
			one-to-one relation to ItemGTIN 
			Field Mapping uses symbolic key 
				related.ItemGroup	= ContractGroup 
				related.Item        = InternalItemNumber
				related.ItemGTIN    = LowUOMCodeGTIN					
					
		GTINForThisItemDifferentUOMRel
			one-to-many relation to ItemGTIN 
			Field Mapping uses symbolic key 
				related.ItemGroup	= ContractGroup 
				related.Item        = InternalItemNumber
				related.ItemGTIN    = GlobalTradeItemNumber	
			Instance Selection 
				where (related.UnitOfMeasure != UOM.UnitOfMeasure)

		GTINForMatchingUOMRel 
			one-to-many relation to ItemGTIN 
			Field Mapping uses Set3 
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber
				related.UnitOfMeasure   = UOM.UnitOfMeasure					

		GTINForLocalUOMRel 
			one-to-many relation to ItemGTIN 
			Field Mapping uses Set3 
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber
				related.UnitOfMeasure   = LocalUOM		

		LowUOMCodeGTINToItemRel 
			one-to-one relation to ItemGTIN 
			Field Mapping uses symbolic key 
				related.ItemGroup	= ContractGroup 
				related.Item        = InternalItemNumber
				related.ItemGTIN    = LowUOMCodeGTIN			
		
		UPCForOtherItemRel 
			one-to-one relation to ItemUPC
			Field Mapping uses Set5 
				related.ItemGroup	= ContractGroup 
				related.ItemUPC     = Upc

		LocalUPCForOtherItemRel 
			one-to-one relation to ItemUPC
			Field Mapping uses Set5 
				related.ItemGroup	= ContractGroup 
				related.ItemUPC     = LocalUPC
		UPCForThisItemRel 
			one-to-one relation to ItemUPC 
			Field Mapping uses symbolic key 
				related.ItemGroup	= ContractGroup 
				related.Item        = InternalItemNumber
				related.ItemUPC     = Upc				

		LocalUPCForThisItemRel 
			one-to-one relation to ItemUPC 
			Field Mapping uses symbolic key 
				related.ItemGroup	= ContractGroup 
				related.Item        = InternalItemNumber
				related.ItemUPC     = LocalUPC		

		UPCOnDifferentContractLineRel 
			one-to-many relation to ContractLine 
			Field Mapping uses ByMfgInfoVenItem
				related.ContractGroup		= ContractGroup 
			Instance Selection
				where   (related.Upc                                 = Upc
				and 	(related.Manufacturer.ManufacturerCode		!= ManufacturerCode 
				or       related.Manufacturer.ManufacturerDivision	!= ManufacturerDivision
				or       related.ManufacturerNumber					!= ManufacturerPartNumberIdentifier)
				and     (related.Contract                           != Contract
				or       related.ContractLine                       != ContractLine))

		NdcNbrForOtherItemRel
			one-to-one relation to NationalDrugCode
			Field Mapping uses Set6 
				related.ItemGroup			= ContractGroup 
				related.NationalDrugCode    = NdcNbr

		LocalNdcNbrForOtherItemRel
			one-to-one relation to NationalDrugCode
			Field Mapping uses Set6 
				related.ItemGroup			= ContractGroup 
				related.NationalDrugCode    = LocalNDC
		NdcNbrForThisItemRel 
			one-to-one relation to NationalDrugCode 
			Field Mapping uses symbolic key 
				related.ItemGroup			= ContractGroup 
				related.Item        		= InternalItemNumber
				related.NationalDrugCode    = NdcNbr		

		LocalNdcNbrForThisItemRel 
			one-to-one relation to NationalDrugCode 
			Field Mapping uses symbolic key 
				related.ItemGroup			= ContractGroup 
				related.Item        		= InternalItemNumber
				related.NationalDrugCode    = LocalNDC
		UccEanUpnForOtherItemRel 
			one-to-one relation to UCCEANItemUPN
			Field Mapping uses Set6 
				related.ItemGroup			= ContractGroup 
				related.UCCEANItemUPN     	= UccEanUpn

		LocalUccEanUpnForOtherItemRel 
			one-to-one relation to UCCEANItemUPN
			Field Mapping uses Set6 
				related.ItemGroup			= ContractGroup 
				related.UCCEANItemUPN     	= LocalUPN

		UccEanUpnForThisItemRel 
			one-to-one relation to UCCEANItemUPN 
			Field Mapping uses symbolic key 
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber
				related.UCCEANItemUPN   = UccEanUpn		

		LocalUccEanUpnForThisItemRel 
			one-to-one relation to UCCEANItemUPN 
			Field Mapping uses symbolic key 
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber
				related.UCCEANItemUPN   = LocalUPN	

		HibccUpnForOtherItemRel
			one-to-one relation to HIBCCItemUPN
			Field Mapping uses Set6 
				related.ItemGroup		= ContractGroup 
				related.HIBCCItemUPN    = HibccUpn

		LocalHibccUpnForOtherItemRel
			one-to-one relation to HIBCCItemUPN
			Field Mapping uses Set6 
				related.ItemGroup		= ContractGroup 
				related.HIBCCItemUPN    = LocalHIBCCDI
				
		HibccUpnForThisItemRel
			one-to-one relation to HIBCCItemUPN
			Field Mapping uses symbolic key
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber
				related.HIBCCItemUPN    = HibccUpn				

		LocalHibccUpnForThisItemRel
			one-to-one relation to HIBCCItemUPN
			Field Mapping uses symbolic key
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber
				related.HIBCCItemUPN    = LocalHIBCCDI	

		LowUOMCodeHibccUpnForOtherItemRel
			one-to-one relation to HIBCCItemUPN
			Field Mapping uses Set6 
				related.ItemGroup		= ContractGroup 
				related.HIBCCItemUPN    = LowUOMCodeHibccUPN

		LowUOMCodeHibccUpnForThisItemRel
			one-to-one relation to HIBCCItemUPN
			Field Mapping uses symbolic key
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber
				related.HIBCCItemUPN    = LowUOMCodeHibccUPN	

		UNSPSCExistsRel 
			one-to-one relation to UNSPSCCode
			Field Mapping uses symbolic key
				related.ItemGroup           		= ContractGroup
				related.UNSPSCCode.UNSPSCSegment 	= UNSPSC[1:2]
				related.UNSPSCCode.UNSPSCFamily  	= UNSPSC[3:4]
				related.UNSPSCCode.UNSPSCClass   	= UNSPSC[5:6]
				related.UNSPSCCode.UNSPSCCommodity	= UNSPSC[7:8]			

		UNSPSCSegmentExistsRel 
			one-to-one relation to UNSPSCCode
			Field Mapping uses symbolic key
				related.ItemGroup           		= ContractGroup
				related.UNSPSCCode.UNSPSCSegment 	= UNSPSC[1:2]
				related.UNSPSCCode.UNSPSCFamily  	= "00"
				related.UNSPSCCode.UNSPSCClass   	= "00"
				related.UNSPSCCode.UNSPSCCommodity	= "00"	

		UNSPSCFamilyExistsRel 
			one-to-one relation to UNSPSCCode
			Field Mapping uses symbolic key
				related.ItemGroup           		= ContractGroup
				related.UNSPSCCode.UNSPSCSegment 	= UNSPSC[1:2]
				related.UNSPSCCode.UNSPSCFamily  	= UNSPSC[3:4]
				related.UNSPSCCode.UNSPSCClass   	= "00"
				related.UNSPSCCode.UNSPSCCommodity	= "00"					

		UNSPSCClassExistsRel 
			one-to-many relation to UNSPSCCode
			Field Mapping uses symbolic key
				related.ItemGroup           		= ContractGroup
				related.UNSPSCCode.UNSPSCSegment 	= UNSPSC[1:2]
				related.UNSPSCCode.UNSPSCFamily  	= UNSPSC[3:4]
				related.UNSPSCCode.UNSPSCClass   	= UNSPSC[5:6]
				related.UNSPSCCode.UNSPSCCommodity	= "00"	
		
		ConsolidatedItemMasterRel 
			one-to-one relation to ConsolidatedItemMaster 
			Field Mapping uses symbolic key 
				related.ContractGroup				= ContractGroup 
				related.ConsolidatedItemMaster      = ConsolidatedItemMaster 
		CommodityCodeExistsRel 
			one-to-one relation to CommodityCode
			Field Mapping uses ByCommCodes
				related.ItemGroup     	= ContractGroup
				related.CommCodes 		= CommodityCode

		GMDNPTCodeExistsRel
			one-to-one relation to GMDNPTCode
			Field Mapping uses symbolic key
				related.ItemGroup     = ContractGroup
				related.GMDNPTCode    = GMDNPTCode

		HazardCodeExistsRel
            one-to-many relation to HazardCode
            Field Mapping uses symbolic key
                related.ItemGroup 	= ContractGroup
				related.HazardCode	= HazardCode

		ItemUOMRel 
			one-to-one relation to ItemUOM 
			Field Mapping uses symbolic key 
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber 
				related.UnitOfMeasure   = UOM
		
		LocalItemUOMRel 
			one-to-one relation to ItemUOM 
			Field Mapping uses symbolic key 
				related.ItemGroup		= ContractGroup 
				related.Item        	= InternalItemNumber 
				related.UnitOfMeasure   = LocalUOM		
		ManufacturerExistsRel 
            one-to-many relation to Manufacturer
            Field Mapping uses symbolic key
                related.ItemGroup 							= ContractGroup
				related.Manufacturer.ManufacturerCode		= ManufacturerCode
				related.Manufacturer.ManufacturerDivision	= ManufacturerDivision

		UpdatedVendorItemRel 
			one-to-many relation to VendorItem
			Field Mapping uses Set3
				related.ProcurementGroup 					= ContractGroup 
				related.Vendor                              = LocalVendor 
				related.VendorItem                          = LocalUpdatedVendorItem

		LocalVendorItemRel 
			one-to-one relation to VendorItem
			Field Mapping uses Set3
				related.ProcurementGroup 					= ContractGroup 
				related.Vendor                              = LocalVendor 
				related.VendorItem                          = LocalVendorItem
				related.Item                                = InternalItemNumber 
		
		LocalUpdatedVendorItemRel
			one-to-one relation to VendorItem
			Field Mapping uses Set3
				related.ProcurementGroup 					= ContractGroup 
				related.Vendor                              = LocalVendor 
				related.VendorItem                          = LocalUpdatedVendorItem
				related.Item                                = InternalItemNumber 
		
		UpdatedVendorItemFromManufacturerRel 
			one-to-many relation to VendorItem
			Field Mapping uses Set5
				related.ProcurementGroup 					= ContractGroup 
				related.Vendor                              = Contract.Vendor 
				related.Manufacturer.ManufacturerCode       = LocalManufacturerCode 
				related.Manufacturer.ManufacturerDivision   = LocalManufacturerDivision 
				related.ManufacturerNumber                  = LocalManufacturerPartNumber

		FactSheetRel
			one-to-one relation to SampleDocumentTemplate
			Field Mapping uses symbolic key
				related.SampleDocumentTemplate                  = "CONTRACTANDITEMATTRIBUTEUPDATE_ST"		

    Sets

		ByContractLine 
			Sort Order
				ContractGroup 
				Contract 
				ContractLine 
				ContractLineAttributeUpdate
		
		ByItem 
			Sort Order 
				ContractGroup 
				InternalItemNumber
				ContractLineAttributeUpdate

		ByOriginalRecord 
			Sort Order 
				ContractGroup 
				OriginalRecord 
				ContractLineAttributeUpdate
		
		ByUpdateDate 
			Sort Order 
				ContractGroup 
				UpdateDate 
				ContractLineAttributeUpdate 
			Instance Selection 
				where (NotAvailableToProcess)
			

		ByManufacturerInformation 
			Sort Order 
				ContractGroup
				ManufacturerCode 
				ManufacturerDivision 
				ManufacturerPartNumberIdentifier 
				ContractLineAttributeUpdate 
    	
    Conditions

		AttributesUpdated 
			restricted 
			when (DescriptionUpdated          
			or Description2Updated         
			or Description3Updated         
			or GlobalTradeItemNumberUpdated  
			or LowUOMCodeGTINIsOrWillBeUpdated
			or UpcUpdated                  
			or HibccUpnUpdated              
			or LowUOMCodeHibccUPNUpdated 
			or UccEanUpnUpdated             
			or NdcNbrUpdated                
			or UNSPSCUpdated                
			or CommodityCodeUpdated         
			or ChargeNumberUpdated          
			or LatexUpdated                 
			or HCPCSNumberUpdated           
			or HCPCSSequenceUpdated         
			or GMDNPTCodeUpdated            
			or HazardCodeUpdated            
			or LabelerIdentificationCodeUpdated  
			or SterileUpdated               
			or SingleUseUpdated             
			or ReusableUpdated              
			or ReprocessedUpdated           
			or ImplantableUpdated           
			or ContainsHumanTissueUpdated   
			or PharmaceuticalUpdated        
			or DressingUpdated              
			or BioabsorbableUpdated
			or ConsolidatedVendorItemOccurs entered                                                
			or MultipleUOMEntered             
			or VendorItemUpdated            
			or ManufacturerNumberUpdated
			or UpdatedManufacturer entered)    

		AttributesUpdatedForContractLine 
			restricted 
			when (DescriptionUpdated          
			or Description2Updated         
			or Description3Updated         
			or GlobalTradeItemNumberUpdated  
			or LowUOMCodeGTINIsOrWillBeUpdated
			or UpcUpdated                  
			or HibccUpnUpdated              
			or LowUOMCodeHibccUPNUpdated 
			or UccEanUpnUpdated             
			or NdcNbrUpdated                
			or UNSPSCUpdated                
			or CommodityCodeUpdated         
			or ChargeNumberUpdated          
			or LatexUpdated                 
			or HCPCSNumberUpdated           
			or HCPCSSequenceUpdated         
			or GMDNPTCodeUpdated            
			or HazardCodeUpdated            
			or LabelerIdentificationCodeUpdated  
			or SterileUpdated               
			or SingleUseUpdated             
			or ReusableUpdated              
			or ReprocessedUpdated           
			or ImplantableUpdated           
			or ContainsHumanTissueUpdated   
			or PharmaceuticalUpdated        
			or DressingUpdated              
			or BioabsorbableUpdated)

		AttributesUpdatedNotVendorItem
			restricted 
			when (DescriptionUpdated          
			or Description2Updated         
			or Description3Updated         
			or GlobalTradeItemNumberUpdated  
			or LowUOMCodeGTINIsOrWillBeUpdated
			or UpcUpdated                  
			or HibccUpnUpdated              
			or LowUOMCodeHibccUPNUpdated
			or UccEanUpnUpdated             
			or NdcNbrUpdated                
			or UNSPSCUpdated                
			or CommodityCodeUpdated         
			or ChargeNumberUpdated          
			or LatexUpdated                 
			or HCPCSNumberUpdated           
			or HCPCSSequenceUpdated         
			or GMDNPTCodeUpdated            
			or HazardCodeUpdated            
			or LabelerIdentificationCodeUpdated  
			or SterileUpdated               
			or SingleUseUpdated             
			or ReusableUpdated              
			or ReprocessedUpdated           
			or ImplantableUpdated           
			or ContainsHumanTissueUpdated   
			or PharmaceuticalUpdated        
			or DressingUpdated              
			or BioabsorbableUpdated         
			or ManufacturerNumberUpdated
			or UpdatedManufacturer entered)    			

		ConsolidatedItemMasterEntered 
			restricted 
			when (ConsolidatedItemMaster entered)
		
		MultipleUOMEntered 
			restricted 
			when (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure entered
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure entered
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure entered 
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure entered 
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure entered
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure entered
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure entered
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure entered 
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure entered 
			or    ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure entered)

		HasAttributeErrors 
			restricted 
			when (ContractAttributeErrorRel exists)
		
		HasGTINForOtherItem
			restricted 
			when (ErrorGTINForOtherItemRel exists )
		
		LowUOMCodeGTINIsOrWillBeUpdated 
			restricted 
			when (LowUOMCodeGTINUpdated
			or    LowUOMCodeGTINWillBeUpdatedForContract
			or    LowUOMCodeGTINWillBeUpdatedForItem)
		
		LowUOMCodeGTINUpdated 
			restricted 
			when (LowUOMCodeGTIN entered
			and  (ItemExists
			and   LowUOMCodeGTINToItemRel exists)
			or   (ContractLine entered 
			and   LowUOMCodeGTIN = ContractLine.LowUOMCodeGTIN))
		
		LowUOMCodeGTINWillBeUpdatedForItem
			restricted 
			when (LowUOMCodeGTIN entered
			and   ItemExists
			and   LowUOMCodeGTINForThisItemRel !exists)
		
		LowUOMCodeGTINWillBeUpdatedForContract 
			restricted 
			when (LowUOMCodeGTIN entered
			and   ContractLine entered
			and   ContractLine.LowUOMCodeGTIN != LowUOMCodeGTIN
			and ((ContractLine.LowUOMCode entered
			and  (UOM !entered
			or    ContractLine.LowUOMCode.UnitOfMeasure = UOM))
			or   (ContractLine.LowUOMCode !entered
			and   UOM entered
			and   ContractLine.UOM.UnitOfMeasure != UOM)))
		
		ItemExists
	 		restricted
	 		when (InternalItemNumberRel exists)

		CanSetToNotProcessed 
			restricted 
			when (Status.Created
			and   ContractGroupAllowsAttributeUpdate)

		CanUpdateAttributes 
			restricted
			when (ErrorsExist = false
			and   Status = Status.Created
			and   ContractGroupAllowsAttributeUpdate)

		ContractGroupAllowsAttributeUpdate
			restricted 
			when (ContractGroup.AutoUpdateAttributesAllowed)

		DataFromSymmetric 
			restricted
			when (ContractGroup.AutoUpdateAttributesFrom = 1)
		
		DataFromGHX
			restricted
			when (ContractGroup.AutoUpdateAttributesFrom = 2)

		DataFromOther
			restricted
			when (ContractGroup.AutoUpdateAttributesFrom = 3)			

		DataFromGHXOrOther
			restricted
			when (ContractGroup.AutoUpdateAttributesFrom = 3
			or    ContractGroup.AutoUpdateAttributesFrom = 2)

		NotCreated 
			restricted
			when (ContractLineAttributeUpdate !entered)
		
		DataFromGHXOrOtherOrNotCreated
			restricted 
			when (DataFromGHXOrOther
			or    NotCreated)
		
		AttributeUpdateExists 
			restricted 
			when (ContractLineAttributeUpdate entered)
		
		AvailableToProcess 
			restricted 
			when (Status = Status.Created
			and   ContractGroupAllowsAttributeUpdate)

		RecordExists 
			restricted 
			when (ContractLineAttributeUpdate entered)
		
		NotAvailableToProcess 
			restricted 
			when (Status = Status.Processed
			or    Status = Status.NotProcessed)

		OtherContractLinesFound 
			restricted
			when (OriginalRecordRel exists)

		IsAnOtherContractLine 
			restricted 
			when (OriginalRecord entered)
		
		NonFixableErrorsExist 
			restricted 
			when (NonFixableErrorsRel exists)

		CommodityCodeEntered 
			restricted 
			when (CommodityCode entered)

		UpdatedVendorItemEntered 
			restricted 
			when (UpdatedVendorItem entered)

		GTINForItemMatchingUOM 
			restricted 
			when (GTINForMatchingUOMRel exists)

		ConsolidatedItemMasterAndContractLine 
			restricted 
			when (ConsolidatedItemMaster entered
			and   ContractLinesForConsolidatedFound)
		
		ContractLinesForConsolidatedFound 
		 	restricted 
		 	when (OpenContractLinesRel exists)
		
		HasSuggestedLineChanges 
			restricted 
			when (Status = Status.Processed
			and   ContractLine entered
			and  (UpdatedVendorItem entered
			or    UpdatedManufacturerPartNumber entered))

		AllFieldsTheSameForConsolidated 
			restricted 
			when (AllFieldsTheSameRel exists)

		AllowMultipleGTINs 
			restricted 
			when (ItemGroupRel.AllowMultipleGTINs)

	Rule Blocks
	
	 	FindIdentifiers

			if (!ConsolidatedItemMasterEntered)
				if (Contract !entered)
					if (ExternalContractNumber entered)
						if (ContractInterfaceRel exists)
							Contract = ContractInterfaceRel.Contract 

				if (ContractLine !entered)
					if (VendorItemIdentifier entered)
						if (ContractLineByVendorItemRel exists)
							if (Contract !entered)
								Contract = 	first ContractLineByVendorItemRel.Contract
							ContractLine = first ContractLineByVendorItemRel.ContractLine 

				if (ContractLine !entered)
					if (ManufacturerPartNumberIdentifier entered)
						if (DerivedManufacturerCode entered)
							if (ContractLineFromManufacturerInfoRel exists)
								if (Contract !entered)
									Contract = 	first ContractLineFromManufacturerInfoRel.Contract
								ContractLine = first ContractLineFromManufacturerInfoRel.ContractLine

						else 
						if (DerivedManufacturerCode !entered)
							if (ContractLineFromManufacturerNumberOnlyRel exists)
								if (Contract !entered)
									Contract = 	first ContractLineFromManufacturerNumberOnlyRel.Contract
								ContractLine = first ContractLineFromManufacturerNumberOnlyRel.ContractLine 

				if (ContractLine !entered)
					if (InternalItemNumber entered)  
						if (ContractLineByItemRel exists)
							if (Contract !entered)
								Contract = first ContractLineByItemRel.Contract 
							ContractLine = first ContractLineByItemRel.ContractLine 

				if (ContractLine entered)
					if (OriginalRecord !entered)
						if (InternalItemNumber !entered)
							if (ContractLine.ItemNumber exists)
								InternalItemNumber = ContractLine.ItemNumber
						if (ManufacturerCode !entered)
							ManufacturerCode					  = ContractLine.Manufacturer.ManufacturerCode 
						if (ManufacturerDivision !entered)
							ManufacturerDivision				  = ContractLine.Manufacturer.ManufacturerDivision
						if (ManufacturerPartNumberIdentifier !entered)
							ManufacturerPartNumberIdentifier      = ContractLine.ManufacturerNumber 
					if (VendorItemIdentifier !entered)
						VendorItemIdentifier                  = ContractLine.VendorItem 
					if (InternalSupplier !entered)
						InternalSupplier                      = Contract.Supplier 
					
				if (ItemExists)
					if (ManufacturerCode !entered)
						ManufacturerCode		= InternalItemNumberRel.Manufacturer.ManufacturerCode 
						ManufacturerDivision    = InternalItemNumberRel.Manufacturer.ManufacturerDivision
					
					if (ManufacturerPartNumberIdentifier !entered)
						ManufacturerPartNumberIdentifier		= InternalItemNumberRel.ManufacturerNumber 

				if (InternalSupplier !entered)
					if (VendorID entered)
						InternalSupplier                      = ContractImportGPOSupplierRel.ContractSupplier  

			else
			if (ConsolidatedItemMasterEntered)						   

				if (ConsolidatedItemMasterRel.ItemExists)
					InternalItemNumber 				= ConsolidatedItemMasterRel.InternalItem 
				ManufacturerCode	   				= ConsolidatedItemMasterRel.Manufacturer.ManufacturerCode 
				ManufacturerDivision   				= ConsolidatedItemMasterRel.Manufacturer.ManufacturerDivision 	
				ManufacturerPartNumberIdentifier	= ConsolidatedItemMasterRel.ManufacturerNumber				

		CheckForErrors
	 		ErrorsExist = false
	 		for each ContractAttributeErrorRel
				invoke Purge each 

			if ((ContractLine !entered
			and  InternalItemNumber !entered
			and  !ConsolidatedItemMasterEntered)
			or  (ContractLine entered
			and  ContractLine !exists)
			or  (InternalItemNumber entered
			and  InternalItemNumberRel !exists)
			or  (ConsolidatedItemMasterEntered
			and  ConsolidatedItemMaster !exists))
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 1
			
			if (Contract entered
			and	!Contract.NotClosedAndNotTemplateAndNotService)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 2
			        
	 		if (AttributesUpdated = false)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 3

			if (ContractLine entered
			and !ContractLine.LineNotClosed)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 4 
			
			if (ManufacturerDivision entered
			and ManufacturerCode !entered)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 5				
			
			if (HCPCSSequence entered
			and HCPCSNumber !entered)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 6 				
			
			if (HCPCSNumber entered
			and RemoveHCPCS)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 135 				
			
			if (Upc entered
			or  NdcNbr entered
			or  UccEanUpn entered 
			or  HibccUpn entered
			or  GlobalTradeItemNumber entered)
				if (UOM !entered
				and ContractLine !entered)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 7								

			if ((Upc entered
			or   NdcNbr entered
			or   UccEanUpn entered 
			or   HibccUpn entered
			or   GlobalTradeItemNumber entered)
			and  UOM entered
			and  InternalItemNumber entered
			and  ItemExists)
				if (ItemUOMRel !exists)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 114 		
			
			if (GlobalTradeItemNumber entered)
				if (GTINForOtherItemRel exists)  
					if (InternalItemNumber entered
					and first GTINForOtherItemRel.Item != InternalItemNumber)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 115
							invoked.ErrorItem          = GTINForOtherItemRel.Item 				

					if (ContractLine entered
					and first GTINForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 116
							invoked.ErrorCode1         = GTINForOtherItemRel.UnitOfMeasure 

				initialize GTINCheckDigit
				GTINCheckDigit.ItemGTIN		= GlobalTradeItemNumber
				LocalValidCheckDigit        = GTINCheckDigit.ValidCheckDigit
				if (LocalValidCheckDigit = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 117

				if (InternalItemNumber entered
				and InternalItemNumberRel exists
				and	GTINForOtherItemRel !exists)  
					if (InternalItemNumberRel.Manufacturer !entered)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 124
					if (InternalItemNumber.ManufacturerNumber !entered
					and UpdatedManufacturerPartNumber !entered)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 125
					
			if (LowUOMCodeGTIN entered)

				if (LowUOMCodeGTINForOtherItemRel exists)  
					if (InternalItemNumber entered
					and first LowUOMCodeGTINForOtherItemRel.Item != InternalItemNumber)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 121
							invoked.ErrorItem          = LowUOMCodeGTINForOtherItemRel.Item 				

					if (ContractLine entered
					and first LowUOMCodeGTINForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 122
							invoked.ErrorCode1         = LowUOMCodeGTINForOtherItemRel.UnitOfMeasure 

				if (InternalItemNumber entered
				and InternalItemNumberRel exists
				and	LowUOMCodeGTINForOtherItemRel !exists)  
					if (InternalItemNumberRel.Manufacturer !entered)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 126
					if (InternalItemNumber.ManufacturerNumber !entered
					and UpdatedManufacturerPartNumber !entered)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 127

				initialize GTINCheckDigit
				GTINCheckDigit.ItemGTIN		= LowUOMCodeGTIN
				LocalValidCheckDigit        = GTINCheckDigit.ValidCheckDigit
				if (LocalValidCheckDigit = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 123

				if  (ContractLine entered
				and  InternalItemNumber !entered
				and  ContractLine.LowUOMCode !entered
				and (UOM !entered
				or   GlobalTradeItemNumber entered))
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 128	

				if (ItemExists
				and InternalItemNumberRel.Manufacturer entered
				and InternalItemNumberRel.ManufacturerNumber entered
				and LowUOMCodeGTINForManufacturerDataRel exists
				and ItemGroupRel.AllowMultipleGTINs = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 133											

			if (Upc entered
			and UPCForOtherItemRel exists)
				if (InternalItemNumber entered
				and UPCForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 100
						invoked.ErrorItem          = UPCForOtherItemRel.Item 				

				if (ContractLine entered
				and UPCForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 101
						invoked.ErrorCode1         = UPCForOtherItemRel.UnitOfMeasure 		

			if (NdcNbr entered
			and NdcNbrForOtherItemRel exists)
				if (InternalItemNumber entered
				and NdcNbrForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 107
						invoked.ErrorItem          = NdcNbrForOtherItemRel.Item 				

				if (ContractLine entered
				and NdcNbrForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 108
						invoked.ErrorCode1         = NdcNbrForOtherItemRel.UnitOfMeasure 	

			if (NdcNbr entered)
				if (HibccUpn entered
				or  UccEanUpn entered)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 118
			
			if (UccEanUpn entered
			and UccEanUpnForOtherItemRel exists)
				if (InternalItemNumber entered
				and UccEanUpnForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 109
						invoked.ErrorItem          = UccEanUpnForOtherItemRel.Item 				

				if (ContractLine entered
				and UccEanUpnForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 110
						invoked.ErrorCode1         = UccEanUpnForOtherItemRel.UnitOfMeasure 	

			if (HibccUpn entered
			and HibccUpnForOtherItemRel exists)
				if (InternalItemNumber entered
				and HibccUpnForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 111
						invoked.ErrorItem          = HibccUpnForOtherItemRel.Item 				

				if (ContractLine entered
				and HibccUpnForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 112
						invoked.ErrorCode1         = HibccUpnForOtherItemRel.UnitOfMeasure 							

			if (LowUOMCodeHibccUPN entered
			and LowUOMCodeHibccUpnForOtherItemRel exists)
				if (InternalItemNumber entered
				and LowUOMCodeHibccUpnForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 129
						invoked.ErrorItem          = LowUOMCodeHibccUpnForOtherItemRel.Item 				

				if (ContractLine entered
				and LowUOMCodeHibccUpnForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 130
						invoked.ErrorCode1         = LowUOMCodeHibccUpnForOtherItemRel.UnitOfMeasure 	

			if (LowUOMCodeHibccUPN entered)
				if  (ContractLine entered
				and  InternalItemNumber !entered
				and  ContractLine.LowUOMCode !entered
				and (UOM !entered
				or   HibccUpn entered))
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 131									

				if (InternalItemNumber entered
				and ContractLine entered
				and UOM !entered
				and InternalItemNumber.StockUOM = ContractLine.UOM
				and HibccUpn entered)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 134						
			
			if (UNSPSC entered
			and UNSPSCExistsRel !exists
			and !ContractGroup.AutoAddUNSPSCCode) 
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 102

			if  (UNSPSC !entered
			and (UNSPSCSegmentTitle entered             
			or   UNSPSCFamilyTitle entered            
			or   UNSPSCClassTitle entered             
			or   UNSPSCCommodityTitle entered         
			or   UNSPSCSegmentDefinition entered       
			or   UNSPSCFamilyDefinition entered         
			or   UNSPSCClassDefinition entered         
			or   UNSPSCCommodityDefinition entered))    
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 137

			if (CommodityCode entered
			and CommodityCodeExistsRel !exists) 
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 103

			if (GMDNPTCode entered
			and GMDNPTCodeExistsRel !exists)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 104

			if (HazardCode entered
			and HazardCodeExistsRel !exists)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 105

			if (ManufacturerCode entered
			and ManufacturerExistsRel !exists)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 106

			if (UpdatedVendorItem entered
			and ContractLine !entered
			and AttributesUpdatedNotVendorItem = false
			and UpdatedManufacturerPartNumber !entered)
				invoke Create ContractLineAttributeError set
					invoked.ErrorMessageNumber = 119

			LocalVendor 			= Contract.Vendor 
			LocalUpdatedVendorItem	= UpdatedVendorItem 
			if (ContractLine entered
			and UpdatedVendorItem entered
			and UpdatedVendorItemRel exists
			and UpdatedVendorItemRel.VendorBuyUOM entered
			and first UpdatedVendorItemRel.VendorBuyUOM != ContractLine.UOM.UnitOfMeasure)
				invoke Create ContractLineAttributeError set
					invoked.ErrorMessageNumber = 120

			if (InternalItemNumber entered
			and ConsolidatedItemMaster entered)
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item					
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item	
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item							
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item					
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item	
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item			
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item					
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item	
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item			
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item					
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item	
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item			
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item					
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item	
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem entered)
					LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].Vendor
					LocalUpdatedVendorItem 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem
					if (UpdatedVendorItemRel exists
					and first UpdatedVendorItemRel.Item != InternalItemNumber)
						LocalUpdatedVendorItemForOtherItem = LocalUpdatedVendorItem 
						LocalItem                          = UpdatedVendorItemRel.Item																					
				if (LocalUpdatedVendorItemForOtherItem entered)
					invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 142
							invoked.ErrorCode1         = LocalVendorItemNoLinesOrItemsFound 
							invoked.ErrorItem          = LocalItem 


			if (ConsolidatedItemMaster entered
			and ConsolidatedVendorItemOccurs entered)
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 	
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 				
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 	
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 				
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 			
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 				
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 	
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 
				if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem entered)
					LocalVendor 	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].Vendor
					LocalVendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].VendorItem
					if (ContractLineForVendorAndVendorItemRel !exists
					and LocalVendorItemRel !exists)
						LocalVendorItemNoLinesOrItemsFound = LocalVendorItem 				
				if (LocalVendorItemNoLinesOrItemsFound entered)
					invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 140
							invoked.ErrorCode1         = LocalVendorItemNoLinesOrItemsFound 

			if  (ConsolidatedItemMaster entered
			and ((ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].Vendor     !entered))									
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].Vendor     !entered))
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].VendorItem !entered
			or   ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].Vendor     !entered))))
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 136

			if  (ConsolidatedItemMaster entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].VendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem !entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].VendorItem entered)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem !entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].VendorItem entered))
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 144

			if  (ConsolidatedItemMaster entered
			and (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem)
			or  (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem entered
			and  ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].VendorItem = ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem))
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 139

			if ((ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfUse = false)
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfUse = false)
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfUse = false)
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfUse = false)
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfUse = false)						
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfUse = false)
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfUse = false)
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfUse = false)
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfUse = false)
			or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10] entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure !entered
			and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfUse = false))			
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 138
			
			if (ContractLineAttributeUpdateUOM exists)
				if ((ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure entered
				and ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure)
				or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure entered
				and (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure))
				or  (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure entered
				and (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure))
				or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure entered
				and (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure				
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure))
				or  (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure entered
				and (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure				
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure))
				or  (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure entered
				and (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure				
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure))
				or (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure entered
				and (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure				
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure				
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure))
				or  (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure entered
				and (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure				
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure))				
				or  (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure entered
				and (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure		
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure
				or   ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure)))										
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 149				 
			
			if (!ItemGroupRel.AllowMultipleGTINs)
				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NonDefaultGTIN entered
				or  ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NonDefaultGTIN entered)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 141		

			if  (ConsolidatedItemMaster entered
			and !ConsolidatedItemMaster.AvailableForAttributeUpdate)
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 143	

			if (ContractLineAttributeUpdateUOM.UOMDetails2 entered)
				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NonDefaultGTIN5																				
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors
				
				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors
			
				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors

				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors

				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors

				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors

				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors																				

				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors

				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors

				if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10] entered)
					LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure
					LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfUse 
					LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UOMConversion 
					LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].ItemGTIN 
					LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NonDefaultGTIN
					LocalNonDefaultGTIN2 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NonDefaultGTIN2
					LocalNonDefaultGTIN3 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NonDefaultGTIN3
					LocalNonDefaultGTIN4 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NonDefaultGTIN4
					LocalNonDefaultGTIN5 = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NonDefaultGTIN5	
					LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].HIBCCItemUPN
					LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NationalDrugCode 
					LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].ItemUPC
					LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UCCEANItemUPN
			
					include HandleUOMConsolidatedErrors								

			if (ContractAttributeErrorRel exists)
	 			ErrorsExist = true


		FindAdditionalContractLines  

			if (OriginalRecord !entered)
				if (UpdatedVendorItem !entered)
					for each AdditionalContractLineManufacturerRel 
						if (LocalFromCreate = true) 
							invoke ExternalCreate 
								invoked.Contract		= each.Contract 
								invoked.ContractLine    = each.ContractLine 
								invoked.OriginalRecord  = ContractLineAttributeUpdate
								fill in fields from this instance 
						else 
						if (LocalFromExternalCreate = true)
							invoke Create 
								invoked.Contract		= each.Contract 
								invoked.ContractLine    = each.ContractLine 
								invoked.OriginalRecord  = ContractLineAttributeUpdate
								fill in fields from this instance 	
				if (InternalSupplier entered
				and UpdatedVendorItem entered
				and Contract entered)
					for each AdditionalContractLineVendorItemRel
						
						if (OriginalRecordRel !exists)
							if (LocalFromCreate = true) 
								invoke ExternalCreate 
									invoked.Contract		= each.Contract 
									invoked.ContractLine    = each.ContractLine 
									invoked.OriginalRecord  = ContractLineAttributeUpdate
									fill in fields from this instance 	
							else 
							if (LocalFromExternalCreate = true)
								invoke Create 
									invoked.Contract		= each.Contract 
									invoked.ContractLine    = each.ContractLine 
									invoked.OriginalRecord  = ContractLineAttributeUpdate
									fill in fields from this instance 										
		
		UpdateContractLineAttributes

			if   (ContractLine entered
			and   ContractLine exists)

				invoke UpdateAttributes ContractLine 
					if (CommodityCodeUpdated)
						invoked.ParmCommodityCode 				= CommodityCode
					if (DescriptionUpdated)
						invoked.ParmDescription					= Description
					if (Description2Updated)
						invoked.ParmDescription2				= Description2
					if (Description3Updated)
						invoked.ParmDescription3                = Description3
					invoked.ParmUOMConversion					= UOMConversion
					if (InternalItemNumber !entered)
						if (GlobalTradeItemNumberUpdated)
							invoked.ParmGlobalTradeItemNumber		= GlobalTradeItemNumber
						if (LowUOMCodeGTINWillBeUpdatedForContract)
							invoked.ParmLowUOMCodeGTIN              = LowUOMCodeGTIN
							if (GlobalTradeItemNumber !entered)
								invoked.ParmUOM                     = UOM
					if (UpcUpdated)
						invoked.ParmUpc							= Upc					
					if (HibccUpnUpdated)
						invoked.ParmHibccUpn					= HibccUpn			
					if (LowUOMCodeHibccUPNUpdated)
						invoked.ParmLowUOMCodeHibccUPN          = LowUOMCodeHibccUPN
					if (UccEanUpnUpdated)
						invoked.ParmUccEanUpn					= UccEanUpn			
					if (NdcNbrUpdated)
						invoked.ParmNdcNbr						= NdcNbr					
					if (UNSPSCUpdated)
						invoked.ParmUNSPSCCode.UNSPSCSegment 	= UNSPSC[1:2]
						invoked.ParmUNSPSCCode.UNSPSCFamily  	= UNSPSC[3:4]
						invoked.ParmUNSPSCCode.UNSPSCClass   	= UNSPSC[5:6]
						invoked.ParmUNSPSCCode.UNSPSCCommodity	= UNSPSC[7:8]
					if (ChargeNumberUpdated)
						invoked.ParmChargeNumber				= ChargeNumber
					if (LatexUpdated)
						invoked.ParmLatex						= Latex		 	
					if (HCPCSNumberUpdated)
						invoked.ParmHCPCSCode.HCPCS				= HCPCSNumber
					if (HCPCSSequenceUpdated)
						invoked.ParmHCPCSCode.Sequence			= HCPCSSequence
					invoked.ParmRemoveHCPCS                     = RemoveHCPCS 
					if (GMDNPTCodeUpdated)
						invoked.ParmGMDNPTCode					= GMDNPTCode
					if (HazardCodeUpdated)
						invoked.ParmHazardCode                  = HazardCode
					if (LabelerIdentificationCodeUpdated)
						invoked.ParmLabelerIdentificationCode	= LabelerIdentificationCode		
					if (Sterile = 1)
						invoked.ParmSterile	 			        = 1
					else 
					if (Sterile = 2)
						invoked.ParmSterile                     = 2 
					if (SingleUse = 1)
						invoked.ParmSingleUse	 			    = 1
					else 
					if (SingleUse = 2)
						invoked.ParmSingleUse                   = 2 
					if (Reusable = 1)
						invoked.ParmReusable                    = 1
					else 
					if (Reusable = 2)
						invoked.ParmReusable          			= 2
					if (Reprocessed = 1)
						invoked.ParmReprocessed       			= 1 
					else
					if (Reprocessed = 2)
						invoked.ParmReprocessed       			= 2 
					if (Implantable = 1)
						invoked.ParmImplantable       			= 1 
					else 
					if (Implantable = 2)
						invoked.ParmImplantable       			= 2 
					if (ContainsHumanTissue = 1)
						invoked.ParmContainsHumanTissue   		= 1
					else 
					if (ContainsHumanTissue = 2)
						invoked.ParmContainsHumanTissue   		= 2					
					if (Pharmaceutical = 1)
						invoked.ParmPharmaceutical        		= 1 
					else 
					if (Pharmaceutical = 2)
						invoked.ParmPharmaceutical        		= 2 					
					if (Dressing = 1)
						invoked.ParmDressing              		= 1 
					else 
					if (Dressing = 2)
						invoked.ParmDressing              		= 2 					
					if (Bioabsorbable = 1)
						invoked.ParmBioabsorbable         		= 1
					else 
					if (Bioabsorbable = 2)
						invoked.ParmBioabsorbable         		= 2					

			else
			if    (ConsolidatedItemMasterEntered
			and    ConsolidatedItemMasterRel.HasContractLinesByManufacturer)

				invoke UpdateAttributes ConsolidatedItemMasterRel.first ContractLinesByManufacturerRel
				
					if (CommodityCodeUpdated)
						invoked.ParmCommodityCode 				= CommodityCode
					if (DescriptionUpdated)
						invoked.ParmDescription					= Description
					if (Description2Updated)
						invoked.ParmDescription2				= Description2
					if (Description3Updated)
						invoked.ParmDescription3                = Description3
					if (UNSPSCUpdated)
						invoked.ParmUNSPSCCode.UNSPSCSegment 	= UNSPSC[1:2]
						invoked.ParmUNSPSCCode.UNSPSCFamily  	= UNSPSC[3:4]
						invoked.ParmUNSPSCCode.UNSPSCClass   	= UNSPSC[5:6]
						invoked.ParmUNSPSCCode.UNSPSCCommodity	= UNSPSC[7:8]
					if (ChargeNumberUpdated)
						invoked.ParmChargeNumber				= ChargeNumber
					if (LatexUpdated)
						invoked.ParmLatex						= Latex		 	
					if (HCPCSNumberUpdated)
						invoked.ParmHCPCSCode.HCPCS				= HCPCSNumber
					if (HCPCSSequenceUpdated)
						invoked.ParmHCPCSCode.Sequence			= HCPCSSequence
					invoked.ParmRemoveHCPCS                     = RemoveHCPCS 
					if (GMDNPTCodeUpdated)
						invoked.ParmGMDNPTCode					= GMDNPTCode
					if (HazardCodeUpdated)
						invoked.ParmHazardCode                  = HazardCode
					if (LabelerIdentificationCodeUpdated)
						invoked.ParmLabelerIdentificationCode	= LabelerIdentificationCode		
					if (Sterile = 1)
						invoked.ParmSterile	 			        = 1
					else 
					if (Sterile = 2)
						invoked.ParmSterile                     = 2 
					if (SingleUse = 1)
						invoked.ParmSingleUse	 			    = 1
					else 
					if (SingleUse = 2)
						invoked.ParmSingleUse                   = 2 
					if (Reusable = 1)
						invoked.ParmReusable                    = 1
					else 
					if (Reusable = 2)
						invoked.ParmReusable          			= 2
					if (Reprocessed = 1)
						invoked.ParmReprocessed       			= 1 
					else
					if (Reprocessed = 2)
						invoked.ParmReprocessed       			= 2 
					if (Implantable = 1)
						invoked.ParmImplantable       			= 1 
					else 
					if (Implantable = 2)
						invoked.ParmImplantable       			= 2 
					if (ContainsHumanTissue = 1)
						invoked.ParmContainsHumanTissue   		= 1
					else 
					if (ContainsHumanTissue = 2)
						invoked.ParmContainsHumanTissue   		= 2					
					if (Pharmaceutical = 1)
						invoked.ParmPharmaceutical        		= 1 
					else 
					if (Pharmaceutical = 2)
						invoked.ParmPharmaceutical        		= 2 					
					if (Dressing = 1)
						invoked.ParmDressing              		= 1 
					else 
					if (Dressing = 2)
						invoked.ParmDressing              		= 2 					
					if (Bioabsorbable = 1)
						invoked.ParmBioabsorbable         		= 1
					else 
					if (Bioabsorbable = 2)
						invoked.ParmBioabsorbable         		= 2						

		UpdateItemAttributes 

			invoke UpdateAttributes InternalItemNumber 
				invoked.ParmCommodityCode 					= CommodityCode
				invoked.ParmDescription						= Description
				invoked.ParmDescription2				    = Description2
				invoked.ParmDescription3                    = Description3
				invoked.ParmUOMConversion					= UOMConversion
				invoked.ParmUNSPSCCode.UNSPSCSegment 		= UNSPSC[1:2]
				invoked.ParmUNSPSCCode.UNSPSCFamily  		= UNSPSC[3:4]
				invoked.ParmUNSPSCCode.UNSPSCClass   		= UNSPSC[5:6]
				invoked.ParmUNSPSCCode.UNSPSCCommodity		= UNSPSC[7:8]
				invoked.ParmChargeNumber					= ChargeNumber
				invoked.ParmLatex							= Latex		 	
				invoked.ParmHCPCSCode.HCPCS					= HCPCSNumber
				invoked.ParmHCPCSCode.Sequence			    = HCPCSSequence
				invoked.ParmRemoveHCPCS                     = RemoveHCPCS 
				invoked.ParmGMDNPTCode						= GMDNPTCode
				invoked.ParmHazardCode                      = HazardCode 
				invoked.ParmManufacturer                    = UpdatedManufacturer 
				invoked.ParmManufacturerNumber          	= UpdatedManufacturerPartNumber
				if (UOM entered)
					invoked.ParmUOM.UnitOfMeasure           = UOM
				else 
				if (ContractLine entered)
					invoked.ParmUOM.UnitOfMeasure           = ContractLine.UOM.UnitOfMeasure
				if (GTINForThisItemRel !exists
				or (GTINForThisItemRel exists
				and GTINForThisItemDifferentUOMRel exists))
					invoked.ParmGlobalTradeItemNumber		= GlobalTradeItemNumber
					if (UpdatedManufacturerPartNumber entered)
						invoked.ParmManufacturerNumberForGTIN 	= UpdatedManufacturerPartNumber
					else 
						invoked.ParmManufacturerNumberForGTIN	= InternalItemNumber.ManufacturerNumber 
					if (ContractLine  entered)
						invoked.ParmManufacturerForGTIN     	= InternalItemNumber.Manufacturer
				if (LowUOMCodeGTINWillBeUpdatedForItem)
					invoked.ParmLowUOMCodeGTIN              = LowUOMCodeGTIN
					if (UpdatedManufacturerPartNumber entered)
						invoked.ParmManufacturerNumberForGTIN 	= UpdatedManufacturerPartNumber
					else 
						invoked.ParmManufacturerNumberForGTIN	= InternalItemNumber.ManufacturerNumber 
					if (ContractLine  entered)
						invoked.ParmManufacturerForGTIN     	= InternalItemNumber.Manufacturer
				if (UPCForThisItemRel !exists)
					invoked.ParmUpc							= Upc					
				if (HibccUpnForThisItemRel !exists)
					invoked.ParmHibccUpn					= HibccUpn			
				if (LowUOMCodeHibccUpnForThisItemRel !exists)
					invoked.ParmLowUOMCodeHibccUPN          = LowUOMCodeHibccUPN
				if (UccEanUpnForThisItemRel !exists)
					invoked.ParmUccEanUpn					= UccEanUpn			
				if (NdcNbrForThisItemRel !exists)
					invoked.ParmNdcNbr						= NdcNbr		
				if (Sterile = 1)
					invoked.ParmSterile	 			        = 1
				else 
				if (Sterile = 2)
					invoked.ParmSterile                     = 2 
				if (SingleUse = 1)
					invoked.ParmSingleUse	 			    = 1
				else 
				if (SingleUse = 2)
					invoked.ParmSingleUse                   = 2 
				if (Reusable = 1)
					invoked.ParmReusable                    = 1
				else 
				if (Reusable = 2)
					invoked.ParmReusable          			= 2
				if (Reprocessed = 1)
					invoked.ParmReprocessed       			= 1 
				else
				if (Reprocessed = 2)
					invoked.ParmReprocessed       			= 2 
				if (Implantable = 1)
					invoked.ParmImplantable       			= 1 
				else 
				if (Implantable = 2)
					invoked.ParmImplantable       			= 2 
				if (ContainsHumanTissue = 1)
					invoked.ParmContainsHumanTissue   		= 1
				else 
				if (ContainsHumanTissue = 2)
					invoked.ParmContainsHumanTissue   		= 2					
				if (Pharmaceutical = 1)
					invoked.ParmPharmaceutical        		= 1 
				else 
				if (Pharmaceutical = 2)
					invoked.ParmPharmaceutical        		= 2 					
				if (Dressing = 1)
					invoked.ParmDressing              		= 1 
				else 
				if (Dressing = 2)
					invoked.ParmDressing              		= 2 					
				if (Bioabsorbable = 1)
					invoked.ParmBioabsorbable         		= 1
				else 
				if (Bioabsorbable = 2)
					invoked.ParmBioabsorbable         		= 2					

		MarkAsUpdated 

			if (Sterile != 0)
				SterileUpdated = true
			else 
				SterileUpdated = false
		
			if	(SingleUse != 0)
				SingleUseUpdated = true 
			else
				SingleUseUpdated = false

			if	(Reusable != 0)
				ReusableUpdated = true
			else 
				ReusableUpdated = false 

			if	(Reprocessed != 0)
				ReprocessedUpdated = true
			else 
				ReprocessedUpdated = false 

			if	(Implantable != 0)
			 	ImplantableUpdated = true
			else 
				ImplantableUpdated = false 

			if  (ContainsHumanTissue != 0)
			 	ContainsHumanTissueUpdated = true
			else 
				ContainsHumanTissueUpdated = false 

			if (Pharmaceutical != 0)
			 	PharmaceuticalUpdated = true
			else 
				PharmaceuticalUpdated = false 
		
			if (Dressing != 0)
			 	DressingUpdated = true
			else 
				DressingUpdated = false 

			if (Bioabsorbable != 0)	
			 	BioabsorbableUpdated = true	
			else 
				BioabsorbableUpdated = false 	

			if  (Description entered
			and	((ContractLine entered
			and  Description != ContractLine.ItemDescription)	
			or  (ItemExists
			and  Description != InternalItemNumber.Description)
			or  (ConsolidatedItemMaster entered)))
			 	DescriptionUpdated = true	
			else 
				DescriptionUpdated = false 
		
			if  (Description2 entered
			and	((ContractLine entered
			and  Description2 != ContractLine.ItemDescription2)	
			or  (ItemExists
			and  Description2 != InternalItemNumber.Description2)
			or  (ConsolidatedItemMasterEntered 
			and Description2 != ConsolidatedItemMaster.Description2)))
			 	Description2Updated = true
			else 
				Description2Updated = false 	
		
			if   (Description3 entered)
			 	Description3Updated = true	
			else 
				Description3Updated = false 		
		
			if  (GlobalTradeItemNumber entered
			and ((ContractLine entered
			and  GlobalTradeItemNumber != ContractLine.GlobalTradeItemNumber)	
			or  (ItemExists
			and (GTINForThisItemRel !exists
			or  (GTINForThisItemRel exists
			and  GTINForThisItemDifferentUOMRel exists)))))
			 	GlobalTradeItemNumberUpdated = true	
			else 
				GlobalTradeItemNumberUpdated = false 		
		
			if  (Upc entered
			and	((ContractLine entered
			and  Upc != ContractLine.Upc)	
			or  (ItemExists
			and  UPCForThisItemRel !exists)))	
			 	UpcUpdated = true	
			else 
				UpcUpdated = false 		
		
			if  (HibccUpn entered
			and	((ContractLine entered
			and  HibccUpn != ContractLine.HibccUpn)	
			or  (ItemExists
			and  HibccUpnForThisItemRel !exists)))
			 	HibccUpnUpdated = true	
			else 
				HibccUpnUpdated = false 		
		
			if  (LowUOMCodeHibccUPN entered
			and	((ContractLine entered
			and  LowUOMCodeHibccUPN != ContractLine.LowUOMCodeHibccUPN)	
			or  (ItemExists
			and  LowUOMCodeHibccUpnForThisItemRel !exists)))
			 	LowUOMCodeHibccUPNUpdated = true	
			else 
				LowUOMCodeHibccUPNUpdated = false

			if  (UccEanUpn entered
			and	((ContractLine entered
			and  UccEanUpn != ContractLine.UccEanUpn)	
			or  (ItemExists
			and  UccEanUpnForThisItemRel !exists)))
			 	UccEanUpnUpdated = true	
			else 
				UccEanUpnUpdated = false 		
		
			if  (NdcNbr entered
			and	((ContractLine entered
			and  NdcNbr != ContractLine.NdcNbr)	
			or  (ItemExists
			and  NdcNbrForThisItemRel !exists)))
			 	NdcNbrUpdated = true	
			else 
				NdcNbrUpdated = false 		
		
			if  (UNSPSC entered
			and ((ContractLine entered
			and  UNSPSC != ContractLine.UNSPSCCode)	
			or  (ItemExists
			and  UNSPSC != InternalItemNumber.UNSPSCCode)
			or  (ConsolidatedItemMaster entered)))	
			 	UNSPSCUpdated = true
			else 
				UNSPSCUpdated = false 			
		
			if  (CommodityCode entered)
			 	CommodityCodeUpdated = true	
			else 
				CommodityCodeUpdated = false 		
		
			if  (ChargeNumber entered
			and	((ContractLine entered
			and  ChargeNumber != ContractLine.ChargeNumber)	
			or  (ItemExists
			and  ChargeNumber != InternalItemNumber.ChargeNumber)
			or  (ConsolidatedItemMaster entered)))	
			 	ChargeNumberUpdated = true	
			else 
				ChargeNumberUpdated = false 		
		
			if  (Latex entered
			and	((ContractLine entered
			and  Latex != ContractLine.Latex)	
			or  (ItemExists
			and  Latex != InternalItemNumber.Latex)
			or  (ConsolidatedItemMaster entered)))	
			 	LatexUpdated = true	
			else 
				LatexUpdated = false 		
		
			if  (HCPCSNumber entered
			and ((ContractLine entered
			and  HCPCSNumber != ContractLine.HCPCSCode.HCPCS)	
			or  (ItemExists
			and  HCPCSNumber != InternalItemNumber.HCPCSCode.HCPCS)	
			or  (RemoveHCPCS = true)
			or  (ConsolidatedItemMaster entered)))
			 	HCPCSNumberUpdated = true
			else 
				HCPCSNumberUpdated = false 			
		
			if  (HCPCSSequence entered
			and ((ContractLine entered
			and  HCPCSSequence != ContractLine.HCPCSCode.Sequence)	
			or  (ItemExists
			and  HCPCSSequence != InternalItemNumber.HCPCSCode.Sequence)
			or  (ConsolidatedItemMaster entered)))
			 	HCPCSSequenceUpdated = true	
			else 
				HCPCSSequenceUpdated = false 		
		
			if  (GMDNPTCode entered
			and	((ContractLine entered
			and  GMDNPTCode != ContractLine.GMDNPTCode)	
			or  (ItemExists
			and  GMDNPTCode != InternalItemNumber.GMDNPTCode)
			or  ConsolidatedItemMaster entered))
			 	GMDNPTCodeUpdated = true
			else 
				GMDNPTCodeUpdated = false 			
		
			if  (HazardCode entered
			and ((ContractLine entered
			and  HazardCode != ContractLine.HazardCode)	
			or  (ItemExists
			and  HazardCode != InternalItemNumber.HazardCode)
			or  (ConsolidatedItemMaster entered)))
			 	HazardCodeUpdated = true	
			else 
				HazardCodeUpdated = false 		
		
			if  (LabelerIdentificationCode entered
			and	((ContractLine entered
			and  LabelerIdentificationCode != ContractLine.LabelerIdentificationCode)
			or  (ConsolidatedItemMaster entered)))	
			 	LabelerIdentificationCodeUpdated = true		
			else 
				LabelerIdentificationCodeUpdated = false 
		
			if  (UpdatedManufacturerPartNumber entered)
				ManufacturerNumberUpdated = true 	
			else 
				ManufacturerNumberUpdated = false 
		
			if  (ContractLine entered
			and  UpdatedVendorItem entered
			and  VendorItemIdentifier entered
			and  UpdatedVendorItem != VendorItemIdentifier)	
				VendorItemUpdated = true 
			else 
				VendorItemUpdated = false 

		CheckForSuggestedItem 

			if (LocalTestVendor entered
			and LocalVendor entered
			and LocalTestVendor = LocalVendor
			and LocalTestVendorItem = LocalVendorItem)
				initialize LocalVendor 
				initialize LocalVendorItem 
				initialize LocalUpdatedVendorItem

			if  ((ContractLine entered
			or    ConsolidatedItemMasterAndContractLine)
			and  !ItemExists)

				invoke Create ContractLineSuggestedItem
					invoked.ContractGroup    							= ContractGroup
					if (Contract entered)
						invoked.Contract   		  						= Contract
						invoked.ContractLine   							= ContractLine
					else 
					if (ConsolidatedItemMasterAndContractLine)
						if (LocalVendorItem entered)
							invoked.Contract                            = first ContractLineForVendorAndVendorItemRel.Contract 
							invoked.ContractLine                        = first ContractLineForVendorAndVendorItemRel.ContractLine 	
						else 
							invoked.Contract                            = first ContractLineFromManufacturerInfoRel.Contract 
							invoked.ContractLine                        = first ContractLineFromManufacturerInfoRel.ContractLine 
					if (LocalVendorItem entered)
						invoked.EnteredVendorItem       				= LocalVendorItem
					else 
					if (VendorItemIdentifier entered)
						invoked.EnteredVendorItem                       = VendorItemIdentifier 
					else
						invoked.EnteredVendorItem                       = first ContractLineFromManufacturerInfoRel.ContractLine.VendorItem  
					invoked.EnteredManufacturer.ManufacturerCode 		= ManufacturerCode
					invoked.EnteredManufacturer.ManufacturerDivision 	= ManufacturerDivision
					invoked.EnteredManufacturerNumber   				= ManufacturerPartNumberIdentifier
					if (LocalVendor entered)
						invoked.Vendor                      			= LocalVendor
					else 
					if (ContractLine entered)
						invoked.Vendor                                  = ContractLine.Vendor 
					else 
						invoked.Vendor                                  = first ContractLineFromManufacturerInfoRel.ContractLine.Vendor
					if (UpdatedManufacturer entered
					or  UpdatedManufacturerPartNumber entered)
						LocalManufacturerCode                           = ManufacturerCode 
						LocalManufacturerDivision                       = ManufacturerDivision
						LocalManufacturerPartNumber                     = ManufacturerPartNumberIdentifier
					if (UpdatedManufacturer entered)
						invoked.SuggestedManufacturer                   = UpdatedManufacturer
						LocalManufacturerCode                           = UpdatedManufacturer.ManufacturerCode 
						LocalManufacturerDivision                       = UpdatedManufacturer.ManufacturerDivision
					if (UpdatedManufacturerPartNumber entered)
						invoked.SuggestedManufacturerNumber 			= UpdatedManufacturerPartNumber 
						LocalManufacturerPartNumber                     = UpdatedManufacturerPartNumber
					if (LocalUpdatedVendorItem entered)
						invoked.SuggestedVendorItem                     = LocalUpdatedVendorItem 
					if  (LocalUpdatedVendorItem entered 
					and (UpdatedManufacturerPartNumber entered
					or   UpdatedManufacturer entered))
						invoked.MessageNumber                           = 10
					else 
					if (LocalUpdatedVendorItem entered)
						invoked.MessageNumber               			= 7		
					else 
					if (UpdatedManufacturerPartNumber entered
					or  UpdatedManufacturer entered)
						invoked.MessageNumber                           = 6	
					if (LocalUpdatedVendorItem entered
					and	UpdatedVendorItemRel exists)
						invoked.SuggestedItem		                    = first UpdatedVendorItemRel.Item	
						invoked.MessageNumber                           = 8
					else 
					if ((UpdatedManufacturerPartNumber entered
					or  UpdatedManufacturer entered)
					and	UpdatedVendorItemFromManufacturerRel exists)
						invoked.SuggestedItem                           = first UpdatedVendorItemFromManufacturerRel.Item
						invoked.MessageNumber                           = 9
					else 
					if ((UpdatedManufacturerPartNumber entered
					or  UpdatedManufacturer entered)
					and InternalItemByManufacturerRel exists)
						invoked.SuggestedItem                           = first InternalItemByManufacturerRel.Item 
						invoked.MessageNumber                           = 11

			else 
			if  (ItemExists
			and  LocalUpdatedVendorItem entered)
				invoke ReplaceAndInactivate LocalVendorItemRel.VendorItem 
					invoked.PrmProcurementGroup		            = ContractGroup			
					invoked.PrmReplacementVendorItem			= LocalUpdatedVendorItem
					if (LocalUpdatedVendorItemRel exists)
						invoked.ReplaceWithNewOrExistingItem    = 2
					else 
						invoked.ReplaceWithNewOrExistingItem    = 1

			LocalTestVendorItem = LocalVendorItem 
			LocalTestVendor     = LocalVendor 
			initialize LocalVendorItem 
			initialize LocalVendor 
			initialize LocalUpdatedVendorItem			

		HandleUOMConsolidatedErrors

			if (LocalGTIN entered)
				LocalEditGTIN = LocalGTIN
				if (LocalGTINForOtherItemRel exists  
				and InternalItemNumber entered
				and first LocalGTINForOtherItemRel.Item != InternalItemNumber)

					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 115
						invoked.ErrorItem          = LocalGTINForOtherItemRel.Item 
						invoked.ErrorCode1         = LocalEditGTIN 		
					ErrorsExist = true 	

				if (LocalGTINForOtherItemRel exists
				and	ContractLine entered
				and first LocalGTINForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 116
						invoked.ErrorCode1         = LocalGTINForOtherItemRel.UnitOfMeasure
						invoked.ErrorCode2         = LocalEditGTIN
					ErrorsExist = true  

				initialize GTINCheckDigit
				GTINCheckDigit.ItemGTIN		= LocalEditGTIN 
				LocalValidCheckDigit        = GTINCheckDigit.ValidCheckDigit
				if (LocalValidCheckDigit = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 117
						invoked.ErrorCode1         = LocalEditGTIN
					ErrorsExist = true 			
				initialize LocalEditGTIN
			
			if (LocalNonDefaultGTIN entered)
				LocalEditGTIN = LocalNonDefaultGTIN
				if (LocalGTINForOtherItemRel exists  
				and InternalItemNumber entered)

					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 115
						invoked.ErrorItem          = LocalGTINForOtherItemRel.Item 
						invoked.ErrorCode1         = LocalEditGTIN 		
					ErrorsExist = true 	

				if (LocalGTINForOtherItemRel exists
				and	ContractLine entered
				and first LocalGTINForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 116
						invoked.ErrorCode1         = LocalGTINForOtherItemRel.UnitOfMeasure
						invoked.ErrorCode2         = LocalEditGTIN
					ErrorsExist = true  

				initialize GTINCheckDigit
				GTINCheckDigit.ItemGTIN		= LocalEditGTIN 
				LocalValidCheckDigit        = GTINCheckDigit.ValidCheckDigit
				if (LocalValidCheckDigit = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 117
						invoked.ErrorCode1         = LocalEditGTIN
					ErrorsExist = true 	
				initialize LocalEditGTIN		

			if (LocalNonDefaultGTIN2 entered)
				LocalEditGTIN = LocalNonDefaultGTIN2
				if (LocalGTINForOtherItemRel exists  
				and InternalItemNumber entered)

					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 115
						invoked.ErrorItem          = LocalGTINForOtherItemRel.Item 
						invoked.ErrorCode1         = LocalEditGTIN 		
					ErrorsExist = true 	

				if (LocalGTINForOtherItemRel exists
				and	ContractLine entered
				and first LocalGTINForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 116
						invoked.ErrorCode1         = LocalGTINForOtherItemRel.UnitOfMeasure
						invoked.ErrorCode2         = LocalEditGTIN
					ErrorsExist = true   

				initialize GTINCheckDigit
				GTINCheckDigit.ItemGTIN		= LocalEditGTIN 
				LocalValidCheckDigit        = GTINCheckDigit.ValidCheckDigit
				if (LocalValidCheckDigit = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 117
						invoked.ErrorCode1         = LocalEditGTIN
					ErrorsExist = true 		
				initialize LocalEditGTIN	

			if (LocalNonDefaultGTIN3 entered)
				LocalEditGTIN = LocalNonDefaultGTIN3
				if (LocalGTINForOtherItemRel exists  
				and InternalItemNumber entered)

					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 115
						invoked.ErrorItem          = LocalGTINForOtherItemRel.Item 
						invoked.ErrorCode1         = LocalEditGTIN 		
					ErrorsExist = true 	

				if (LocalGTINForOtherItemRel exists
				and	ContractLine entered
				and first LocalGTINForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 116
						invoked.ErrorCode1         = LocalGTINForOtherItemRel.UnitOfMeasure
						invoked.ErrorCode2         = LocalEditGTIN
					ErrorsExist = true  
				initialize GTINCheckDigit
				GTINCheckDigit.ItemGTIN		= LocalEditGTIN 
				LocalValidCheckDigit        = GTINCheckDigit.ValidCheckDigit
				if (LocalValidCheckDigit = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 117
						invoked.ErrorCode1         = LocalGTIN
					ErrorsExist = true 		
				initialize LocalEditGTIN	

			if (LocalNonDefaultGTIN4 entered)
				LocalEditGTIN = LocalNonDefaultGTIN4
				if (LocalGTINForOtherItemRel exists  
				and InternalItemNumber entered)

					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 115
						invoked.ErrorItem          = LocalGTINForOtherItemRel.Item 
						invoked.ErrorCode1         = LocalEditGTIN 		
					ErrorsExist = true 	

				if (LocalGTINForOtherItemRel exists
				and	ContractLine entered
				and first LocalGTINForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 116
						invoked.ErrorCode1         = LocalGTINForOtherItemRel.UnitOfMeasure
						invoked.ErrorCode2         = LocalEditGTIN
					ErrorsExist = true  

				initialize GTINCheckDigit
				GTINCheckDigit.ItemGTIN		= LocalEditGTIN 
				LocalValidCheckDigit        = GTINCheckDigit.ValidCheckDigit
				if (LocalValidCheckDigit = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 117
						invoked.ErrorCode1         = LocalEditGTIN
					ErrorsExist = true 		
				initialize LocalEditGTIN	

			if (LocalNonDefaultGTIN5 entered)
				LocalEditGTIN = LocalNonDefaultGTIN5
				if (LocalGTINForOtherItemRel exists  
				and InternalItemNumber entered)

					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 115
						invoked.ErrorItem          = LocalGTINForOtherItemRel.Item 
						invoked.ErrorCode1         = LocalEditGTIN 		
					ErrorsExist = true 	

				if (LocalGTINForOtherItemRel exists
				and	ContractLine entered
				and first LocalGTINForOtherItemRel.UnitOfMeasure != ContractLine.UOM.UnitOfMeasure)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 116
						invoked.ErrorCode1         = LocalGTINForOtherItemRel.UnitOfMeasure
						invoked.ErrorCode2         = LocalEditGTIN
					ErrorsExist = true  

				initialize GTINCheckDigit
				GTINCheckDigit.ItemGTIN		= LocalEditGTIN 
				LocalValidCheckDigit        = GTINCheckDigit.ValidCheckDigit
				if (LocalValidCheckDigit = false)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 117
						invoked.ErrorCode1         = LocalEditGTIN
					ErrorsExist = true 		
				initialize LocalEditGTIN	

			if (LocalUPN entered
			and LocalUccEanUpnForOtherItemRel exists)
				if (InternalItemNumber entered
				and LocalUccEanUpnForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 109
						invoked.ErrorItem          = LocalUccEanUpnForOtherItemRel.Item 				

			if (LocalHIBCCDI entered
			and LocalHibccUpnForOtherItemRel exists)
				if (InternalItemNumber entered
				and LocalHibccUpnForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 111
						invoked.ErrorItem          = LocalHibccUpnForOtherItemRel.Item 	

			if (LocalNDC entered
			and LocalNdcNbrForOtherItemRel exists)
				if (InternalItemNumber entered
				and LocalNdcNbrForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 107
						invoked.ErrorItem          = LocalNdcNbrForOtherItemRel.Item 	

			if (LocalUPC entered
			and LocalUPCForOtherItemRel exists)
				if (InternalItemNumber entered
				and LocalUPCForOtherItemRel.Item != InternalItemNumber)
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 100
						invoked.ErrorItem          = LocalUPCForOtherItemRel.Item 

			if ((LocalNonDefaultGTIN2 entered
			and  LocalNonDefaultGTIN !entered)
			or  (LocalNonDefaultGTIN3 entered
			and  LocalNonDefaultGTIN2 !entered)
			or  (LocalNonDefaultGTIN4 entered
			and  LocalNonDefaultGTIN3 !entered)
			or  (LocalNonDefaultGTIN5 entered
			and  LocalNonDefaultGTIN4 !entered))
				invoke Create ContractLineAttributeError set 
					invoked.ErrorMessageNumber = 147

			if (LocalGTIN entered)
				if ((LocalNonDefaultGTIN entered
				and	 LocalNonDefaultGTIN = LocalGTIN)
				or  (LocalNonDefaultGTIN2 entered 
				and  LocalNonDefaultGTIN2 = LocalGTIN) 
				or  (LocalNonDefaultGTIN3 entered 
				and  LocalNonDefaultGTIN3 = LocalGTIN) 
				or  (LocalNonDefaultGTIN4 entered  
				and  LocalNonDefaultGTIN4 = LocalGTIN) 
				or  (LocalNonDefaultGTIN5 entered
				and  LocalNonDefaultGTIN5 = LocalGTIN)) 
					invoke Create ContractLineAttributeError set 
						invoked.ErrorMessageNumber = 148
			

			if (LocalNonDefaultGTIN entered)
				if (InternalItemNumber !entered)
					if (ContractLineForUOMDetails exists)
						if (first ContractLineForUOMDetails.GlobalTradeItemNumber !entered
						and LocalGTIN !entered)
							invoke Create ContractLineAttributeError set 
								invoked.ErrorMessageNumber = 145
				if (InternalItemNumber entered) 
					if (GTINForLocalUOMRel !exists
					and LocalGTIN !entered)
						invoke Create ContractLineAttributeError set 
							invoked.ErrorMessageNumber = 146							

		HandleUOMDetails 

			if (!ErrorsExist)
				if (ItemExists
				and LocalUOM entered
				and LocalItemUOMRel exists)
					invoke UpdateAttributes InternalItemNumber 
						invoked.ParmUOM                             = LocalUOM
						invoked.ParmGlobalTradeItemNumber			= LocalGTIN 
						invoked.ParmNonDefaultGTIN					= LocalNonDefaultGTIN 
						invoked.ParmNonDefaultGTIN2					= LocalNonDefaultGTIN2 
						invoked.ParmNonDefaultGTIN3					= LocalNonDefaultGTIN3 
						invoked.ParmNonDefaultGTIN4					= LocalNonDefaultGTIN4 
						invoked.ParmNonDefaultGTIN5					= LocalNonDefaultGTIN5 																								
						if (LocalGTIN entered
						or  LocalNonDefaultGTIN entered
						or  LocalNonDefaultGTIN2 entered 
						or  LocalNonDefaultGTIN3 entered
						or  LocalNonDefaultGTIN4 entered
						or  LocalNonDefaultGTIN5 entered)
							if (UpdatedManufacturerPartNumber entered)
								invoked.ParmManufacturerNumberForGTIN 	= UpdatedManufacturerPartNumber
							else 
								invoked.ParmManufacturerNumberForGTIN	= InternalItemNumber.ManufacturerNumber 
							if (UpdatedManufacturer entered)
								invoked.ParmManufacturerForGTIN     	= UpdatedManufacturer
							else 
								invoked.ParmManufacturerForGTIN         = InternalItemNumber.Manufacturer
						if (LocalUPCForThisItemRel !exists)
							invoked.ParmUpc								= LocalUPC					
						if (LocalHibccUpnForThisItemRel !exists)
							invoked.ParmHibccUpn						= LocalHIBCCDI      

						if (LocalUccEanUpnForThisItemRel !exists)
							invoked.ParmUccEanUpn						= LocalUPN			
						if (LocalNdcNbrForThisItemRel !exists)
							invoked.ParmNdcNbr							= LocalNDC 	

				else
				if  (!ItemExists

				and (ContractLineForUOMDetails exists
				or ((LocalGTIN entered
				or   LocalHIBCCDI entered)
				and  ContractLineForLowUOMCodeDetails exists)))
					if (ContractLineForUOMDetails exists)
						invoke UpdateAttributes first ContractLineForUOMDetails 
							invoked.ParmGlobalTradeItemNumber  	= LocalGTIN     
							invoked.ParmUpc                   	= LocalUPC    
							invoked.ParmHibccUpn              	= LocalHIBCCDI  
							invoked.ParmUccEanUpn               = LocalUPN    
							invoked.ParmNdcNbr                  = LocalNDC    								 
					if  (ContractLineForLowUOMCodeDetails exists
					and (LocalGTIN entered
					or   LocalHIBCCDI entered))
						invoke UpdateAttributes first ContractLineForLowUOMCodeDetails
							invoked.ParmLowUOMCodeGTIN          = LocalGTIN 
							invoked.ParmLowUOMCodeHibccUPN 		= LocalHIBCCDI		
					if (LocalNonDefaultGTIN entered
					or  LocalNonDefaultGTIN2 entered 
					or  LocalNonDefaultGTIN3 entered
					or  LocalNonDefaultGTIN4 entered 
					or  LocalNonDefaultGTIN5 entered)
						invoke UpdateUOMDetails ConsolidatedItemMaster 
							invoked.ParmUOM             	= LocalUOM
							invoked.ParmNonDefaultGTIN      = LocalNonDefaultGTIN
							invoked.ParmNonDefaultGTIN2     = LocalNonDefaultGTIN2
							invoked.ParmNonDefaultGTIN3     = LocalNonDefaultGTIN3
							invoked.ParmNonDefaultGTIN4     = LocalNonDefaultGTIN4
							invoked.ParmNonDefaultGTIN5     = LocalNonDefaultGTIN5														
							invoked.ParmAdditionalGTIN      = true						
				else 
					invoke UpdateUOMDetails ConsolidatedItemMaster 
						invoked.ParmUnitOfUse           = LocalUnitOfUse 
						invoked.ParmUOM             	= LocalUOM
						invoked.ParmUOMConversion       = LocalUOMConversion
						invoked.ParmGTIN                = LocalGTIN 
						invoked.ParmNonDefaultGTIN      = LocalNonDefaultGTIN
						invoked.ParmNonDefaultGTIN2     = LocalNonDefaultGTIN2
						invoked.ParmNonDefaultGTIN3     = LocalNonDefaultGTIN3
						invoked.ParmNonDefaultGTIN4     = LocalNonDefaultGTIN4
						invoked.ParmNonDefaultGTIN5     = LocalNonDefaultGTIN5		
						invoked.ParmHIBCCDI         	= LocalHIBCCDI
						invoked.ParmItemUPC         	= LocalUPC 
						invoked.ParmUCCEANItemUPN   	= LocalUPN      
						invoked.ParmNationalDrugCode 	= LocalNDC

	Actions
	 	Create is a Create Action 

			Action Rules 
				include FindIdentifiers

			Exit Rules 
				if (AllFieldsTheSameForConsolidated)
					invoke Purge 
				include MarkAsUpdated
				
				include CheckForErrors

				if (ContractLine entered
				and !ItemExists
				and ContractGroup.AutoUpdateAttributesGHXOrOther
				and ContractGroup.UseConsolidatedItemMasterForAttributeUpdate = false)
					LocalFromCreate = true
					include FindAdditionalContractLines

		ExternalCreate is a Create Action
			restricted
			
			Action Rules
				
				include FindIdentifiers
			
			Exit Rules 
				if (AllFieldsTheSameForConsolidated)
					invoke Purge 
					
				include MarkAsUpdated
				
				include CheckForErrors

				if (ContractLine entered
				and !ItemExists
				and ContractGroup.AutoUpdateAttributesGHXOrOther
				and ContractGroup.UseConsolidatedItemMasterForAttributeUpdate = false)
					LocalFromExternalCreate = true
					include FindAdditionalContractLines

		Update is an Update Action
			valid when (AvailableToProcess)
	 		Action Rules
			
				include FindIdentifiers

	 		Exit Rules
				
	 			include MarkAsUpdated
			
				include CheckForErrors

	 	Delete is a Delete Action
			restricted
			
	 	Purge is a Purge Action

	 	RecheckErrors is an Instance Action
	 		valid when (ErrorsExist)
			Action Rules
	 			include CheckForErrors
				
	 	UpdateAttributesFromContractLineCreate is an Instance Action 
			restricted 
			Parameters 
				ParmContract		is a Contract 
				ParmContractLine    is a ContractLine 
			
			Action Rules 

				if (Contract !entered)
					Contract 		= ParmContract 
					ContractLine	= ParmContractLine 
					include FindIdentifiers
					invoke UpdateAttributesInstance

				else
				if (Contract entered)
					invoke ExternalCreate
						invoked.Contract				= ParmContract 
						invoked.ContractLine    		= ParmContractLine 
						invoked.OriginalRecord  		= ContractLineAttributeUpdate
						invoked.Status          		= 0
						invoked.VendorItemIdentifier	= ParmContractLine.VendorItem 
						invoked.InternalSupplier    	= ParmContract.Supplier 
						fill in fields from this instance 	
							except invoked.ContractLineAttributeUpdate
							except invoked.ExternalContractNumber
							except invoked.InternalItemNumber
							except invoked.ManufacturerID
							except invoked.VendorID

					invoke UpdateAttributesInstance	

		UpdateAttributesInstance is an Instance Action 
			valid when (CanUpdateAttributes)
			default label is "UpdateAttributes"
			Action Rules
		
				if (UNSPSC entered
				and UNSPSCExistsRel !exists
				and ContractGroup.AutoAddUNSPSCCode) 
					if (!UNSPSCSegmentExistsRel exists)
						invoke Create UNSPSCCode
							invoked.ItemGroup					= ContractGroup 
							invoked.UNSPSCCode.UNSPSCSegment  	= UNSPSC[1:2]
							if (UNSPSCSegmentTitle entered)
								invoked.ShortDescription        = UNSPSCSegmentTitle
							else 
								invoked.ShortDescription        = "From_Attribute_Update"
							if (UNSPSCSegmentDefinition entered)
								invoked.LongDescription         = UNSPSCSegmentDefinition
					if (!UNSPSCFamilyExistsRel exists)
						invoke Create UNSPSCCode
							invoked.ItemGroup					= ContractGroup 
							invoked.UNSPSCCode.UNSPSCSegment  	= UNSPSC[1:2]
							invoked.UNSPSCCode.UNSPSCFamily   	= UNSPSC[3:4]
							if (UNSPSCFamilyTitle entered)
								invoked.ShortDescription        = UNSPSCFamilyTitle
							else 
								invoked.ShortDescription        = "From_Attribute_Update"
							if (UNSPSCFamilyDefinition entered)
								invoked.LongDescription         = UNSPSCFamilyDefinition
					if (!UNSPSCClassExistsRel exists)
						invoke Create UNSPSCCode
							invoked.ItemGroup					= ContractGroup 
							invoked.UNSPSCCode.UNSPSCSegment  	= UNSPSC[1:2]
							invoked.UNSPSCCode.UNSPSCFamily   	= UNSPSC[3:4]
							invoked.UNSPSCCode.UNSPSCClass    	= UNSPSC[5:6]
							if (UNSPSCClassTitle entered)
								invoked.ShortDescription        = UNSPSCClassTitle
							else 
								invoked.ShortDescription        = "From_Attribute_Update"
							if (UNSPSCClassDefinition entered)
								invoked.LongDescription         = UNSPSCClassDefinition
					invoke Create UNSPSCCode
						invoked.ItemGroup					= ContractGroup 
						invoked.UNSPSCCode.UNSPSCSegment  	= UNSPSC[1:2]
						invoked.UNSPSCCode.UNSPSCFamily   	= UNSPSC[3:4]
						invoked.UNSPSCCode.UNSPSCClass    	= UNSPSC[5:6]
						invoked.UNSPSCCode.UNSPSCCommodity 	= UNSPSC[7:8]
						if (UNSPSCCommodityTitle entered)
							invoked.ShortDescription        = UNSPSCCommodityTitle
						else 
							invoked.ShortDescription        = "From_Attribute_Update"
						if (UNSPSCCommodityDefinition entered)
							invoked.LongDescription         = UNSPSCCommodityDefinition				
				
				include CheckForErrors

				if (ContractLineAttributeUpdateUOM.UOMDetails2 entered
				and !ErrorsExist)
					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[1].UCCEANItemUPN
				
						include HandleUOMDetails
					
					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[2].UCCEANItemUPN
				
						include HandleUOMDetails

					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[3].UCCEANItemUPN
				
						include HandleUOMDetails

					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[4].UCCEANItemUPN
				
						include HandleUOMDetails

					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[5].UCCEANItemUPN
			
						include HandleUOMDetails

					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[6].UCCEANItemUPN

						include HandleUOMDetails

					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[7].UCCEANItemUPN
				
						include HandleUOMDetails																					

					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[8].UCCEANItemUPN
				
						include HandleUOMDetails

					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[9].UCCEANItemUPN
				
						include HandleUOMDetails

					if (ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10] entered)
						LocalUOM 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfMeasure
						LocalUnitOfUse      = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UnitOfUse 
						LocalUOMConversion  = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UOMConversion 
						LocalGTIN 			= ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].ItemGTIN 
						LocalNonDefaultGTIN = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NonDefaultGTIN
						LocalHIBCCDI        = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].HIBCCItemUPN
						LocalNDC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].NationalDrugCode 
						LocalUPC            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].ItemUPC
						LocalUPN            = ContractLineAttributeUpdateUOM.UOMDetails2.UOMDetailsOccurs2[10].UCCEANItemUPN
				
						include HandleUOMDetails								

				if (!ErrorsExist)
					if ((ManufacturerNumberUpdated 
					or   VendorItemUpdated
					or   ConsolidatedVendorItemOccurs entered
					or   UpdatedManufacturer entered)
					and !ItemExists 
					and ((ContractLine entered
					and !IsAnOtherContractLine)
					or   ConsolidatedItemMasterAndContractLine))
						confirmation required 
							"VendorItemOrManufacturerOrManufacturerNumberChangeSuggestedForASpecialItem;MayNeedToBeReviewedIn_Suggested_Line_Changes"

					if  (UpdatedVendorItemEntered
					and  ContractLine !entered
					and !ConsolidatedItemMasterAndContractLine
					and  AttributesUpdatedNotVendorItem)
						confirmation required 
							"NoContractLineEnteredAndUpdatedVendorItemEnteredAndOtherAttributesEntered;OtherAttributesWillBeUpdatedButNotVendorItem"

					if (ItemExists
					and AttributesUpdatedNotVendorItem)
						include UpdateItemAttributes

					if (AttributesUpdatedForContractLine 
					and !ItemExists)
						include UpdateContractLineAttributes

					if (UpdatedVendorItem entered)
						LocalVendor                             = Contract.Vendor 
						LocalUpdatedVendorItem                  = UpdatedVendorItem 
						LocalVendorItem                         = VendorItemIdentifier
						include CheckForSuggestedItem 
				
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[1].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[2].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[3].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[4].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[5].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[6].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[7].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[8].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[9].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[10].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[11].UpdatedVendorItem
						include CheckForSuggestedItem																																																						
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[12].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[13].UpdatedVendorItem
						include CheckForSuggestedItem			
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[14].UpdatedVendorItem
						include CheckForSuggestedItem
					if (ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem entered)
						LocalVendor 			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].Vendor
						LocalVendorItem			= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].VendorItem
						LocalUpdatedVendorItem	= ConsolidatedVendorItemOccurs.ConsolidatedVendorItemDetails[15].UpdatedVendorItem
						include CheckForSuggestedItem									
					if ((UpdatedManufacturer entered
					or   UpdatedManufacturerPartNumber entered)
					and  LocalUpdatedVendorItem !entered
					and !ItemExists
					and (ContractLine entered
					or   ConsolidatedItemMasterAndContractLine))
						include CheckForSuggestedItem
					


					Status = Status.Processed
					UpdateDate = current date

		UpdateAttributes is a Set Action
			default label is "UpdateAttributesForAllRecords"
			Parameters
				ParmContractGroup								is a ContractGroup
					default label is "ContractGroup"
				ParmSetToNotProcessed							is Boolean
					default label is "SetRecordsWhichCannotBeFixedToNotProcessed"
				ParmVendorManufacturerChangesImmediately		is Boolean
					default label is "ImmediatelyProcessAnyVendorItemOrManufacturerInformationChangesForSpecialItemsWhichWillNotChangeTheContractLineToItemmast"
			Parameter Rules 
				ParmContractGroup 
					required

				ParmSetToNotProcessed 
					initial value is true

				ParmVendorManufacturerChangesImmediately
					initial value is true 	

			Sort Order
				ContractGroup
				Contract
				ContractLine
				InternalItemNumber

			Instance Selection
				where (ContractGroup = ParmContractGroup
				and    Status = Status.Created)

			Action Rules
				
				ContractGroup Set Rules 
					Exit Rules 
						if (ParmVendorManufacturerChangesImmediately)
							invoke AcceptAllNonItemMasterChanges ContractLineSuggestedItem 
								invoked.ParmContractGroup = ContractGroup 

				Instance Rules

					if (ErrorsExist = false)
						invoke UpdateAttributesInstance

					if (ParmSetToNotProcessed)
						if (NonFixableErrorsExist)
							invoke SetToNotProcessed
		
		SetToNotProcessed is an Instance Action 
			valid when (CanSetToNotProcessed)

			Action Rules 

				Status = Status.NotProcessed 
				UpdateDate = current date 

		ChangeItemNumberForGTIN is an Instance Action 
			valid when (HasGTINForOtherItem)	
			Action Rules 

				for each ErrorGTINForOtherItemRel
					LocalEditGTIN       = each.ErrorCode1 
					invoke Update first LocalGTINForOtherItemRel  
						invoked.Active = false  

					invoke Purge each 

				if (!HasAttributeErrors)
					invoke UpdateAttributesInstance 	

		PurgeAttributeUpdateRecords is a Set Action 
			Parameters 
				ParmContractGroup	is a ContractGroup 
				ParmDate            is Date 
					default label is "PurgeRecordsUpdatedBeforeThisDate"
				ParmStatus          is Numeric 1
					default label is "PurgeRecordsWithThisStatus"
					States
						BothProcessedAndNotProcessed    	value is 1
						NotProcessed                       	value is 2
						Processed                          	value is 3

			Parameter Rules 
				ParmContractGroup 
					required 
				ParmDate 
					required 
				ParmStatus
					required

			Instance Selection 
				where (ParmContractGroup	= ContractGroup
				and    Status > 0)    

			Action Rules 

				Instance Rules 
					if (ParmDate > UpdateDate)
						if (ParmStatus = 1
						or  ParmStatus = 3)
							if (Status = 1)
								invoke Purge
						if (ParmStatus = 1
						or  ParmStatus = 2)
							if (Status = 2)
								invoke Purge 
					
