BirstSpace is a BusinessClass
	owned by la 
	prefix is BRSPC

	Ontology
		symbolic key is BirstSpace

	Patterns
		disable AsOfDateProcessing

	Persistent Fields
		SpaceName				is Alpha size 60
		AvailableForIntegration	is Boolean
		OwnerUsername			is Alpha size 60

	Local Fields
		LocalBirstSpace					is Alpha 50
		LocalSpaceName					is Alpha 60
		LocalOwnerUsername				is Alpha 60	
		LocalAvailableForIntegration	is Boolean
		LocalRequiredBirstFieldsEntered	is Boolean

	Actions
		Create is an Action
		Update is an Action			
		Delete is an Action
		Purge is a Purge Action

		CreateNewBirstSpace is an Instance Action
			confirmation required

			Entrance Rules


			Action Rules			
				if (LocalRequiredBirstFieldsEntered)
					invoke CreateBirstSpaceRecord
						
		CreateBirstSpaceRecord is an Instance Action
			restricted
			Action Rules
				if (!LocalBirstSpaceRel exists)
					invoke Create BirstSpace
						invoked.BirstSpace				= LocalBirstSpace
						invoked.SpaceName				= LocalSpaceName
						invoked.AvailableForIntegration	= LocalAvailableForIntegration
						invoked.OwnerUsername			= LocalOwnerUsername

	Sets
		ByAvailableForIntegration
			Sort Order
				AvailableForIntegration
				SpaceName
				OwnerUsername
				BirstSpace

	Relations
		LocalBirstSpaceRel
			one-to-one relation to BirstSpace
			Field Mapping uses symbolic key
				related.BirstSpace		= LocalBirstSpace
