AM117Am117sort is a BusinessClass
    owned by am
    prefix is W3012

    Patterns
        disable StaticTranslations
        implements WorkFile

    Persistent Fields
        WorkFile                is UniqueID
        WorkFileSeq             is Numeric size 12
        AmiCompany              is like Company			
        AmiSeqNumber            is like Sequence		
        AmiAssetTemplate        is like AssetTemplate	
        AmiVendor               is like Vendor
        AmiInvoice              is like Invoice			
        AmiSuffix               is like Suffix			
        AmiPayablesInvoice		is like PayablesInvoice
        AmiDistSeqNbr           is like DistributionSequence	
        AmiActivity             is like Project				
        AmiSystem               is like GeneralLedgerSystemCode 			
        AmiItemQuantity         is like ItemQuantity	
        AmiTagNbr               is like TagNumber		
        AmiAssetGroup           is like AssetGroup		
        AmiAssetDesc            is like Description		
        AmiPurchaseDate         is Date					
        AmiInsrvDate            is Date					
        AmiAcctUnit             is like FinanceCodeBlockNoAccountFull
        AmiAuGroup              is like AssetAccountingUnitGroup	
        AmiDepExpActvty         is like Project 
        AmiCombine              is like Combine			
        AmiItemNbr              is like AssetItemNumber		
        AmiDescription          is like Description		
        AmiItemCostBase         is like InternationalAmount
        AmiItemTaxBase          is like InternationalAmount
        AmiItemCostTran         is like InternationalAmount
        AmiItemTaxTran          is like InternationalAmount
        AmiBaseNd               is like BaseNumberOfDecimals	
        AmiTranNd               is like NumberOfDecimals		
        AmiCurrencyCode         is like Currency				
        AmiPoNbr                is like PurchaseOrder
        PoLine					is like PurchaseOrderLine   
        AmiPoRelease            is like PORelease		
        AmiPoCode               is like POCode		
        AmiModelNumber          is like ModelNumber		
        AmiSerialNumber         is like SerialNumber	
        AmiHoldAm               is Boolean
        AmiCreationDate         is TimeStamp					
        AmiCreatorId            is like Operator 
        	holds pii
        AmiAssetCategory        is like AssetCategory	
        AmiLocationName         is like AssetLocation 
        AmiDivision             is like AssetDivision	 
        AmiAssetType            is like AssetSubType	
        AmiSubType              is like AssetSubType	
        AmiAcctGrp              is like AssetAccountGroup	
        AmiWorkInProc           is Boolean
        AmiSimulated            is Boolean
        AmiTaxExempt            is like TaxExemptCode	
        AmiUsed                 is Boolean
        AmiBarCode              is like AssetBarCode			
        AmiItemType             is like ItemType		
        AmiProdCatCode          is Alpha size up to 30  
        AmiAssetBarCode         is like AssetBarCode			
        AmiItemLocDtl           is like AssetLocationDetail		
        AmiInvCompany           is like Company			
        AmiGrant                is Alpha size up to 30
        WsLocationName          is like AssetLocation 
        WsDivision              is like AssetDivision	 
        WsAssetType             is like AssetSubType	
        WsSubType               is like AssetSubType	
        ErrorNbr                is like ErrorNumber		
        OriginalRec             is Alpha size 1
        OriginatingAssetInterfaceOptions	is like AssetInterfaceOptions
        OriginatingAssetInterface	is like Sequence    

    Sets

        InsertionOrderSet
            indexed
            no duplicates
            primary
            Sort Order
                WorkFile
                WorkFileSeq

        AM117Am117sortAM117Sort1
            indexed
            duplicates
            Sort Order
                WorkFile
                ErrorNbr
                AmiCompany
                AmiAssetTemplate
                WsLocationName
                WsDivision
                WsAssetType
                WsSubType
                AmiSeqNumber

    Actions

        Create is a Create Action

            Field Rules
                WorkFileSeq
                    autosequence

        Delete is a Delete Action

        DeleteAll is a Set Action
            restricted

            Parameters
                WorkFileHeader is UniqueID

            Instance Selection
                where (WorkFile = WorkFileHeader)

            Local Fields
                LWorkFileHeader is a WorkFile

            Parameter Rules
                WorkFileHeader
                    required
                    LWorkFileHeader = WorkFileHeader

            Action Rules
                Instance Rules
                    invoke Delete

                Empty Set Rules
                    invoke Purge LWorkFileHeader

                Set Rules
                    Exit Rules
                        invoke Purge LWorkFileHeader
