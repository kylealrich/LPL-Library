PfiFileActivityConnection is a BusinessClass
    owned by pfi
    prefix is PfiFA
	contains environment data
	disable data area copy
		preserve target data
    default label is "FileActivityConnection"

    Ontology
        symbolic key is PfiFileActivityConnection

    Patterns
        implements CRUD
        implements LightweightAuditing
        disable AuditIndex
        disable AsOfDateProcessing
        disable EffectiveDated
        implements DynamicCreation

    Persistent Fields

        WebRoot     is Alpha size up to 1000
            default label is "LSF Web/RMI Root"
        User        is Alpha size 100
            default label is "Web user"
        Password    is Password
            default label is "Web password"
        Timeout     is Numeric size 6
            default label is "RMI timeout"
        LawDir      is Alpha size up to 1000
            default label is untranslatable:"LAWDIR"
        GenDir      is Alpha size up to 1000
            default label is untranslatable:"GENDIR"
        FileSystem	is Numeric size 1
        	States
        		Local	 value is 1
        		LSF		 value is 2
        		AmazonS3 value is 3
        			default label is "AmazonS\3"
        
		BucketName	is Alpha size up to 100
		AccessKey is Alpha size up to 200
		SecretKey is Password
		ConnectionTimeout is Numeric size 3
			default label is "ConnectionTimeout in seconds"
		RequestTimeout is Numeric size 3
			default label is "RequestTimeout in minutes"
		SocketTimeout is Numeric size 3
			default label is "SocketTimeout in minutes"
		RetryCount is Numeric size 2
		RetryWaitTime is Numeric size 3
			default label is "RetryWaitTime in seconds"
		MultiPartUpload is Boolean
			default label is "EnableMultipartTransfer"
        Region is Alpha size up to 50
        WriteStorageClass is Numeric size 1
        	default label is "WriteModeStorageClass"
        	States
        		Standard	value is 1
        		StandardInfrequentAccess	value is 2
        		ReducedRedundancy	value is 3
        		Glacier value is 4
        		
    Field Rules
    
        WebRoot
            constraint (WebRoot[1:7] = "http://" or WebRoot[1:8] = "https://")
                        "InvalidProtocolSpecified"
		FileSystem
			default to FileSystem.Local
			initial value is FileSystem.Local
		WriteStorageClass
			default to 1
			initial value is 1
		BucketName
			if (FileSystem.AmazonS3)
				required
		AccessKey
			if (FileSystem.AmazonS3)
				required
		SecretKey
			if (FileSystem.AmazonS3)
				required
				
		ConnectionTimeout
            default to 120
            initial value is 120
            
        RequestTimeout
            default to 60
            initial value is 60
            
        SocketTimeout
            default to 2
            initial value is 2       		
	Actions
		Create is a Create Action
		
		Update is an Update Action
		
		Delete is a Delete Action
		
		TestConnection is an Instance Action
