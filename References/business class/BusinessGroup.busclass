BusinessGroup is a BusinessClass
	owned by GeneralLedger
	prefix is BUSGP
	representative text is "<Description>_(<BusinessGroup>)"

	Ontology
		symbolic key is BusinessGroup

	Patterns
		implements StaticJava


	Persistent Fields
		Description
		FinanceEnterpriseGroup
		LegacyItemGroup			is AlphaUpper 5		
		LegacyVendorGroup		is AlphaUpper 4		
		LegacyProcurementGroup	is AlphaUpper 4		
		UseHSNSACCode			is Boolean
			default label is "UseHSN_/SACCode"

	Derived Fields
		RepresentativeText is a StringField
			type is Text
			default label is "BusinessGroup"
			BusinessGroup " - " Description

	Conditions
		FEGMatchesContext
			restricted
			when (FinanceEnterpriseGroup = actor.context.FinanceEnterpriseGroup)

	Relations
		ContextPropertyRel
			one-to-one relation to ContextProperty
			Field Mapping uses ByKeyField
				related.KeyField = "BusinessGroup"
				related.DataArea = parentcontext.dataarea

		ActorContextRel
			one-to-many relation to ActorContext
			Field Mapping uses symbolic key
			Instance Selection
				where (related.ContextProperty = ContextPropertyRel.ContextProperty
				and    related.Value 		   = BusinessGroup)

		GeneralLedgerCompaniesRel
			one-to-many relation to GeneralLedgerCompany
			Field Mapping uses symbolic key
			Instance Selection
				where (related.RequireHSNSACCode
				and    related.FinanceEnterpriseGroup = FinanceEnterpriseGroup
				and    related.BusinessGroup		  = BusinessGroup)

	Field Rules
		Description
			required

		FinanceEnterpriseGroup
			required

		LegacyItemGroup
			cannot be changed

		LegacyVendorGroup
			cannot be changed

		LegacyProcurementGroup
			cannot be changed

		UseHSNSACCode
			if (GeneralLedgerCompaniesRel exists)
				cannot be changed
					"CannotUncheck,HSN_/SACCodeIsSetAtGlobalLedgerCompany"

	Actions
		Create is a Create Action

		Update is an Update Action

		Delete is a Delete Action

