PayablesInvoiceAddOnChargeHistory is a BusinessClass
    owned by ma
    prefix is MMH
    sql name is PInvoiceAddOnChargeHistory
    classic name is MAMAAHIST

    Ontology
        symbolic key is PayablesInvoiceAddOnChargeHistory
            classic set name is MMHSET0
            sql name is PInvoiceAddOnChargeHistory
            classic name is SEQ-NBR

            classic name for PurchaseOrderLine is LINE-NBR
            classic name for AddOnCharge is AOC-CODE

    Patterns
        implements StaticJava
        disable AuditIndex
        implements Archivable

    Persistent Fields
    	Vendor						is a snapshot of PayablesInvoice.Vendor
    	Invoice						is a snapshot of PayablesInvoice.Invoice
    	Suffix						is a snapshot of PayablesInvoice.Suffix
    	CancelSequence				is a snapshot of PayablesInvoice.CancelSequence
        MatchDetailKey
            classic name is MATCH-DTL-KEY
        PurchaseFromLocation
            classic name is PURCH-FR-LOC
        Location                    is an InventoryLocation
        AddOnChargePercent
            classic name is AOC-RATE


        PurchaseOrderReceipt
            classic name is MA-REC-NBR
        PurchaseOrderReceiptLine    is a LineNumber
            classic name is MA-LINE-NBR
        InvoiceType					is a PayablesInvoiceType
        InvoiceVendor				is like Vendor
        MatchObjectID               is an ObjId
            classic name is MATCH-OBJ-ID
        EnteredUnitCost             is an InternationalCost
            classic name is ENT-UNIT-CST
        OriginalUnitCost            is an InternationalCost
            classic name is ORIG-UNIT-CST
        MatchUnitCost               is an InternationalCost
            classic name is MATCH-UNIT-CST
        TotalAddOnChargeAmount      is an InternationalAmount
            classic name is TOTAL-AOC
        TaxCode
        Taxable                     is Boolean
            classic name is TAXABLE-FLAG
        TaxAmount                   is an InternationalAmount
        PrintOnPO                   is Boolean
            classic name is AOC-ON-PO
        LandedAddOnCharge           is Boolean
            classic name is LANDED-FLAG
        Summarize                   is Boolean
            classic name is SUMMARY-FLAG
        ZeroCost                    is Boolean
            classic name is ZERO-COST-FLG
        Canceled                    is Boolean
            classic name is CANCELLED-FL
        Closed
            classic name is CLOSED-FL
        CreatedDuringSpread
            classic name is INV-SPRD-CRET
        Issued                      is Boolean
            classic name is ISSUED-FLAG
        InvoicedTaxAmount           is an InternationalAmount
            classic name is INVC-TAX-AMT
        AccruedTaxAmount            is an InternationalAmount
            classic name is ACCR-TAX-AMT
        TotalTaxAmount              is an InternationalAmount
            classic name is EXT-TAX-AMT
        LandedUnitCost              is an InternationalCost
            classic name is LAND-UNIT-COST
        BillingInvoiceAmount        is an InternationalAmount
            classic name is BL-INVC-AMT
        AocAlpha
        AocNum
        AddOnChargeAmount           is an InternationalAmount
            classic name is AOC-AMT
        CrossReferenceVendor
            classic name is XREF-VENDOR
        ReasonCode                  is a ProcurementReasonCode


        IrDiffAmt                   is an InternationalAmount
        EnteredQuantity             is a Quantity
            classic name is ENTERED-QTY
        MatchedQuantity             is a Quantity
            classic name is MATCHED-QTY
        DueDate                     is Date
        TotalDistributionAmount     is an InternationalAmount
            classic name is TOT-DIST-AMT
        TotalBaseAmount             is an InternationalAmount
        	default label is "TotalFunctionalAmount"
            classic name is TOT-BASE-AMT
        Status                      is Numeric size 1
        MatchSequence
            classic name is MATCH-SEQ-NBR
        DistributionDate            is Date
            classic name is DISTRIB-DATE
        UpdateDate                  is TimeStamp
        RecordSource                is a RecSource
            classic name is REC-SOURCE
        TransactionNumberOfDecimals is an AcctNd
            classic name is TRAN-ND
        TaxUsageCode
            classic name is TAX-USAGE-CD
        InvoiceLineTaxable          is Boolean
            classic name is NO-TAX-FLAG
        TaxType                     is AlphaUpper size 1
        Item
        ItemType
        Currency
            classic name is CURRENCY-CODE
        BaseCurrencyConversionRate  is an AcctRate
            classic name is ORIG-CNV-RATE
        ProductTaxCategory
            classic name is PROD-TAX-CAT

    Conditions
        HasLineStatusZero
            classic name is MATCHED
            restricted
            when (Status not entered)

    Sets
        Set2
            indexed
            Sort Order
                Company
                PurchaseOrder
                PurchaseOrderLine
                Vendor
                Invoice
                Suffix
                Contract 
                ContractLine 
                AddOnCharge
                PayablesInvoiceAddOnChargeHistory

        Set8
            indexed
            Sort Order
                Company

                PayablesInvoice
                PurchaseOrder
                Location
                MatchDetailKey
                PurchaseOrderLine
                Contract 
                ContractLine 
                AddOnCharge
                PayablesInvoiceAddOnChargeHistory

        Set9
            indexed
            Sort Order
                Company
                MatchObjectID
                MatchSequence
                Vendor
                Invoice
                Suffix
                PurchaseOrder
                PurchaseOrderLine
                Contract 
                ContractLine 
                AddOnCharge
                CancelSequence
                PayablesInvoiceAddOnChargeHistory

        Set1
            not indexed
            Sort Order
                Company
                Vendor
                Invoice
                Suffix
                PurchaseOrder
                PurchaseOrderLine
                Contract 
                ContractLine 
                AddOnCharge
                PayablesInvoiceAddOnChargeHistory

	Actions
		Create is a Create Action
			restricted		
		Update is an Update Action
			restricted		
		Delete is a Delete Action
			restricted		
			
		Purge is a Purge Action
			restricted
			bypass relational integrity rules

		UpdateSnapshotFields is an Instance Action
			restricted
			Action Rules
				Vendor				= PayablesInvoice.Vendor
				Invoice				= PayablesInvoice.Invoice
				Suffix				= PayablesInvoice.Suffix
				CancelSequence		= PayablesInvoice.CancelSequence
				

		UpdateSnapshotFieldsSet is a Set Action			
			default label is untranslatable
			restricted
			Parameters
				PrmCompany		is a MatchCompany
				PrmInvoice		is a PayablesInvoice
			Parameter Rules
				PrmCompany
				PrmInvoice
				
			Instance Selection
				where (Company 			= PrmCompany
				and    PayablesInvoice	= PrmInvoice)
				
			Action Rules
				Instance Rules
					Vendor				= PrmInvoice.Vendor
					Invoice				= PrmInvoice.Invoice
					Suffix				= PrmInvoice.Suffix
					CancelSequence		= PrmInvoice.CancelSequence		
					
					
									                
